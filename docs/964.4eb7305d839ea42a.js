(self.webpackChunkngx_face_detection=self.webpackChunkngx_face_detection||[]).push([[964],{4964:(de,Ee,Tr)=>{"use strict";Tr.r(Ee),Tr.d(Ee,{FaceDetectionPageModule:()=>fM});var ue=Tr(4810),Ge=Tr(2988),Lr=/iPhone/i,Er=/iPod/i,ce=/iPad/i,ye=/\biOS-universal(?:.+)Mac\b/i,ee=/\bAndroid(?:.+)Mobile\b/i,Ir=/Android/i,tr=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,X=/Silk/i,D=/Windows Phone/i,P=/\bWindows(?:.+)ARM\b/i,q=/BlackBerry/i,pr=/BB10/i,Br=/Opera Mini/i,Pr=/\b(CriOS|Chrome)(?:.+)Mobile/i,or=/Mobile(?:.+)Firefox\b/i,Ar=function(r){return void 0!==r&&"MacIntel"===r.platform&&"number"==typeof r.maxTouchPoints&&r.maxTouchPoints>1&&"undefined"==typeof MSStream};function wr(r){var t={userAgent:"",platform:"",maxTouchPoints:0};r||"undefined"==typeof navigator?"string"==typeof r?t.userAgent=r:r&&r.userAgent&&(t={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=t.userAgent,e=i.split("[FBAN");void 0!==e[1]&&(i=e[0]),void 0!==(e=i.split("Twitter"))[1]&&(i=e[0]);var n=function xr(r){return function(t){return t.test(r)}}(i),o={apple:{phone:n(Lr)&&!n(D),ipod:n(Er),tablet:!n(Lr)&&(n(ce)||Ar(t))&&!n(D),universal:n(ye),device:(n(Lr)||n(Er)||n(ce)||n(ye)||Ar(t))&&!n(D)},amazon:{phone:n(tr),tablet:!n(tr)&&n(X),device:n(tr)||n(X)},android:{phone:!n(D)&&n(tr)||!n(D)&&n(ee),tablet:!n(D)&&!n(tr)&&!n(ee)&&(n(X)||n(Ir)),device:!n(D)&&(n(tr)||n(X)||n(ee)||n(Ir))||n(/\bokhttp\b/i)},windows:{phone:n(D),tablet:n(P),device:n(D)||n(P)},other:{blackberry:n(q),blackberry10:n(pr),opera:n(Br),firefox:n(or),chrome:n(Pr),device:n(q)||n(pr)||n(Br)||n(or)||n(Pr)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var Ur=Tr(6139);function Vr(r,t,i,e,n,o,l){try{var v=r[o](l),c=v.value}catch(f){return void i(f)}v.done?t(c):Promise.resolve(c).then(e,n)}function jr(r){return function(){var t=this,i=arguments;return new Promise(function(e,n){var o=r.apply(t,i);function l(c){Vr(o,e,n,l,v,"next",c)}function v(c){Vr(o,e,n,l,v,"throw",c)}l(void 0)})}}var _e=Tr(7579),pe=Tr(1135),zr=Tr(8306),Xr=Tr(9646),Qr=Tr(5121),Fe=Tr(9300),dr=Tr(5698),Ae=Tr(3099),Ue=Tr(8505),ct=Tr(4482),Kt=Tr(5403),Hn=Tr(8421),Re=Tr(5032);function Kr(r){return(0,ct.e)((t,i)=>{(0,Hn.Xf)(r).subscribe(new Kt.Q(i,()=>i.complete(),Re.Z)),!i.closed&&t.subscribe(i)})}var ot=Tr(4004),$t=Tr(3900),ut=Tr(9808),sr=Tr(7587);function kt(r,t=!1){const i=r.gesture,e={horizontal:0,vertical:0};if(r.mesh){const l=r.mesh[9][2],v=r.mesh[200][2];e.horizontal=r.mesh[425][2]-r.mesh[205][2],e.vertical=v-l}return i.forEach(n=>{switch(n.match(/\d+/g)&&Number(n.match(/\d+/g)[0])>35&&(e.mouth=!0),n){case"facing center":e.facingCamera=!0;break;case"facing left":e.horizontal>20&&(t?e.facingRight=!0:e.facingLeft=!0);break;case"facing right":e.horizontal<-20&&(t?e.facingLeft=!0:e.facingRight=!0);break;case"blink right eye":t?e.blinkLeft=!0:e.blinkRight=!0;break;case"blink left eye":t?e.blinkRight=!0:e.blinkLeft=!0;break;case"head down":console.log(e.vertical),e.vertical>15&&(e.headDown=!0);break;case"head up":console.log(e.vertical),e.vertical<-15&&(e.headUp=!0)}}),e.blink=e.blinkLeft&&e.blinkRight,e}const jt=r=>{const i=!!(null==r?void 0:r.live)&&(null==r?void 0:r.live);return{backend:"webgl",modelBasePath:(null==r?void 0:r.resourcesUrl)?null==r?void 0:r.resourcesUrl:"/",cacheModels:!0,wasmPath:"human/assets/",wasmPlatformFetch:!1,debug:!!(null==r?void 0:r.debug)&&(null==r?void 0:r.debug),async:!0,warmup:"face",cacheSensitivity:.7,skipAllowed:!1,deallocate:!1,filter:{enabled:!0,equalization:!1,width:0,height:0,flip:!1,return:!0,brightness:0,contrast:0,sharpness:0,blur:0,saturation:0,hue:0,negative:!1,sepia:!1,vintage:!1,kodachrome:!1,technicolor:!1,polaroid:!1,pixelate:0},gesture:{enabled:!0},face:{enabled:!0,detector:{modelPath:"human/models/blazeface.json",rotation:!0,maxDetected:1,skipFrames:99,skipTime:2500,minConfidence:.2,iouThreshold:.1,mask:!1,return:!1},mesh:{enabled:i,modelPath:"human/models/facemesh.json"},iris:{enabled:i&&!!(null==r?void 0:r.iris)&&(null==r?void 0:r.iris),modelPath:"human/models/iris.json"},emotion:{enabled:!1,minConfidence:.1,skipFrames:99,skipTime:1500,modelPath:"human/models/emotion.json"},description:{enabled:!0,modelPath:"human/models/faceres.json",skipFrames:99,skipTime:3e3,minConfidence:.1},antispoof:{enabled:!1,skipFrames:99,skipTime:4e3,modelPath:"human/models/antispoof.json"},liveness:{enabled:!1,skipFrames:99,skipTime:4e3,modelPath:"human/models/liveness.json"}},body:{enabled:!1,modelPath:"human/models/movenet-lightning.json",maxDetected:-1,minConfidence:.3,skipFrames:1,skipTime:200},hand:{enabled:!1,rotation:!1,skipFrames:15,skipTime:1e3,minConfidence:.5,iouThreshold:.1,maxDetected:-1,landmarks:!0,detector:{modelPath:"human/models/handtrack.json"},skeleton:{modelPath:"human/models/handlandmark-full.json"}},object:{enabled:!1,modelPath:"human/models/mb3-centernet.json",minConfidence:.2,iouThreshold:.4,maxDetected:10,skipFrames:99,skipTime:2e3},segmentation:{enabled:!1,modelPath:"human/models/selfie.json",blur:8}}};function Tt(){return(Tt=jr(function*(){if(navigator.mediaDevices.enumerateDevices||navigator.mediaDevices)try{return(yield navigator.mediaDevices.enumerateDevices()).filter(t=>"videoinput"===t.kind)}catch(r){console.log(r)}return[]})).apply(this,arguments)}let lt;function vn(r){return Human&&!lt&&(lt=new Human.default(r)),lt}const It=r=>{let t=0,i=0;for(let e=0;e<r.length;e++)i+=r[e];t=i/r.length,i=0;for(let e=0;e<r.length;e++)i+=Math.pow(r[e]-t,2);return i/r.length},hn=(r,t,i,e=10,n=0)=>{const o=r.indexOf(t,n);if(o>=0){const l=r.indexOf(i,o);if(-1!==l){if(l-o<=e)return!0;if(l<r.length-1)return hn(r,t,i,e,l)}}return!1},Ft=(r,t)=>{const i=[];return r.forEach(e=>{const n=!!e[t];let o=!1;i.length>0&&(o=i[i.length-1]),o!==n&&i.push(n)}),(r=>-1!==r.indexOf(!0))(i)};function gr(r){return lr.apply(this,arguments)}function lr(){return(lr=jr(function*(r){return new Promise((t,i)=>{let e=document.body.querySelector(`script[src='${r}']`);e||(e=document.createElement("script"),e.type="text/javascript",e.src=r,document.body.appendChild(e)),e.classList.contains("load")&&t(null);const n=()=>{e.removeEventListener("load",o),e.removeEventListener("error",l)},o=()=>{e.classList.add("load"),n(),t(null)},l=v=>{n(),i(v)};e.addEventListener("load",o),e.addEventListener("error",l)})})).apply(this,arguments)}const Hr=(r,t,i,e,n)=>{const o=t.getContext("2d"),{x:l,y:v,width:c,height:f}=n;t.width=i,t.height=e;const u=i/e;let s=c,p=f;u>c/f?s=p*u:p=s/u,s*=1.3,p*=1.3;let h=l-(s-c)/2,x=v-(p-f)/2-.1*f;h=h<0?0:h,x=x<0?0:x;const b=h+s;b>r.videoWidth&&(h-=b-r.videoWidth);const S=x+p;if(S>r.videoHeight&&(x-=S-r.videoHeight),o){o.fillRect(0,0,i,e),o.imageSmoothingEnabled=!0;try{o.imageSmoothingQuality="high"}catch(y){}o.scale(-1,1),o.drawImage(r,h,x,s,p,-i,0,i,e)}return t.toDataURL("image/jpeg",.85)},oe=(r,t)=>{const i=t.getContext("2d"),e=r.videoWidth,n=r.videoHeight;return t.width=e,t.height=n,i&&(i.clearRect(0,0,e,n),i.scale(-1,1),i.drawImage(r,0,0,e,n,-e,0,e,n)),t.toDataURL("image/jpeg",.85)};function Jr(){return Jr=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(r[e]=i[e])}return r},Jr.apply(this,arguments)}var Yr={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},Sr=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(Yr)};Jr(Sr,Yr,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var en=Tr(2691);function Ie(r){return"number"==typeof r}function xe(r){return!(!r||"object"!=typeof r||"function"!=typeof r.constructor)&&(!0===r.isBigNumber&&"object"==typeof r.constructor.prototype&&!0===r.constructor.prototype.isBigNumber||"function"==typeof r.constructor.isDecimal&&!0===r.constructor.isDecimal(r))}function Bt(r){return r&&"object"==typeof r&&!0===Object.getPrototypeOf(r).isComplex||!1}function Lt(r){return r&&"object"==typeof r&&!0===Object.getPrototypeOf(r).isFraction||!1}function tn(r){return r&&!0===r.constructor.prototype.isUnit||!1}function nt(r){return"string"==typeof r}var De=Array.isArray;function fe(r){return r&&!0===r.constructor.prototype.isMatrix||!1}function dt(r){return Array.isArray(r)||fe(r)}function nn(r){return r&&r.isDenseMatrix&&!0===r.constructor.prototype.isMatrix||!1}function Rt(r){return r&&r.isSparseMatrix&&!0===r.constructor.prototype.isMatrix||!1}function dn(r){return r&&!0===r.constructor.prototype.isRange||!1}function Zt(r){return r&&!0===r.constructor.prototype.isIndex||!1}function Yn(r){return"boolean"==typeof r}function Sn(r){return r&&!0===r.constructor.prototype.isResultSet||!1}function En(r){return r&&!0===r.constructor.prototype.isHelp||!1}function Wn(r){return"function"==typeof r}function Xn(r){return r instanceof Date}function Jn(r){return r instanceof RegExp}function Qn(r){return!(!r||"object"!=typeof r||r.constructor!==Object||Bt(r)||Lt(r))}function Kn(r){return null===r}function $n(r){return void 0===r}function kn(r){return r&&!0===r.isAccessorNode&&!0===r.constructor.prototype.isNode||!1}function jn(r){return r&&!0===r.isArrayNode&&!0===r.constructor.prototype.isNode||!1}function gn(r){return r&&!0===r.isAssignmentNode&&!0===r.constructor.prototype.isNode||!1}function Pe(r){return r&&!0===r.isBlockNode&&!0===r.constructor.prototype.isNode||!1}function Xe(r){return r&&!0===r.isConditionalNode&&!0===r.constructor.prototype.isNode||!1}function g(r){return r&&!0===r.isConstantNode&&!0===r.constructor.prototype.isNode||!1}function A(r){return r&&!0===r.isFunctionAssignmentNode&&!0===r.constructor.prototype.isNode||!1}function E(r){return r&&!0===r.isFunctionNode&&!0===r.constructor.prototype.isNode||!1}function _(r){return r&&!0===r.isIndexNode&&!0===r.constructor.prototype.isNode||!1}function I(r){return r&&!0===r.isNode&&!0===r.constructor.prototype.isNode||!1}function F(r){return r&&!0===r.isObjectNode&&!0===r.constructor.prototype.isNode||!1}function H(r){return r&&!0===r.isOperatorNode&&!0===r.constructor.prototype.isNode||!1}function Q(r){return r&&!0===r.isParenthesisNode&&!0===r.constructor.prototype.isNode||!1}function nr(r){return r&&!0===r.isRangeNode&&!0===r.constructor.prototype.isNode||!1}function j(r){return r&&!0===r.isSymbolNode&&!0===r.constructor.prototype.isNode||!1}function cr(r){return r&&!0===r.constructor.prototype.isChain||!1}function fr(r){var t=typeof r;return"object"===t?null===r?"null":Array.isArray(r)?"Array":r instanceof Date?"Date":r instanceof RegExp?"RegExp":xe(r)?"BigNumber":Bt(r)?"Complex":Lt(r)?"Fraction":fe(r)?"Matrix":tn(r)?"Unit":Zt(r)?"Index":dn(r)?"Range":Sn(r)?"ResultSet":I(r)?r.type:cr(r)?"Chain":En(r)?"Help":"Object":"function"===t?"Function":t}function ur(r){var t=typeof r;if("number"===t||"string"===t||"boolean"===t||null==r)return r;if("function"==typeof r.clone)return r.clone();if(Array.isArray(r))return r.map(function(i){return ur(i)});if(r instanceof Date)return new Date(r.valueOf());if(xe(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return function te(r,t){var i={};for(var e in r)be(r,e)&&(i[e]=t(r[e]));return i}(r,ur)}function Me(r,t){for(var i in t)be(t,i)&&(r[i]=t[i]);return r}function Je(r,t){var i,e,n;if(Array.isArray(r)){if(!Array.isArray(t)||r.length!==t.length)return!1;for(e=0,n=r.length;e<n;e++)if(!Je(r[e],t[e]))return!1;return!0}if("function"==typeof r)return r===t;if(r instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(i in r)if(!(i in t)||!Je(r[i],t[i]))return!1;for(i in t)if(!(i in r))return!1;return!0}return r===t}function be(r,t){return r&&Object.hasOwnProperty.call(r,t)}function G(r,t,i,e){function n(o){var l=function Mt(r,t){for(var i={},e=0;e<t.length;e++){var n=t[e],o=r[n];void 0!==o&&(i[n]=o)}return i}(o,t.map(Wc));return function Hc(r,t,i){var e=t.filter(o=>!function Yc(r){return r&&"?"===r[0]}(o)).every(o=>void 0!==i[o]);if(!e){var n=t.filter(o=>void 0===i[o]);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(n.map(o=>'"'.concat(o,'"')).join(", "),"."))}}(r,t,o),i(l)}return n.isFactory=!0,n.fn=r,n.dependencies=t.slice().sort(),e&&(n.meta=e),n}function Wc(r){return r&&"?"===r[0]?r.slice(1):r}var Qc=G("BigNumber",["?on","config"],r=>{var{on:t,config:i}=r,e=en.clone({precision:i.precision,modulo:en.EUCLID});return e.prototype=Object.create(e.prototype),e.prototype.type="BigNumber",e.prototype.isBigNumber=!0,e.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},e.fromJSON=function(n){return new e(n.value)},t&&t("config",function(n,o){n.precision!==o.precision&&e.config({precision:n.precision})}),e},{isClass:!0}),yt=Tr(1006);function $r(r){return"boolean"==typeof r||!!isFinite(r)&&r===Math.round(r)}Math,Math,Math,Math,Math,Math;function Vi(r,t,i){var n={2:"0b",8:"0o",16:"0x"}[t],o="";if(i){if(i<1)throw new Error("size must be in greater than 0");if(!$r(i))throw new Error("size must be an integer");if(r>2**(i-1)-1||r<-(2**(i-1)))throw new Error("Value must be in range [-2^".concat(i-1,", 2^").concat(i-1,"-1]"));if(!$r(r))throw new Error("Value must be an integer");r<0&&(r+=2**i),o="i".concat(i)}var l="";return r<0&&(r=-r,l="-"),"".concat(l).concat(n).concat(r.toString(t)).concat(o)}function xn(r,t){if("function"==typeof t)return t(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var e,n,i="auto";if(t&&(t.notation&&(i=t.notation),Ie(t)?e=t:Ie(t.precision)&&(e=t.precision),t.wordSize&&"number"!=typeof(n=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return Ea(r,e);case"exponential":return _a(r,e);case"engineering":return function rl(r,t){if(isNaN(r)||!isFinite(r))return String(r);var e=xi(bi(r),t),n=e.exponent,o=e.coefficients,l=n%3==0?n:n<0?n-3-n%3:n-n%3;if(Ie(t))for(;t>o.length||n-l+1>o.length;)o.push(0);else for(var v=Math.abs(n-l)-(o.length-1),c=0;c<v;c++)o.push(0);for(var f=Math.abs(n-l),u=1;f>0;)u++,f--;var a=o.slice(u).join(""),s=Ie(t)&&a.length||a.match(/[1-9]/)?"."+a:"",p=o.slice(0,u).join("")+s+"e"+(n>=0?"+":"")+l.toString();return e.sign+p}(r,e);case"bin":return Vi(r,2,n);case"oct":return Vi(r,8,n);case"hex":return Vi(r,16,n);case"auto":return function el(r,t,i){if(isNaN(r)||!isFinite(r))return String(r);var e=i&&void 0!==i.lowerExp?i.lowerExp:-3,n=i&&void 0!==i.upperExp?i.upperExp:5,o=bi(r),l=t?xi(o,t):o;if(l.exponent<e||l.exponent>=n)return _a(r,t);var v=l.coefficients,c=l.exponent;v.length<t&&(v=v.concat(Bn(t-v.length))),v=v.concat(Bn(c-v.length+1+(v.length<t?t-v.length:0)));var f=c>0?c:0;return f<(v=Bn(-c).concat(v)).length-1&&v.splice(f+1,0,"."),l.sign+v.join("")}(r,e,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],l=arguments[4];return"."!==o?o+l:l});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function bi(r){var t=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+r);var i=t[1],e=t[2],n=parseFloat(t[4]||"0"),o=e.indexOf(".");n+=-1!==o?o-1:e.length-1;var l=e.replace(".","").replace(/^0*/,function(v){return n-=v.length,""}).replace(/0*$/,"").split("").map(function(v){return parseInt(v)});return 0===l.length&&(l.push(0),n++),{sign:i,coefficients:l,exponent:n}}function Ea(r,t){if(isNaN(r)||!isFinite(r))return String(r);var i=bi(r),e="number"==typeof t?xi(i,i.exponent+1+t):i,n=e.coefficients,o=e.exponent+1,l=o+(t||0);return n.length<l&&(n=n.concat(Bn(l-n.length))),o<0&&(n=Bn(1-o).concat(n),o=1),o<n.length&&n.splice(o,0,0===o?"0.":"."),e.sign+n.join("")}function _a(r,t){if(isNaN(r)||!isFinite(r))return String(r);var i=bi(r),e=t?xi(i,t):i,n=e.coefficients,o=e.exponent;n.length<t&&(n=n.concat(Bn(t-n.length)));var l=n.shift();return e.sign+l+(n.length>0?"."+n.join(""):"")+"e"+(o>=0?"+":"")+o}function xi(r,t){for(var i={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},e=i.coefficients;t<=0;)e.unshift(0),i.exponent++,t++;if(e.length>t&&e.splice(t,e.length-t)[0]>=5){var o=t-1;for(e[o]++;10===e[o];)e.pop(),0===o&&(e.unshift(0),i.exponent++,o++),e[--o]++}return i}function Bn(r){for(var t=[],i=0;i<r;i++)t.push(0);return t}var nl=Number.EPSILON||2220446049250313e-31;function Nt(r,t,i){if(null==i)return r===t;if(r===t)return!0;if(isNaN(r)||isNaN(t))return!1;if(isFinite(r)&&isFinite(t)){var e=Math.abs(r-t);return e<nl||e<=Math.max(Math.abs(r),Math.abs(t))*i}return!1}Math,Math,Math,Math,Math;var cl=(Math,G("Complex",[],()=>(yt.prototype.type="Complex",yt.prototype.isComplex=!0,yt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},yt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},yt.prototype.format=function(r){var i=this.im,e=this.re,n=xn(this.re,r),o=xn(this.im,r),l=Ie(r)?r:r?r.precision:null;if(null!==l){var v=Math.pow(10,-l);Math.abs(e/i)<v&&(e=0),Math.abs(i/e)<v&&(i=0)}return 0===i?n:0===e?1===i?"i":-1===i?"-i":o+"i":i<0?-1===i?n+" - i":n+" - "+o.substring(1)+"i":1===i?n+" + i":n+" + "+o+"i"},yt.fromPolar=function(r){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return yt(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var i=arguments[0],e=arguments[1];if(Ie(i)){if(tn(e)&&e.hasBase("ANGLE")&&(e=e.toNumber("rad")),Ie(e))return new yt({r:i,phi:e});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},yt.prototype.valueOf=yt.prototype.toString,yt.fromJSON=function(r){return new yt(r)},yt.compare=function(r,t){return r.re>t.re?1:r.re<t.re?-1:r.im>t.im?1:r.im<t.im?-1:0},yt),{isClass:!0}));function vl(r){var t=0,i=1,e=Object.create(null),n=Object.create(null),o=0,l=function(c){var f=n[c];if(f&&(delete e[f],delete n[c],--t,i===f)){if(!t)return o=0,void(i=1);for(;!hasOwnProperty.call(e,++i););}};return r=Math.abs(r),{hit:function(c){var f=n[c],u=++o;if(e[u]=c,n[c]=u,!f)return++t<=r?void 0:(l(c=e[i]),c);if(delete e[f],i===f)for(;!hasOwnProperty.call(e,++i););},delete:l,clear:function(){t=o=0,i=1,e=Object.create(null),n=Object.create(null)}}}function ei(r){var{hasher:t,limit:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i=null==i?Number.POSITIVE_INFINITY:i,t=null==t?JSON.stringify:t,function e(){"object"!=typeof e.cache&&(e.cache={values:new Map,lru:vl(i||Number.POSITIVE_INFINITY)});for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var l=t(n);if(e.cache.values.has(l))return e.cache.lru.hit(l),e.cache.values.get(l);var v=r.apply(r,n);return e.cache.values.set(l,v),e.cache.values.delete(e.cache.lru.hit(l)),v}}ei(function(r){return new r(1).exp()},{hasher:wi}),ei(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:wi});var Yi=ei(function(r){return r.acos(-1)},{hasher:wi});function wi(r){return r[0].precision}function Mi(r,t){return G(r,["config","BigNumber"],e=>{var{config:n,BigNumber:o}=e;return"BigNumber"===n.number?new o(t):t})}ei(function(r){return Yi(r).times(2)},{hasher:wi}),Math,Math,Math,Mi("fineStructure",.0072973525693),Mi("weakMixingAngle",.2229),Mi("efimovFactor",22.7),Mi("sackurTetrode",-1.16487052358);var On=Tr(4613),Rv=G("Fraction",[],()=>(On.prototype.type="Fraction",On.prototype.isFraction=!0,On.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},On.fromJSON=function(r){return new On(r)},On),{isClass:!0}),zv=G("Matrix",[],()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(t,i){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(t,i,e){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(t,i,e){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(t,i){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(t,i){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(t,i){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function Wi(r,t,i){var n=new(0,r.constructor)(2),o="";if(i){if(i<1)throw new Error("size must be in greater than 0");if(!$r(i))throw new Error("size must be an integer");if(r.greaterThan(n.pow(i-1).sub(1))||r.lessThan(n.pow(i-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(i-1,", 2^").concat(i-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(n.pow(i))),o="i".concat(i)}switch(t){case 2:return"".concat(r.toBinary()).concat(o);case 8:return"".concat(r.toOctal()).concat(o);case 16:return"".concat(r.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(t," not supported "))}}function Ca(r,t){return void 0!==t?r.toExponential(t-1):r.toExponential()}function Ne(r,t){return"number"==typeof r?xn(r,t):xe(r)?function Yv(r,t){if("function"==typeof t)return t(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var e,n,i="auto";if(void 0!==t&&(t.notation&&(i=t.notation),"number"==typeof t?e=t:t.precision&&(e=t.precision),t.wordSize&&"number"!=typeof(n=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return function Xv(r,t){return r.toFixed(t)}(r,e);case"exponential":return Ca(r,e);case"engineering":return function Wv(r,t){var i=r.e,e=i%3==0?i:i<0?i-3-i%3:i-i%3,n=r.mul(Math.pow(10,-e)),o=n.toPrecision(t);return-1!==o.indexOf("e")&&(o=n.toString()),o+"e"+(i>=0?"+":"")+e.toString()}(r,e);case"bin":return Wi(r,2,n);case"oct":return Wi(r,8,n);case"hex":return Wi(r,16,n);case"auto":var o=t&&void 0!==t.lowerExp?t.lowerExp:-3,l=t&&void 0!==t.upperExp?t.upperExp:5;if(r.isZero())return"0";var c=r.toSignificantDigits(e),f=c.e;return(f>=o&&f<l?c.toFixed():Ca(r,e)).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],a=arguments[4];return"."!==u?u+a:a});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(r,t):function Qv(r){return r&&"object"==typeof r&&"number"==typeof r.s&&"number"==typeof r.n&&"number"==typeof r.d||!1}(r)?t&&"decimal"===t.fraction?r.toString():r.s*r.n+"/"+r.d:Array.isArray(r)?Da(r,t):nt(r)?'"'+r+'"':"function"==typeof r?r.syntax?String(r.syntax):"function":r&&"object"==typeof r?"function"==typeof r.format?r.format(t):r&&r.toString(t)!=={}.toString()?r.toString(t):"{"+Object.keys(r).map(e=>'"'+e+'": '+Ne(r[e],t)).join(", ")+"}":String(r)}function Da(r,t){if(Array.isArray(r)){for(var i="[",e=r.length,n=0;n<e;n++)0!==n&&(i+=", "),i+=Da(r[n],t);return i+"]"}return Ne(r,t)}function ge(r,t,i){if(!(this instanceof ge))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=t,this.relation=i,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function Gt(r,t,i){if(!(this instanceof Gt))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=i),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function Be(r){for(var t=[];Array.isArray(r);)t.push(r.length),r=r[0];return t}function Ta(r,t,i){var e,n=r.length;if(n!==t[i])throw new ge(n,t[i]);if(i<t.length-1){var o=i+1;for(e=0;e<n;e++){if(!Array.isArray(r[e]))throw new ge(t.length-1,t.length,"<");Ta(r[e],t,o)}}else for(e=0;e<n;e++)if(Array.isArray(r[e]))throw new ge(t.length+1,t.length,">")}function Ia(r,t){if(0===t.length){if(Array.isArray(r))throw new ge(r.length,0)}else Ta(r,t,0)}function ze(r,t){if(!Ie(r)||!$r(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||"number"==typeof t&&r>=t)throw new Gt(r,t)}function Dn(r,t,i){if(!Array.isArray(r)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(n){if(!Ie(n)||!$r(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ne(t)+")")}),Xi(r,t,0,void 0!==i?i:0),r}function Xi(r,t,i,e){var n,o,v=t[i],c=Math.min(r.length,v);if(r.length=v,i<t.length-1){var f=i+1;for(n=0;n<c;n++)o=r[n],Array.isArray(o)||(r[n]=o=[o]),Xi(o,t,f,e);for(n=c;n<v;n++)r[n]=o=[],Xi(o,t,f,e)}else{for(n=0;n<c;n++)for(;Array.isArray(r[n]);)r[n]=r[n][0];for(n=c;n<v;n++)r[n]=e}}function Fa(r,t){var i=function Se(r){if(!Array.isArray(r))return r;var t=[];return r.forEach(function i(e){Array.isArray(e)?e.forEach(i):t.push(e)}),t}(r),e=i.length;if(!Array.isArray(r)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new ge(0,e,"!=");var n=Ra(t=Ji(t,e));if(e!==n)throw new ge(n,e,"!=");try{return function Kv(r,t){for(var e,i=r,n=t.length-1;n>0;n--){var o=t[n];e=[];for(var l=i.length/o,v=0;v<l;v++)e.push(i.slice(v*o,(v+1)*o));i=e}return i}(i,t)}catch(o){throw o instanceof ge?new ge(n,e,"!="):o}}function Ji(r,t){var i=Ra(r),e=r.slice(),o=r.indexOf(-1);if(r.indexOf(-1,o+1)>=0)throw new Error("More than one wildcard in sizes");if(o>=0){if(t%i!=0)throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-i);e[o]=-t/i}return e}function Ra(r){return r.reduce((t,i)=>t*i,1)}function Pa(r,t,i,e){var n=e||Be(r);if(i)for(var o=0;o<i;o++)r=[r],n.unshift(1);for(r=za(r,t,0);n.length<t;)n.push(1);return r}function za(r,t,i){var e,n;if(Array.isArray(r)){var o=i+1;for(e=0,n=r.length;e<n;e++)r[e]=za(r[e],t,o)}else for(var l=i;l<t;l++)r=[r];return r}function ti(r,t){for(var i,e=0,n=0;n<r.length;n++){var o=r[n],l=Array.isArray(o);if(0===n&&l&&(e=o.length),l&&o.length!==e)return;var v=l?ti(o,t):t(o);if(void 0===i)i=v;else if(i!==v)return"mixed"}return i}(ge.prototype=new RangeError).constructor=RangeError,ge.prototype.name="DimensionError",ge.prototype.isDimensionError=!0,(Gt.prototype=new RangeError).constructor=RangeError,Gt.prototype.name="IndexError",Gt.prototype.isIndexError=!0;var em=G("DenseMatrix",["Matrix"],r=>{var{Matrix:t}=r;function i(u,a){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!nt(a))throw new Error("Invalid datatype: "+a);if(fe(u))"DenseMatrix"===u.type?(this._data=ur(u._data),this._size=ur(u._size),this._datatype=a||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=a||u._datatype);else if(u&&De(u.data)&&De(u.size))this._data=u.data,this._size=u.size,Ia(this._data,this._size),this._datatype=a||u.datatype;else if(De(u))this._data=f(u),this._size=Be(this._data),Ia(this._data,this._size),this._datatype=a;else{if(u)throw new TypeError("Unsupported type of data ("+fr(u)+")");this._data=[],this._size=[0],this._datatype=a}}function e(u,a){if(!Zt(a))throw new TypeError("Invalid index");if(a.isScalar())return u.get(a.min());var p=a.size();if(p.length!==u._size.length)throw new ge(p.length,u._size.length);for(var m=a.min(),h=a.max(),x=0,b=u._size.length;x<b;x++)ze(m[x],u._size[x]),ze(h[x],u._size[x]);return new i(n(u._data,a,p.length,0),u._datatype)}function n(u,a,s,p){var m=p===s-1,h=a.dimension(p);return m?h.map(function(x){return ze(x,u.length),u[x]}).valueOf():h.map(function(x){return ze(x,u.length),n(u[x],a,s,p+1)}).valueOf()}function o(u,a,s,p){if(!a||!0!==a.isIndex)throw new TypeError("Invalid index");var x,m=a.size(),h=a.isScalar();if(fe(s)?(x=s.size(),s=s.valueOf()):x=Be(s),h){if(0!==x.length)throw new TypeError("Scalar expected");u.set(a.min(),s,p)}else{if(m.length<u._size.length)throw new ge(m.length,u._size.length,"<");if(x.length<m.length){for(var b=0,S=0;1===m[b]&&1===x[b];)b++;for(;1===m[b];)S++,b++;s=Pa(s,m.length,S,x)}if(!Je(m,x))throw new ge(m,x,">");c(u,a.max().map(function(d){return d+1}),p),l(u._data,a,s,m.length,0)}return u}function l(u,a,s,p,m){var h=m===p-1;a.dimension(m).forEach(h?function(b,S){ze(b),u[b]=s[S[0]]}:function(b,S){ze(b),l(u[b],a,s[S[0]],p,m+1)})}function v(u,a,s){if(0===a.length){for(var p=u._data;De(p);)p=p[0];return p}return u._size=a.slice(0),u._data=Dn(u._data,u._size,s),u}function c(u,a,s){for(var p=u._size.slice(0),m=!1;p.length<a.length;)p.push(0),m=!0;for(var h=0,x=a.length;h<x;h++)a[h]>p[h]&&(p[h]=a[h],m=!0);m&&v(u,p,s)}function f(u){for(var a=0,s=u.length;a<s;a++){var p=u[a];De(p)?u[a]=f(p):p&&!0===p.isMatrix&&(u[a]=f(p.valueOf()))}return u}return(i.prototype=new t).createDenseMatrix=function(u,a){return new i(u,a)},i.prototype.type="DenseMatrix",i.prototype.isDenseMatrix=!0,i.prototype.getDataType=function(){return ti(this._data,fr)},i.prototype.storage=function(){return"dense"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(u,a){return new i(u,a)},i.prototype.subset=function(u,a,s){switch(arguments.length){case 1:return e(this,u);case 2:case 3:return o(this,u,a,s);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(u){if(!De(u))throw new TypeError("Array expected");if(u.length!==this._size.length)throw new ge(u.length,this._size.length);for(var a=0;a<u.length;a++)ze(u[a],this._size[a]);for(var s=this._data,p=0,m=u.length;p<m;p++){var h=u[p];ze(h,s.length),s=s[h]}return s},i.prototype.set=function(u,a,s){if(!De(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new ge(u.length,this._size.length,"<");var p,m,h;c(this,u.map(function(S){return S+1}),s);var b=this._data;for(p=0,m=u.length-1;p<m;p++)ze(h=u[p],b.length),b=b[h];return ze(h=u[u.length-1],b.length),b[h]=a,this},i.prototype.resize=function(u,a,s){if(!dt(u))throw new TypeError("Array or Matrix expected");var p=u.valueOf().map(h=>Array.isArray(h)&&1===h.length?h[0]:h);return v(s?this.clone():this,p,a)},i.prototype.reshape=function(u,a){var s=a?this.clone():this;s._data=Fa(s._data,u);var p=s._size.reduce((m,h)=>m*h);return s._size=Ji(u,p),s},i.prototype.clone=function(){return new i({data:ur(this._data),size:ur(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(u){var a=this,p=function h(x,b){return De(x)?x.map(function(S,y){return h(S,b.concat(y))}):u(x,b,a)}(this._data,[]);return new i(p,void 0!==this._datatype?ti(p,fr):void 0)},i.prototype.forEach=function(u){var a=this;!function p(m,h){De(m)?m.forEach(function(x,b){p(x,h.concat(b))}):u(m,h,a)}(this._data,[])},i.prototype[Symbol.iterator]=function*(){yield*function*a(s,p){if(De(s))for(var m=0;m<s.length;m++)yield*a(s[m],p.concat(m));else yield{value:s,index:p}}(this._data,[])},i.prototype.rows=function(){var u=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var s=this._data;for(var p of s)u.push(new i([p],this._datatype));return u},i.prototype.columns=function(){var u=this,a=[],s=this.size();if(2!==s.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,m=function(b){var S=p.map(y=>[y[b]]);a.push(new i(S,u._datatype))},h=0;h<s[1];h++)m(h);return a},i.prototype.toArray=function(){return ur(this._data)},i.prototype.valueOf=function(){return this._data},i.prototype.format=function(u){return Ne(this._data,u)},i.prototype.toString=function(){return Ne(this._data)},i.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(u){if(u){if(xe(u)&&(u=u.toNumber()),!Ie(u)||!$r(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var a=u>0?u:0,s=u<0?-u:0,h=Math.min(this._size[0]-s,this._size[1]-a),x=[],b=0;b<h;b++)x[b]=this._data[b+s][b+a];return new i({data:x,size:[h],datatype:this._datatype})},i.diagonal=function(u,a,s,p){if(!De(u))throw new TypeError("Array expected, size parameter");if(2!==u.length)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(B){if(xe(B)&&(B=B.toNumber()),!Ie(B)||!$r(B)||B<1)throw new Error("Size values must be positive integers");return B}),s){if(xe(s)&&(s=s.toNumber()),!Ie(s)||!$r(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var y,m=s>0?s:0,h=s<0?-s:0,x=u[0],b=u[1],S=Math.min(x-h,b-m);if(De(a)){if(a.length!==S)throw new Error("Invalid value array length");y=function(O){return a[O]}}else if(fe(a)){var w=a.size();if(1!==w.length||w[0]!==S)throw new Error("Invalid matrix length");y=function(O){return a.get([O])}}else y=function(){return a};p||(p=xe(y(0))?y(0).mul(0):0);var N=[];if(u.length>0){N=Dn(N,u,p);for(var d=0;d<S;d++)N[d+h][d+m]=y(d)}return new i({data:N,size:[x,b]})},i.fromJSON=function(u){return new i(u)},i.prototype.swapRows=function(u,a){if(!(Ie(u)&&$r(u)&&Ie(a)&&$r(a)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return ze(u,this._size[0]),ze(a,this._size[0]),i._swapRows(u,a,this._data),this},i._swapRows=function(u,a,s){var p=s[u];s[u]=s[a],s[a]=p},i},{isClass:!0}),La=Tr(1977);function Za(r,t){if(Ya(r)&&Va(r,t))return r[t];throw"function"==typeof r[t]&&function Ha(r,t){return!(null==r||"function"!=typeof r[t]||be(r,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(r)||!be(um,t)&&(t in Object.prototype||t in Function.prototype))}(r,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Va(r,t){return!(!r||"object"!=typeof r||!be(om,t)&&(t in Object.prototype||t in Function.prototype))}function Ya(r){return"object"==typeof r&&r&&r.constructor===Object}var om={length:!0,name:!0},um={toString:!0,valueOf:!0,toLocaleString:!0};function Ki(r){return!!r&&(r instanceof Map||r instanceof class Qi{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return Za(this.wrappedObject,t)}set(t,i){return function Ga(r,t,i){if(Ya(r)&&Va(r,t))return r[t]=i,i;throw new Error('No access to property "'+t+'"')}(this.wrappedObject,t,i),this}has(t){return function am(r,t){return t in r}(this.wrappedObject,t)}}||"function"==typeof r.set&&"function"==typeof r.get&&"function"==typeof r.keys&&"function"==typeof r.has)}var Wa=function(){return Wa=La.create,La},cm=G("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(t){var{BigNumber:i,Complex:e,DenseMatrix:n,Fraction:o}=t,l=Wa();return l.types=[{name:"number",test:Ie},{name:"Complex",test:Bt},{name:"BigNumber",test:xe},{name:"Fraction",test:Lt},{name:"Unit",test:tn},{name:"string",test:nt},{name:"Chain",test:cr},{name:"Array",test:De},{name:"Matrix",test:fe},{name:"DenseMatrix",test:nn},{name:"SparseMatrix",test:Rt},{name:"Range",test:dn},{name:"Index",test:Zt},{name:"boolean",test:Yn},{name:"ResultSet",test:Sn},{name:"Help",test:En},{name:"function",test:Wn},{name:"Date",test:Xn},{name:"RegExp",test:Jn},{name:"null",test:Kn},{name:"undefined",test:$n},{name:"AccessorNode",test:kn},{name:"ArrayNode",test:jn},{name:"AssignmentNode",test:gn},{name:"BlockNode",test:Pe},{name:"ConditionalNode",test:Xe},{name:"ConstantNode",test:g},{name:"FunctionNode",test:E},{name:"FunctionAssignmentNode",test:A},{name:"IndexNode",test:_},{name:"Node",test:I},{name:"ObjectNode",test:F},{name:"OperatorNode",test:H},{name:"ParenthesisNode",test:Q},{name:"RangeNode",test:nr},{name:"SymbolNode",test:j},{name:"Map",test:Ki},{name:"Object",test:Qn}],l.conversions=[{from:"number",to:"BigNumber",convert:function(c){if(i||$i(c),function tl(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new i(c)}},{from:"number",to:"Complex",convert:function(c){return e||Si(c),new e(c,0)}},{from:"number",to:"string",convert:function(c){return c+""}},{from:"BigNumber",to:"Complex",convert:function(c){return e||Si(c),new e(c.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return e||Si(c),new e(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){o||ki(c);var f=new o(c);if(f.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return f}},{from:"string",to:"number",convert:function(c){var f=Number(c);if(isNaN(f))throw new Error('Cannot convert "'+c+'" to a number');return f}},{from:"string",to:"BigNumber",convert:function(c){i||$i(c);try{return new i(c)}catch(f){throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(c){o||ki(c);try{return new o(c)}catch(f){throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){e||Si(c);try{return new e(c)}catch(f){throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return i||$i(c),new i(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return o||ki(c),new o(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return n||function lm(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}],l});function $i(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Si(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function ki(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}function Vt(r,t){fe(r)&&(r=r.valueOf());for(var i=0,e=r.length;i<e;i++){var n=r[i];Array.isArray(n)?Vt(n,t):t(n)}}function Wr(r,t,i){return r&&"function"==typeof r.map?r.map(function(e){return Wr(e,t,i)}):t(r)}var rt="number",Ut="number, number";function Ja(r){return Math.abs(r)}function Qa(r,t){return r+t}function Ka(r,t){return r*t}function $a(r){return-r}Ja.signature=rt,Qa.signature=Ut,Ka.signature=Ut,$a.signature=rt;var Nm=G("abs",["typed"],r=>{var{typed:t}=r;return t("abs",{number:Ja,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return Wr(e,this,!0)},Unit:function(e){return e.abs()}})});var Fo="addScalar",Zm=G(Fo,["typed"],r=>{var{typed:t}=r;return t(Fo,{"number, number":Qa,"Complex, Complex":function(e,n){return e.add(n)},"BigNumber, BigNumber":function(e,n){return e.plus(n)},"Fraction, Fraction":function(e,n){return e.add(n)},"Unit, Unit":function(e,n){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==n.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(n))throw new Error("Units do not match");var o=e.clone();return o.value=this(o.value,n.value),o.fixPrefix=!1,o}})}),th=G("bignumber",["typed","BigNumber"],r=>{var{typed:t,BigNumber:i}=r;return t("bignumber",{"":function(){return new i(0)},number:function(n){return new i(n+"")},string:function(n){var o=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var l=o[2],v=i(o[1]),c=new i(2).pow(Number(l));if(v.gt(c.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var f=new i(2).pow(Number(l)-1);return v.gte(f)?v.sub(c):v}return new i(n)},BigNumber:function(n){return n},Fraction:function(n){return new i(n.n).div(n.d).times(n.s)},null:function(n){return new i(0)},"Array | Matrix":function(n){return Wr(n,this)}})});var wh=G("conj",["typed"],r=>{var{typed:t}=r;return t("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return Wr(e,this)}})});function zt(r,t,i){if(null==i)return r.eq(t);if(r.eq(t))return!0;if(r.isNaN()||t.isNaN())return!1;if(r.isFinite()&&t.isFinite()){var e=r.minus(t).abs();if(e.isZero())return!0;var n=r.constructor.max(r.abs(),t.abs());return e.lte(n.times(i))}return!1}var Oi="equalScalar",Th=G(Oi,["typed","config"],r=>{var{typed:t,config:i}=r;return t(Oi,{"boolean, boolean":function(n,o){return n===o},"number, number":function(n,o){return Nt(n,o,i.epsilon)},"BigNumber, BigNumber":function(n,o){return n.eq(o)||zt(n,o,i.epsilon)},"Fraction, Fraction":function(n,o){return n.equals(o)},"Complex, Complex":function(n,o){return function Ch(r,t,i){return Nt(r.re,t.re,i)&&Nt(r.im,t.im,i)}(n,o,i.epsilon)},"Unit, Unit":function(n,o){if(!n.equalBase(o))throw new Error("Cannot compare units with different base");return this(n.value,o.value)}})});G(Oi,["typed","config"],r=>{var{typed:t,config:i}=r;return t(Oi,{"number, number":function(n,o){return Nt(n,o,i.epsilon)}})}),Math.pow(2,53),G("hex",["typed","format"],r=>{var{typed:t,format:i}=r;return t("hex",{"number | BigNumber":function(n){return i(n,{notation:"hex"})},"number | BigNumber, number":function(n,o){return i(n,{notation:"hex",wordSize:o})}})});var cu="isInteger",ip=G(cu,["typed"],r=>{var{typed:t}=r;return t(cu,{number:$r,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return Wr(e,this)}})}),oi="number";function hu(r){return Number.isNaN(r)}hu.signature=oi;var wp=G("multiplyScalar",["typed"],r=>{var{typed:t}=r;return t("multiplyScalar",{"number, number":Ka,"Complex, Complex":function(e,n){return e.mul(n)},"BigNumber, BigNumber":function(e,n){return e.times(n)},"Fraction, Fraction":function(e,n){return e.mul(n)},"number | Fraction | BigNumber | Complex, Unit":function(e,n){var o=n.clone();return o.value=null===o.value?o._normalize(e):this(o.value,e),o},"Unit, number | Fraction | BigNumber | Complex":function(e,n){var o=e.clone();return o.value=null===o.value?o._normalize(n):this(o.value,n),o},"Unit, Unit":function(e,n){return e.multiply(n)}})});var Op=G("number",["typed"],r=>{var{typed:t}=r,i=t("number",{"":function(){return 0},number:function(n){return n},string:function(n){if("NaN"===n)return NaN;var o=function _p(r){var t=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return t?{input:r,radix:{"0b":2,"0o":8,"0x":16}[t[1]],integerPart:t[2],fractionalPart:t[3]}:null}(n);if(o)return function Bp(r){for(var t=parseInt(r.integerPart,r.radix),i=0,e=0;e<r.fractionalPart.length;e++)i+=parseInt(r.fractionalPart[e],r.radix)/Math.pow(r.radix,e+1);var o=t+i;if(isNaN(o))throw new SyntaxError('String "'+r.input+'" is no valid number');return o}(o);var l=0,v=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);v&&(l=Number(v[2]),n=v[1]);var c=Number(n);if(isNaN(c))throw new SyntaxError('String "'+n+'" is no valid number');if(v){if(c>2**l-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));c>=2**(l-1)&&(c-=2**l)}return c},BigNumber:function(n){return n.toNumber()},Fraction:function(n){return n.valueOf()},Unit:function(n){throw new Error("Second argument with valueless unit expected")},null:function(n){return 0},"Unit, string | Unit":function(n,o){return n.toNumber(o)},"Array | Matrix":function(n){return Wr(n,this)}});return i.fromJSON=function(e){return parseFloat(e.value)},i});G("oct",["typed","format"],r=>{var{typed:t,format:i}=r;return t("oct",{"number | BigNumber":function(n){return i(n,{notation:"oct"})},"number | BigNumber, number":function(n,o){return i(n,{notation:"oct",wordSize:o})}})}),Tr(340);Date.now();var Qp=G("SparseMatrix",["typed","equalScalar","Matrix"],r=>{var{typed:t,equalScalar:i,Matrix:e}=r;function n(h,x){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(x&&!nt(x))throw new Error("Invalid datatype: "+x);if(fe(h))!function o(h,x,b){"SparseMatrix"===x.type?(h._values=x._values?ur(x._values):void 0,h._index=ur(x._index),h._ptr=ur(x._ptr),h._size=ur(x._size),h._datatype=b||x._datatype):l(h,x.valueOf(),b||x._datatype)}(this,h,x);else if(h&&De(h.index)&&De(h.ptr)&&De(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=x||h.datatype;else if(De(h))l(this,h,x);else{if(h)throw new TypeError("Unsupported type of data ("+fr(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=x}}function l(h,x,b){h._values=[],h._index=[],h._ptr=[],h._datatype=b;var S=x.length,y=0,w=i,N=0;if(nt(b)&&(w=t.find(i,[b,b])||i,N=t.convert(0,b)),S>0){var d=0;do{h._ptr.push(h._index.length);for(var B=0;B<S;B++){var O=x[B];if(De(O)){if(0===d&&y<O.length&&(y=O.length),d<O.length){var T=O[d];w(T,N)||(h._values.push(T),h._index.push(B))}}else 0===d&&y<1&&(y=1),w(O,N)||(h._values.push(O),h._index.push(B))}d++}while(d<y)}h._ptr.push(h._index.length),h._size=[S,y]}function v(h,x){if(!Zt(x))throw new TypeError("Invalid index");if(x.isScalar())return h.get(x.min());var S=x.size();if(S.length!==h._size.length)throw new ge(S.length,h._size.length);var y,w,N,d,B=x.min(),O=x.max();for(y=0,w=h._size.length;y<w;y++)ze(B[y],h._size[y]),ze(O[y],h._size[y]);var T=h._values,M=h._index,z=h._ptr,U=x.dimension(0),Z=x.dimension(1),V=[],$=[];U.forEach(function(C,J){$[C]=J[0],V[C]=!0});var W=T?[]:void 0,R=[],er=[];return Z.forEach(function(C){for(er.push(R.length),N=z[C],d=z[C+1];N<d;N++)!0===V[y=M[N]]&&(R.push($[y]),W&&W.push(T[N]))}),er.push(R.length),new n({values:W,index:R,ptr:er,size:S,datatype:h._datatype})}function c(h,x,b,S){if(!x||!0!==x.isIndex)throw new TypeError("Invalid index");var N,y=x.size(),w=x.isScalar();if(fe(b)?(N=b.size(),b=b.toArray()):N=Be(b),w){if(0!==N.length)throw new TypeError("Scalar expected");h.set(x.min(),b,S)}else{if(1!==y.length&&2!==y.length)throw new ge(y.length,h._size.length,"<");if(N.length<y.length){for(var d=0,B=0;1===y[d]&&1===N[d];)d++;for(;1===y[d];)B++,d++;b=Pa(b,y.length,B,N)}if(!Je(y,N))throw new ge(y,N,">");if(1===y.length)x.dimension(0).forEach(function(z,U){ze(z),h.set([z,0],b[U[0]],S)});else{var T=x.dimension(0),M=x.dimension(1);T.forEach(function(z,U){ze(z),M.forEach(function(Z,V){ze(Z),h.set([z,Z],b[U[0]][V[0]],S)})})}}return h}function f(h,x,b,S){if(b-x==0)return b;for(var y=x;y<b;y++)if(S[y]===h)return y;return x}function a(h,x,b,S,y,w,N){y.splice(h,0,S),w.splice(h,0,x);for(var d=b+1;d<N.length;d++)N[d]++}function s(h,x,b,S){var y=S||0,w=i,N=0;nt(h._datatype)&&(w=t.find(i,[h._datatype,h._datatype])||i,N=t.convert(0,h._datatype),y=t.convert(y,h._datatype));var T,M,z,d=!w(y,N),B=h._size[0],O=h._size[1];if(b>O){for(M=O;M<b;M++)if(h._ptr[M]=h._values.length,d)for(T=0;T<B;T++)h._values.push(y),h._index.push(T);h._ptr[b]=h._values.length}else b<O&&(h._ptr.splice(b+1,O-b),h._values.splice(h._ptr[b],h._values.length),h._index.splice(h._ptr[b],h._index.length));if(O=b,x>B){if(d){var U=0;for(M=0;M<O;M++){h._ptr[M]=h._ptr[M]+U,z=h._ptr[M+1]+U;var Z=0;for(T=B;T<x;T++,Z++)h._values.splice(z+Z,0,y),h._index.splice(z+Z,0,T),U++}h._ptr[O]=h._values.length}}else if(x<B){var V=0;for(M=0;M<O;M++){h._ptr[M]=h._ptr[M]-V;var W=h._ptr[M+1]-V;for(z=h._ptr[M];z<W;z++)(T=h._index[z])>x-1&&(h._values.splice(z,1),h._index.splice(z,1),V++)}h._ptr[M]=h._values.length}return h._size[0]=x,h._size[1]=b,h}function m(h,x,b,S,y){var B,O,w=S[0],N=S[1],d=[];for(B=0;B<w;B++)for(d[B]=[],O=0;O<N;O++)d[B][O]=0;for(O=0;O<N;O++)for(var M=b[O+1],z=b[O];z<M;z++)d[B=x[z]][O]=h?y?ur(h[z]):h[z]:1;return d}return(n.prototype=new e).createSparseMatrix=function(h,x){return new n(h,x)},n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return ti(this._values,fr)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(h,x){return new n(h,x)},n.prototype.density=function(){var h=this._size[0],x=this._size[1];return 0!==h&&0!==x?this._index.length/(h*x):0},n.prototype.subset=function(h,x,b){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return v(this,h);case 2:case 3:return c(this,h,x,b);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(h){if(!De(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new ge(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var x=h[0],b=h[1];ze(x,this._size[0]),ze(b,this._size[1]);var S=f(x,this._ptr[b],this._ptr[b+1],this._index);return S<this._ptr[b+1]&&this._index[S]===x?this._values[S]:0},n.prototype.set=function(h,x,b){if(!De(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new ge(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var S=h[0],y=h[1],w=this._size[0],N=this._size[1],d=i,B=0;nt(this._datatype)&&(d=t.find(i,[this._datatype,this._datatype])||i,B=t.convert(0,this._datatype)),(S>w-1||y>N-1)&&(s(this,Math.max(S+1,w),Math.max(y+1,N),b),w=this._size[0],N=this._size[1]),ze(S,w),ze(y,N);var O=f(S,this._ptr[y],this._ptr[y+1],this._index);return O<this._ptr[y+1]&&this._index[O]===S?d(x,B)?function u(h,x,b,S,y){b.splice(h,1),S.splice(h,1);for(var w=x+1;w<y.length;w++)y[w]--}(O,y,this._values,this._index,this._ptr):this._values[O]=x:a(O,S,y,x,this._values,this._index,this._ptr),this},n.prototype.resize=function(h,x,b){if(!dt(h))throw new TypeError("Array or Matrix expected");var S=h.valueOf().map(w=>Array.isArray(w)&&1===w.length?w[0]:w);if(2!==S.length)throw new Error("Only two dimensions matrix are supported");return S.forEach(function(w){if(!Ie(w)||!$r(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ne(S)+")")}),s(b?this.clone():this,S[0],S[1],x)},n.prototype.reshape=function(h,x){if(!De(h))throw new TypeError("Array expected");if(2!==h.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(C){if(!Ie(C)||!$r(C)||C<=-2||0===C)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ne(h)+")")});var b=this._size[0]*this._size[1];if(b!==(h=Ji(h,b))[0]*h[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=x?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return y;for(var w=[],N=0;N<y._ptr.length;N++)for(var d=0;d<y._ptr[N+1]-y._ptr[N];d++)w.push(N);for(var B=y._values.slice(),O=y._index.slice(),T=0;T<y._index.length;T++){var U=O[T]*y._size[1]+w[T];w[T]=U%h[1],O[T]=Math.floor(U/h[1])}y._values.length=0,y._index.length=0,y._ptr.length=h[1]+1,y._size=h.slice();for(var Z=0;Z<y._ptr.length;Z++)y._ptr[Z]=0;for(var V=0;V<B.length;V++){var $=O[V],W=w[V],R=B[V];a(f($,y._ptr[W],y._ptr[W+1],y._index),$,W,R,y._values,y._index,y._ptr)}return y},n.prototype.clone=function(){return new n({values:this._values?ur(this._values):void 0,index:ur(this._index),ptr:ur(this._ptr),size:ur(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(h,x){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var b=this;return function p(h,x,b,S,y,w,N){var d=[],B=[],O=[],T=i,M=0;nt(h._datatype)&&(T=t.find(i,[h._datatype,h._datatype])||i,M=t.convert(0,h._datatype));for(var z=function(K,ar,yr){K=w(K,ar,yr),T(K,M)||(d.push(K),B.push(ar))},U=S;U<=y;U++){O.push(d.length);var Z=h._ptr[U],V=h._ptr[U+1];if(N)for(var $=Z;$<V;$++){var W=h._index[$];W>=x&&W<=b&&z(h._values[$],W-x,U-S)}else{for(var R={},er=Z;er<V;er++)R[h._index[er]]=h._values[er];for(var J=x;J<=b;J++)z(J in R?R[J]:0,J-x,U-S)}}return O.push(d.length),new n({values:d,index:B,ptr:O,size:[b-x+1,y-S+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(d,B,O){return h(d,[B,O],b)},x)},n.prototype.forEach=function(h,x){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var S=this._size[0],y=this._size[1],w=0;w<y;w++){var N=this._ptr[w],d=this._ptr[w+1];if(x)for(var B=N;B<d;B++)h(this._values[B],[this._index[B],w],this);else{for(var T={},M=N;M<d;M++)T[this._index[M]]=this._values[M];for(var U=0;U<S;U++)h(U in T?T[U]:0,[U,w],this)}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],x=0;x<h;x++)for(var S=this._ptr[x+1],y=this._ptr[x];y<S;y++){var w=this._index[y];yield{value:this._values[y],index:[w,x]}}},n.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)},n.prototype.format=function(h){for(var x=this._size[0],b=this._size[1],S=this.density(),y="Sparse Matrix ["+Ne(x,h)+" x "+Ne(b,h)+"] density: "+Ne(S,h)+"\n",w=0;w<b;w++)for(var d=this._ptr[w+1],B=this._ptr[w];B<d;B++)y+="\n    ("+Ne(this._index[B],h)+", "+Ne(w,h)+") ==> "+(this._values?Ne(this._values[B],h):"X");return y},n.prototype.toString=function(){return Ne(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(h){if(h){if(xe(h)&&(h=h.toNumber()),!Ie(h)||!$r(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var x=h>0?h:0,b=h<0?-h:0,y=this._size[1],w=Math.min(this._size[0]-b,y-x),N=[],d=[],B=[];B[0]=0;for(var O=x;O<y&&N.length<w;O++)for(var M=this._ptr[O+1],z=this._ptr[O];z<M;z++){var U=this._index[z];if(U===O-x+b){N.push(this._values[z]),d[N.length-1]=U-b;break}}return B.push(N.length),new n({values:N,index:d,ptr:B,size:[w,1]})},n.fromJSON=function(h){return new n(h)},n.diagonal=function(h,x,b,S,y){if(!De(h))throw new TypeError("Array expected, size parameter");if(2!==h.length)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(C){if(xe(C)&&(C=C.toNumber()),!Ie(C)||!$r(C)||C<1)throw new Error("Size values must be positive integers");return C}),b){if(xe(b)&&(b=b.toNumber()),!Ie(b)||!$r(b))throw new TypeError("The parameter k must be an integer number")}else b=0;var w=i,N=0;nt(y)&&(w=t.find(i,[y,y])||i,N=t.convert(0,y));var z,d=b>0?b:0,B=b<0?-b:0,O=h[0],T=h[1],M=Math.min(O-B,T-d);if(De(x)){if(x.length!==M)throw new Error("Invalid value array length");z=function(J){return x[J]}}else if(fe(x)){var U=x.size();if(1!==U.length||U[0]!==M)throw new Error("Invalid matrix length");z=function(J){return x.get([J])}}else z=function(){return x};for(var Z=[],V=[],$=[],W=0;W<T;W++){$.push(Z.length);var R=W-d;if(R>=0&&R<M){var er=z(R);w(er,N)||(V.push(R+B),Z.push(er))}}return $.push(Z.length),new n({values:Z,index:V,ptr:$,size:[O,T]})},n.prototype.swapRows=function(h,x){if(!(Ie(h)&&$r(h)&&Ie(x)&&$r(x)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return ze(h,this._size[0]),ze(x,this._size[0]),n._swapRows(h,x,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(h,x,b,S,y){for(var N=S[h+1],d=S[h];d<N;d++)y(b[d],x[d])},n._swapRows=function(h,x,b,S,y,w){for(var N=0;N<b;N++){var d=w[N],B=w[N+1],O=f(h,d,B,y),T=f(x,d,B,y);if(O<B&&T<B&&y[O]===h&&y[T]===x){if(S){var M=S[O];S[O]=S[T],S[T]=M}}else if(O<B&&y[O]===h&&(T>=B||y[T]!==x)){var z=S?S[O]:void 0;y.splice(T,0,x),S&&S.splice(T,0,z),y.splice(T<=O?O+1:O,1),S&&S.splice(T<=O?O+1:O,1)}else if(T<B&&y[T]===x&&(O>=B||y[O]!==h)){var U=S?S[T]:void 0;y.splice(O,0,h),S&&S.splice(O,0,U),y.splice(O<=T?T+1:T,1),S&&S.splice(O<=T?T+1:T,1)}}},n},{isClass:!0}),ld=G("apply",["typed","isInteger"],r=>{var{typed:t,isInteger:i}=r;return t("apply",{"Array | Matrix, number | BigNumber, function":function(n,o,l){if(!i(o))throw new TypeError("Integer number expected for dimension");var v=Array.isArray(n)?Be(n):n.size();if(o<0||o>=v.length)throw new Gt(o,v.length);return fe(n)?n.create(Ci(n.valueOf(),o,l)):Ci(n,o,l)}})});function Ci(r,t,i){var e,n,o;if(t<=0){if(Array.isArray(r[0])){for(o=function vd(r){var e,n,t=r.length,i=r[0].length,o=[];for(n=0;n<i;n++){var l=[];for(e=0;e<t;e++)l.push(r[e][n]);o.push(l)}return o}(r),n=[],e=0;e<o.length;e++)n[e]=Ci(o[e],t-1,i);return n}return i(r)}for(n=[],e=0;e<r.length;e++)n[e]=Ci(r[e],t-1,i);return n}G("bin",["typed","format"],r=>{var{typed:t,format:i}=r;return t("bin",{"number | BigNumber":function(n){return i(n,{notation:"bin"})},"number | BigNumber, number":function(n,o){return i(n,{notation:"bin",wordSize:o})}})});var Ad=G("isNaN",["typed"],r=>{var{typed:t}=r;return t("isNaN",{number:hu,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return Wr(e,Number.isNaN)}})}),Pd=G("sqrt",["config","typed","Complex"],r=>{var{config:t,typed:i,Complex:e}=r;return i("sqrt",{number:n,Complex:function(l){return l.sqrt()},BigNumber:function(l){return!l.isNegative()||t.predictable?l.sqrt():n(l.toNumber())},"Array | Matrix":function(l){return Wr(l,this,!0)},Unit:function(l){return l.pow(.5)}});function n(o){return isNaN(o)?NaN:o>=0||t.predictable?Math.sqrt(o):new e(o,0).sqrt()}}),ts="unaryMinus",Gd=G(ts,["typed"],r=>{var{typed:t}=r;return t(ts,{number:$a,Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var n=e.clone();return n.value=this(e.value),n},"Array | Matrix":function(e){return Wr(e,this,!0)}})}),Qd=G("fraction",["typed","Fraction"],r=>{var{typed:t,Fraction:i}=r;return t("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new i(n)},string:function(n){return new i(n)},"number, number":function(n,o){return new i(n,o)},null:function(n){return new i(0)},BigNumber:function(n){return new i(n.toString())},Fraction:function(n){return n},Object:function(n){return new i(n)},"Array | Matrix":function(n){return Wr(n,this)}})}),jd=G("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],r=>{var{typed:t,DenseMatrix:e,SparseMatrix:n}=r;return t("matrix",{"":function(){return o([])},string:function(v){return o([],v)},"string, string":function(v,c){return o([],v,c)},Array:function(v){return o(v)},Matrix:function(v){return o(v,v.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(l,v,c){if("dense"===v||"default"===v||void 0===v)return new e(l,c);if("sparse"===v)return new n(l,c);throw new TypeError("Unknown matrix type "+JSON.stringify(v)+".")}}),vt=G("algorithm03",["typed"],r=>{var{typed:t}=r;return function(e,n,o,l){var v=e._data,c=e._size,f=e._datatype,u=n._values,a=n._index,s=n._ptr,p=n._size,m=n._datatype;if(c.length!==p.length)throw new ge(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var b,h=c[0],x=c[1],S=0,y=o;"string"==typeof f&&f===m&&(S=t.convert(0,b=f),y=t.find(o,[b,b]));for(var w=[],N=0;N<h;N++)w[N]=[];for(var d=[],B=[],O=0;O<x;O++){for(var T=O+1,z=s[O+1],U=s[O];U<z;U++){var Z=a[U];d[Z]=l?y(u[U],v[Z][O]):y(v[Z][O],u[U]),B[Z]=T}for(var V=0;V<h;V++)w[V][O]=B[V]===T?d[V]:l?y(S,v[V][O]):y(v[V][O],S)}return e.createDenseMatrix({data:w,size:[h,x],datatype:b})}}),Di=G("algorithm05",["typed","equalScalar"],r=>{var{typed:t,equalScalar:i}=r;return function(n,o,l){var v=n._values,c=n._index,f=n._ptr,u=n._size,a=n._datatype,s=o._values,p=o._index,m=o._ptr,h=o._size,x=o._datatype;if(u.length!==h.length)throw new ge(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");var y,b=u[0],S=u[1],w=i,N=0,d=l;"string"==typeof a&&a===x&&(w=t.find(i,[y=a,y]),N=t.convert(0,y),d=t.find(l,[y,y]));var V,$,W,R,B=v&&s?[]:void 0,O=[],T=[],M=B?[]:void 0,z=B?[]:void 0,U=[],Z=[];for($=0;$<S;$++){T[$]=O.length;var er=$+1;for(W=f[$],R=f[$+1];W<R;W++)O.push(V=c[W]),U[V]=er,M&&(M[V]=v[W]);for(W=m[$],R=m[$+1];W<R;W++)U[V=p[W]]!==er&&O.push(V),Z[V]=er,z&&(z[V]=s[W]);if(B)for(W=T[$];W<O.length;){var C=U[V=O[W]],J=Z[V];if(C===er||J===er){var K=d(C===er?M[V]:N,J===er?z[V]:N);w(K,N)?O.splice(W,1):(B.push(K),W++)}}}return T[S]=O.length,n.createSparseMatrix({values:B,index:O,ptr:T,size:[b,S],datatype:y})}}),at=G("algorithm11",["typed","equalScalar"],r=>{var{typed:t,equalScalar:i}=r;return function(n,o,l,v){var c=n._values,f=n._index,u=n._ptr,a=n._size,s=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,p=a[0],m=a[1],x=i,b=0,S=l;"string"==typeof s&&(x=t.find(i,[h=s,h]),b=t.convert(0,h),o=t.convert(o,h),S=t.find(l,[h,h]));for(var y=[],w=[],N=[],d=0;d<m;d++){N[d]=w.length;for(var O=u[d+1],T=u[d];T<O;T++){var M=f[T],z=v?S(o,c[T]):S(c[T],o);x(z,b)||(w.push(M),y.push(z))}}return N[m]=w.length,n.createSparseMatrix({values:y,index:w,ptr:N,size:[p,m],datatype:h})}}),mt=G("algorithm12",["typed","DenseMatrix"],r=>{var{typed:t,DenseMatrix:i}=r;return function(n,o,l,v){var c=n._values,f=n._index,u=n._ptr,a=n._size,s=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,p=a[0],m=a[1],x=l;"string"==typeof s&&(o=t.convert(o,h=s),x=t.find(l,[h,h]));for(var b=[],S=[],y=[],w=0;w<m;w++){for(var N=w+1,B=u[w+1],O=u[w];O<B;O++){var T=f[O];S[T]=c[O],y[T]=N}for(var M=0;M<p;M++)0===w&&(b[M]=[]),b[M][w]=y[M]===N?v?x(o,S[M]):x(S[M],o):v?x(o,0):x(0,o)}return new i({data:b,size:[p,m],datatype:h})}}),Le=G("algorithm13",["typed"],r=>{var{typed:t}=r;return function(n,o,l){var v=n._data,c=n._size,f=n._datatype,u=o._data,a=o._size,s=o._datatype,p=[];if(c.length!==a.length)throw new ge(c.length,a.length);for(var m=0;m<c.length;m++){if(c[m]!==a[m])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+a+")");p[m]=c[m]}var h,x=l;"string"==typeof f&&f===s&&(x=t.find(l,[h=f,h]));var b=p.length>0?i(x,0,p,p[0],v,u):[];return n.createDenseMatrix({data:b,size:p,datatype:h})};function i(e,n,o,l,v,c){var f=[];if(n===o.length-1)for(var u=0;u<l;u++)f[u]=e(v[u],c[u]);else for(var a=0;a<l;a++)f[a]=i(e,n+1,o,o[n+1],v[a],c[a]);return f}}),Oe=G("algorithm14",["typed"],r=>{var{typed:t}=r;return function(n,o,l,v){var a,c=n._data,f=n._size,u=n._datatype,s=l;"string"==typeof u&&(o=t.convert(o,a=u),s=t.find(l,[a,a]));var p=f.length>0?i(s,0,f,f[0],c,o,v):[];return n.createDenseMatrix({data:p,size:ur(f),datatype:a})};function i(e,n,o,l,v,c,f){var u=[];if(n===o.length-1)for(var a=0;a<l;a++)u[a]=f?e(c,v[a]):e(v[a],c);else for(var s=0;s<l;s++)u[s]=i(e,n+1,o,o[n+1],v[s],c,f);return u}}),un=G("algorithm01",["typed"],r=>{var{typed:t}=r;return function(e,n,o,l){var v=e._data,c=e._size,f=e._datatype,u=n._values,a=n._index,s=n._ptr,p=n._size,m=n._datatype;if(c.length!==p.length)throw new ge(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,w,h=c[0],x=c[1],b="string"==typeof f&&f===m?f:void 0,S=b?t.find(o,[b,b]):o,N=[];for(y=0;y<h;y++)N[y]=[];var d=[],B=[];for(w=0;w<x;w++){for(var O=w+1,M=s[w+1],z=s[w];z<M;z++)d[y=a[z]]=l?S(u[z],v[y][w]):S(v[y][w],u[z]),B[y]=O;for(y=0;y<h;y++)N[y][w]=B[y]===O?d[y]:v[y][w]}return e.createDenseMatrix({data:N,size:[h,x],datatype:b})}});function cs(){throw new Error('No "bignumber" implementation available')}function Ag(){throw new Error('No "fraction" implementation available')}var _g=G("numeric",["number","?bignumber","?fraction"],r=>{var{number:t,bignumber:i,fraction:e}=r,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:l=>t(l),BigNumber:i?l=>i(l):cs,Fraction:e?l=>e(l):Ag};return function(v,c){var f=fr(v);if(!(f in n))throw new TypeError("Cannot convert "+v+' of type "'+f+'"; valid input types are '+Object.keys(n).join(", "));if(!(c in o))throw new TypeError("Cannot convert "+v+' to type "'+c+'"; valid output types are '+Object.keys(o).join(", "));return c===f?v:o[c](v)}});function St(r,t,i){var e;return-1!==String(r).indexOf("Unexpected type")?(e=arguments.length>2?" (type: "+fr(i)+", value: "+JSON.stringify(i)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+e)):-1!==String(r).indexOf("complex numbers")?(e=arguments.length>2?" (type: "+fr(i)+", value: "+JSON.stringify(i)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+e)):r}var Rg=G("size",["typed","config","?matrix"],r=>{var{typed:t,config:i,matrix:e}=r;return t("size",{Matrix:function(o){return o.create(o.size())},Array:Be,string:function(o){return"Array"===i.matrix?[o.length]:e([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return"Array"===i.matrix?[]:e?e([]):function ls(){throw new Error('No "matrix" implementation available')}()}})}),qt=G("algorithm07",["typed","DenseMatrix"],r=>{var{typed:t,DenseMatrix:i}=r;return function(o,l,v){var c=o._size,f=o._datatype,u=l._size,a=l._datatype;if(c.length!==u.length)throw new ge(c.length,u.length);if(c[0]!==u[0]||c[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+u+")");var m,s=c[0],p=c[1],h=0,x=v;"string"==typeof f&&f===a&&(h=t.convert(0,m=f),x=t.find(v,[m,m]));var b,S,y=[];for(b=0;b<s;b++)y[b]=[];var w=[],N=[],d=[],B=[];for(S=0;S<p;S++){var O=S+1;for(e(o,S,d,w,O),e(l,S,B,N,O),b=0;b<s;b++)y[b][S]=x(d[b]===O?w[b]:h,B[b]===O?N[b]:h)}return new i({data:y,size:[s,p],datatype:m})};function e(n,o,l,v,c){for(var f=n._values,u=n._index,a=n._ptr,s=a[o],p=a[o+1];s<p;s++){var m=u[s];l[m]=c,v[m]=f[s]}}}),ds="smaller",qg=G(ds,["typed","config","matrix","DenseMatrix"],r=>{var{typed:t,config:i,matrix:e,DenseMatrix:n}=r,o=vt({typed:t}),l=qt({typed:t,DenseMatrix:n}),v=mt({typed:t,DenseMatrix:n}),c=Le({typed:t}),f=Oe({typed:t});return t(ds,{"boolean, boolean":function(a,s){return a<s},"number, number":function(a,s){return a<s&&!Nt(a,s,i.epsilon)},"BigNumber, BigNumber":function(a,s){return a.lt(s)&&!zt(a,s,i.epsilon)},"Fraction, Fraction":function(a,s){return-1===a.compare(s)},"Complex, Complex":function(a,s){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(a,s){if(!a.equalBase(s))throw new Error("Cannot compare units with different base");return this(a.value,s.value)},"SparseMatrix, SparseMatrix":function(a,s){return l(a,s,this)},"SparseMatrix, DenseMatrix":function(a,s){return o(s,a,this,!0)},"DenseMatrix, SparseMatrix":function(a,s){return o(a,s,this,!1)},"DenseMatrix, DenseMatrix":function(a,s){return c(a,s,this)},"Array, Array":function(a,s){return this(e(a),e(s)).valueOf()},"Array, Matrix":function(a,s){return this(e(a),s)},"Matrix, Array":function(a,s){return this(a,e(s))},"SparseMatrix, any":function(a,s){return v(a,s,this,!1)},"DenseMatrix, any":function(a,s){return f(a,s,this,!1)},"any, SparseMatrix":function(a,s){return v(s,a,this,!0)},"any, DenseMatrix":function(a,s){return f(s,a,this,!0)},"Array, any":function(a,s){return f(e(a),s,this,!1).valueOf()},"any, Array":function(a,s){return f(e(s),a,this,!0).valueOf()}})}),wn=G("algorithm10",["typed","DenseMatrix"],r=>{var{typed:t,DenseMatrix:i}=r;return function(n,o,l,v){var c=n._values,f=n._index,u=n._ptr,a=n._size,s=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,p=a[0],m=a[1],x=l;"string"==typeof s&&(o=t.convert(o,h=s),x=t.find(l,[h,h]));for(var b=[],S=[],y=[],w=0;w<m;w++){for(var N=w+1,B=u[w+1],O=u[w];O<B;O++){var T=f[O];S[T]=c[O],y[T]=N}for(var M=0;M<p;M++)0===w&&(b[M]=[]),b[M][w]=y[M]===N?v?x(o,S[M]):x(S[M],o):o}return new i({data:b,size:[p,m],datatype:h})}}),xs="subtract",Kg=G(xs,["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],r=>{var{typed:t,matrix:i,equalScalar:e,addScalar:n,unaryMinus:o,DenseMatrix:l}=r,v=un({typed:t}),c=vt({typed:t}),f=Di({typed:t,equalScalar:e}),u=wn({typed:t,DenseMatrix:l}),a=Le({typed:t}),s=Oe({typed:t});return t(xs,{"number, number":function(m,h){return m-h},"Complex, Complex":function(m,h){return m.sub(h)},"BigNumber, BigNumber":function(m,h){return m.minus(h)},"Fraction, Fraction":function(m,h){return m.sub(h)},"Unit, Unit":function(m,h){if(null===m.value)throw new Error("Parameter x contains a unit with undefined value");if(null===h.value)throw new Error("Parameter y contains a unit with undefined value");if(!m.equalBase(h))throw new Error("Units do not match");var x=m.clone();return x.value=this(x.value,h.value),x.fixPrefix=!1,x},"SparseMatrix, SparseMatrix":function(m,h){return Ii(m,h),f(m,h,this)},"SparseMatrix, DenseMatrix":function(m,h){return Ii(m,h),c(h,m,this,!0)},"DenseMatrix, SparseMatrix":function(m,h){return Ii(m,h),v(m,h,this,!1)},"DenseMatrix, DenseMatrix":function(m,h){return Ii(m,h),a(m,h,this)},"Array, Array":function(m,h){return this(i(m),i(h)).valueOf()},"Array, Matrix":function(m,h){return this(i(m),h)},"Matrix, Array":function(m,h){return this(m,i(h))},"SparseMatrix, any":function(m,h){return u(m,o(h),n)},"DenseMatrix, any":function(m,h){return s(m,h,this)},"any, SparseMatrix":function(m,h){return u(h,m,this,!0)},"any, DenseMatrix":function(m,h){return s(h,m,this,!0)},"Array, any":function(m,h){return s(i(m),h,this,!1).valueOf()},"any, Array":function(m,h){return s(i(h),m,this,!0).valueOf()}})});function Ii(r,t){var i=r.size(),e=t.size();if(i.length!==e.length)throw new ge(i.length,e.length)}var Rs="divideScalar",_0=G(Rs,["typed","numeric"],r=>{var{typed:t,numeric:i}=r;return t(Rs,{"number, number":function(n,o){return n/o},"Complex, Complex":function(n,o){return n.div(o)},"BigNumber, BigNumber":function(n,o){return n.div(o)},"Fraction, Fraction":function(n,o){return n.div(o)},"Unit, number | Fraction | BigNumber":function(n,o){var l=n.clone(),v=i(1,fr(o));return l.value=this(null===l.value?l._normalize(v):l.value,o),l},"number | Fraction | BigNumber, Unit":function(n,o){var l=o.clone();l=l.pow(-1);var v=i(1,fr(n));return l.value=this(n,null===o.value?o._normalize(v):o.value),l},"Unit, Unit":function(n,o){return n.divide(o)}})}),aa=(G("equal",["typed","equalScalar"],r=>{var{typed:t,equalScalar:i}=r;return t("equal",{"any, any":function(n,o){return null===n?null===o:null===o?null===n:void 0===n?void 0===o:void 0===o?void 0===n:i(n,o)}})}),G("algorithm04",["typed","equalScalar"],r=>{var{typed:t,equalScalar:i}=r;return function(n,o,l){var v=n._values,c=n._index,f=n._ptr,u=n._size,a=n._datatype,s=o._values,p=o._index,m=o._ptr,h=o._size,x=o._datatype;if(u.length!==h.length)throw new ge(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");var y,b=u[0],S=u[1],w=i,N=0,d=l;"string"==typeof a&&a===x&&(w=t.find(i,[y=a,y]),N=t.convert(0,y),d=t.find(l,[y,y]));var V,$,W,er,B=v&&s?[]:void 0,O=[],T=[],M=v&&s?[]:void 0,z=v&&s?[]:void 0,U=[],Z=[];for($=0;$<S;$++){T[$]=O.length;var C=$+1;for(er=f[$+1],W=f[$];W<er;W++)O.push(V=c[W]),U[V]=C,M&&(M[V]=v[W]);for(er=m[$+1],W=m[$];W<er;W++)if(U[V=p[W]]===C){if(M){var J=d(M[V],s[W]);w(J,N)?U[V]=null:M[V]=J}}else O.push(V),Z[V]=C,z&&(z[V]=s[W]);if(M&&z)for(W=T[$];W<O.length;)U[V=O[W]]===C?(B[W]=M[V],W++):Z[V]===C?(B[W]=z[V],W++):O.splice(W,1)}return T[S]=O.length,n.createSparseMatrix({values:B,index:O,ptr:T,size:[b,S],datatype:y})}}));function Un(r,t,i,e){if(!(this instanceof Un))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=t,this.min=i,this.max=e,this.message="Wrong number of arguments in function "+r+" ("+t+" provided, "+i+(null!=e?"-"+e:"")+" expected)",this.stack=(new Error).stack}(Un.prototype=new Error).constructor=Error,Un.prototype.name="ArgumentsError",Un.prototype.isArgumentsError=!0;var ua="unequal",Fy=(G(ua,["typed","equalScalar"],r=>{var{typed:t,equalScalar:i}=r;return t(ua,{"any, any":function(n,o){return null===n?null!==o:null===o?null!==n:void 0===n?void 0!==o:void 0===o?void 0!==n:!i(n,o)}})}),G("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],r=>{var{typed:t,matrix:i,addScalar:e,equalScalar:n,DenseMatrix:o}=r,v=un({typed:t}),c=aa({typed:t,equalScalar:n}),f=wn({typed:t,DenseMatrix:o}),u=Le({typed:t}),a=Oe({typed:t});return t("add",Me({"DenseMatrix, DenseMatrix":function(p,m){return u(p,m,e)},"DenseMatrix, SparseMatrix":function(p,m){return v(p,m,e,!1)},"SparseMatrix, DenseMatrix":function(p,m){return v(m,p,e,!0)},"SparseMatrix, SparseMatrix":function(p,m){return c(p,m,e)},"Array, Array":function(p,m){return this(i(p),i(m)).valueOf()},"Array, Matrix":function(p,m){return this(i(p),m)},"Matrix, Array":function(p,m){return this(p,i(m))},"DenseMatrix, any":function(p,m){return a(p,m,e,!1)},"SparseMatrix, any":function(p,m){return f(p,m,e,!1)},"any, DenseMatrix":function(p,m){return a(m,p,e,!0)},"any, SparseMatrix":function(p,m){return f(m,p,e,!0)},"Array, any":function(p,m){return a(i(p),m,e,!1).valueOf()},"any, Array":function(p,m){return a(i(m),p,e,!0).valueOf()},"any, any":e,"any, any, ...any":function(p,m,h){for(var x=this(p,m),b=0;b<h.length;b++)x=this(x,h[b]);return x}},e.signatures))}));Tr(9286);var $y=G("dot",["typed","addScalar","multiplyScalar","conj","size"],r=>{var{typed:t,addScalar:i,multiplyScalar:e,conj:n,size:o}=r;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function v(u,a){var s=l(u,a),p=fe(u)?u._data:u,m=fe(u)?u._datatype:void 0,h=fe(a)?a._data:a,x=fe(a)?a._datatype:void 0,b=2===f(u).length,S=2===f(a).length,y=i,w=e;if(m&&x&&m===x&&"string"==typeof m){var N=m;y=t.find(i,[N,N]),w=t.find(e,[N,N])}if(!b&&!S){for(var d=w(n(p[0]),h[0]),B=1;B<s;B++)d=y(d,w(n(p[B]),h[B]));return d}if(!b&&S){for(var O=w(n(p[0]),h[0][0]),T=1;T<s;T++)O=y(O,w(n(p[T]),h[T][0]));return O}if(b&&!S){for(var M=w(n(p[0][0]),h[0]),z=1;z<s;z++)M=y(M,w(n(p[z][0]),h[z]));return M}if(b&&S){for(var U=w(n(p[0][0]),h[0][0]),Z=1;Z<s;Z++)U=y(U,w(n(p[Z][0]),h[Z][0]));return U}},"SparseMatrix, SparseMatrix":function c(u,a){l(u,a);for(var s=u._index,p=u._values,m=a._index,h=a._values,x=0,b=i,S=e,y=0,w=0;y<s.length&&w<m.length;){var N=s[y],d=m[w];N<d?y++:N>d?w++:N===d&&(x=b(x,S(p[y],h[w])),y++,w++)}return x}});function l(u,a){var m,h,s=f(u),p=f(a);if(1===s.length)m=s[0];else{if(2!==s.length||1!==s[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");m=s[0]}if(1===p.length)h=p[0];else{if(2!==p.length||1!==p[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");h=p[0]}if(m!==h)throw new RangeError("Vectors must have equal length ("+m+" != "+h+")");if(0===m)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function f(u){return fe(u)?u.size():o(u)}}),pf="identity",i1=G(pf,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],r=>{var{typed:t,config:i,matrix:e,BigNumber:n,DenseMatrix:o,SparseMatrix:l}=r;return t(pf,{"":function(){return"Matrix"===i.matrix?e([]):[]},string:function(u){return e(u)},"number | BigNumber":function(u){return c(u,u,"Matrix"===i.matrix?"dense":void 0)},"number | BigNumber, string":function(u,a){return c(u,u,a)},"number | BigNumber, number | BigNumber":function(u,a){return c(u,a,"Matrix"===i.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,a,s){return c(u,a,s)},Array:function(u){return v(u)},"Array, string":function(u,a){return v(u,a)},Matrix:function(u){return v(u.valueOf(),u.storage())},"Matrix, string":function(u,a){return v(u.valueOf(),a)}});function v(f,u){switch(f.length){case 0:return u?e(u):[];case 1:return c(f[0],f[0],u);case 2:return c(f[0],f[1],u);default:throw new Error("Vector containing two values expected")}}function c(f,u,a){var s=xe(f)||xe(u)?n:null;if(xe(f)&&(f=f.toNumber()),xe(u)&&(u=u.toNumber()),!$r(f)||f<1)throw new Error("Parameters in function identity must be positive integers");if(!$r(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var p=s?new n(1):1,m=s?new s(0):0,h=[f,u];if(a){if("sparse"===a)return l.diagonal(h,p,0,m);if("dense"===a)return o.diagonal(h,p,0,m);throw new TypeError('Unknown matrix type "'.concat(a,'"'))}for(var x=Dn([],h,m),b=f<u?f:u,S=0;S<b;S++)x[S][S]=p;return x}}),s1=G("larger",["typed","config","matrix","DenseMatrix"],r=>{var{typed:t,config:i,matrix:e,DenseMatrix:n}=r,o=vt({typed:t}),l=qt({typed:t,DenseMatrix:n}),v=mt({typed:t,DenseMatrix:n}),c=Le({typed:t}),f=Oe({typed:t});return t("larger",{"boolean, boolean":function(a,s){return a>s},"number, number":function(a,s){return a>s&&!Nt(a,s,i.epsilon)},"BigNumber, BigNumber":function(a,s){return a.gt(s)&&!zt(a,s,i.epsilon)},"Fraction, Fraction":function(a,s){return 1===a.compare(s)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(a,s){if(!a.equalBase(s))throw new Error("Cannot compare units with different base");return this(a.value,s.value)},"SparseMatrix, SparseMatrix":function(a,s){return l(a,s,this)},"SparseMatrix, DenseMatrix":function(a,s){return o(s,a,this,!0)},"DenseMatrix, SparseMatrix":function(a,s){return o(a,s,this,!1)},"DenseMatrix, DenseMatrix":function(a,s){return c(a,s,this)},"Array, Array":function(a,s){return this(e(a),e(s)).valueOf()},"Array, Matrix":function(a,s){return this(e(a),s)},"Matrix, Array":function(a,s){return this(a,e(s))},"SparseMatrix, any":function(a,s){return v(a,s,this,!1)},"DenseMatrix, any":function(a,s){return f(a,s,this,!1)},"any, SparseMatrix":function(a,s){return v(s,a,this,!0)},"any, DenseMatrix":function(a,s){return f(s,a,this,!0)},"Array, any":function(a,s){return f(e(a),s,this,!1).valueOf()},"any, Array":function(a,s){return f(e(s),a,this,!0).valueOf()}})}),wf="multiply",d1=G(wf,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],r=>{var{typed:t,matrix:i,addScalar:e,multiplyScalar:n,equalScalar:o,dot:l}=r,v=at({typed:t,equalScalar:o}),c=Oe({typed:t});function f(N,d){switch(N.length){case 1:switch(d.length){case 1:if(N[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(N[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+N[0]+") must match Matrix rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;case 2:switch(d.length){case 1:if(N[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+N[1]+") must match Vector length ("+d[0]+")");break;case 2:if(N[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+N[1]+") must match Matrix B rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+N.length+" dimensions)")}}var p=t("_multiplyMatrixVector",{"DenseMatrix, any":function h(N,d){var V,B=N._data,O=N._size,T=N._datatype,M=d._data,z=d._datatype,U=O[0],Z=O[1],$=e,W=n;T&&z&&T===z&&"string"==typeof T&&($=t.find(e,[V=T,V]),W=t.find(n,[V,V]));for(var R=[],er=0;er<U;er++){for(var C=B[er],J=W(C[0],M[0]),ir=1;ir<Z;ir++)J=$(J,W(C[ir],M[ir]));R[er]=J}return N.createDenseMatrix({data:R,size:[U],datatype:V})},"SparseMatrix, any":function S(N,d){var B=N._values,O=N._index,T=N._ptr,M=N._datatype;if(!B)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var er,z=d._data,U=d._datatype,Z=N._size[0],V=d._size[0],$=[],W=[],R=[],C=e,J=n,ir=o,Nr=0;M&&U&&M===U&&"string"==typeof M&&(C=t.find(e,[er=M,er]),J=t.find(n,[er,er]),ir=t.find(o,[er,er]),Nr=t.convert(0,er));var K=[],ar=[];R[0]=0;for(var yr=0;yr<V;yr++){var mr=z[yr];if(!ir(mr,Nr))for(var Cr=T[yr+1],Rr=T[yr];Rr<Cr;Rr++){var Mr=O[Rr];ar[Mr]?K[Mr]=C(K[Mr],J(mr,B[Rr])):(ar[Mr]=!0,W.push(Mr),K[Mr]=J(mr,B[Rr]))}}for(var ae=W.length,kr=0;kr<ae;kr++)$[kr]=K[W[kr]];return R[1]=W.length,N.createSparseMatrix({values:$,index:W,ptr:R,size:[Z,1],datatype:er})}}),m=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function x(N,d){var W,B=N._data,O=N._size,T=N._datatype,M=d._data,U=d._datatype,Z=O[0],V=O[1],$=d._size[1],R=e,er=n;T&&U&&T===U&&"string"==typeof T&&(R=t.find(e,[W=T,W]),er=t.find(n,[W,W]));for(var C=[],J=0;J<Z;J++){var ir=B[J];C[J]=[];for(var Nr=0;Nr<$;Nr++){for(var K=er(ir[0],M[0][Nr]),ar=1;ar<V;ar++)K=R(K,er(ir[ar],M[ar][Nr]));C[J][Nr]=K}}return N.createDenseMatrix({data:C,size:[Z,$],datatype:W})},"DenseMatrix, SparseMatrix":function b(N,d){var B=N._data,O=N._size,T=N._datatype,M=d._values,z=d._index,U=d._ptr,Z=d._size,V=d._datatype;if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var R,$=O[0],W=Z[1],er=e,C=n,J=o,ir=0;T&&V&&T===V&&"string"==typeof T&&(er=t.find(e,[R=T,R]),C=t.find(n,[R,R]),J=t.find(o,[R,R]),ir=t.convert(0,R));for(var Nr=[],K=[],ar=[],yr=d.createSparseMatrix({values:Nr,index:K,ptr:ar,size:[$,W],datatype:R}),mr=0;mr<W;mr++){ar[mr]=K.length;var _r=U[mr],Cr=U[mr+1];if(Cr>_r)for(var Rr=0,Mr=0;Mr<$;Mr++){for(var ae=Mr+1,kr=void 0,qr=_r;qr<Cr;qr++){var re=z[qr];Rr!==ae?(kr=C(B[Mr][re],M[qr]),Rr=ae):kr=er(kr,C(B[Mr][re],M[qr]))}Rr===ae&&!J(kr,ir)&&(K.push(Mr),Nr.push(kr))}}return ar[W]=K.length,yr},"SparseMatrix, DenseMatrix":function y(N,d){var B=N._values,O=N._index,T=N._ptr,M=N._datatype;if(!B)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var W,z=d._data,U=d._datatype,Z=N._size[0],V=d._size[0],$=d._size[1],R=e,er=n,C=o,J=0;M&&U&&M===U&&"string"==typeof M&&(R=t.find(e,[W=M,W]),er=t.find(n,[W,W]),C=t.find(o,[W,W]),J=t.convert(0,W));for(var ir=[],Nr=[],K=[],ar=N.createSparseMatrix({values:ir,index:Nr,ptr:K,size:[Z,$],datatype:W}),yr=[],mr=[],_r=0;_r<$;_r++){K[_r]=Nr.length;for(var Cr=_r+1,Rr=0;Rr<V;Rr++){var Mr=z[Rr][_r];if(!C(Mr,J))for(var kr=T[Rr+1],qr=T[Rr];qr<kr;qr++){var re=O[qr];mr[re]!==Cr?(mr[re]=Cr,Nr.push(re),yr[re]=er(Mr,B[qr])):yr[re]=R(yr[re],er(Mr,B[qr]))}}for(var Y=Nr.length,br=K[_r];br<Y;br++)ir[br]=yr[Nr[br]]}return K[$]=Nr.length,ar},"SparseMatrix, SparseMatrix":function w(N,d){var er,B=N._values,O=N._index,T=N._ptr,M=N._datatype,z=d._values,U=d._index,Z=d._ptr,V=d._datatype,$=N._size[0],W=d._size[1],R=B&&z,C=e,J=n;M&&V&&M===V&&"string"==typeof M&&(C=t.find(e,[er=M,er]),J=t.find(n,[er,er]));for(var _r,Rr,Mr,kr,qr,re,ir=R?[]:void 0,Nr=[],K=[],ar=N.createSparseMatrix({values:ir,index:Nr,ptr:K,size:[$,W],datatype:er}),yr=R?[]:void 0,mr=[],L=0;L<W;L++){K[L]=Nr.length;var Y=L+1;for(kr=Z[L+1],Mr=Z[L];Mr<kr;Mr++)if(re=U[Mr],R)for(Rr=T[re+1],_r=T[re];_r<Rr;_r++)mr[qr=O[_r]]!==Y?(mr[qr]=Y,Nr.push(qr),yr[qr]=J(z[Mr],B[_r])):yr[qr]=C(yr[qr],J(z[Mr],B[_r]));else for(Rr=T[re+1],_r=T[re];_r<Rr;_r++)mr[qr=O[_r]]!==Y&&(mr[qr]=Y,Nr.push(qr));if(R)for(var vr=Nr.length,Or=K[L];Or<vr;Or++)ir[Or]=yr[Nr[Or]]}return K[W]=Nr.length,ar}});return t(wf,Me({"Array, Array":function(d,B){f(Be(d),Be(B));var O=this(i(d),i(B));return fe(O)?O.valueOf():O},"Matrix, Matrix":function(d,B){var O=d.size(),T=B.size();return f(O,T),1===O.length?1===T.length?function u(N,d,B){if(0===B)throw new Error("Cannot multiply two empty vectors");return l(N,d)}(d,B,O[0]):function a(N,d){if("dense"!==d.storage())throw new Error("Support for SparseMatrix not implemented");return function s(N,d){var $,B=N._data,T=N._datatype,M=d._data,U=d._datatype,Z=N._size[0],V=d._size[1],W=e,R=n;T&&U&&T===U&&"string"==typeof T&&(W=t.find(e,[$=T,$]),R=t.find(n,[$,$]));for(var er=[],C=0;C<V;C++){for(var J=R(B[0],M[0][C]),ir=1;ir<Z;ir++)J=W(J,R(B[ir],M[ir][C]));er[C]=J}return N.createDenseMatrix({data:er,size:[V],datatype:$})}(N,d)}(d,B):1===T.length?p(d,B):m(d,B)},"Matrix, Array":function(d,B){return this(d,i(B))},"Array, Matrix":function(d,B){return this(i(d,B.storage()),B)},"SparseMatrix, any":function(d,B){return v(d,B,n,!1)},"DenseMatrix, any":function(d,B){return c(d,B,n,!1)},"any, SparseMatrix":function(d,B){return v(B,d,n,!0)},"any, DenseMatrix":function(d,B){return c(B,d,n,!0)},"Array, any":function(d,B){return c(i(d),B,n,!1).valueOf()},"any, Array":function(d,B){return c(i(B),d,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(d,B,O){for(var T=this(d,B),M=0;M<O.length;M++)T=this(T,O[M]);return T}},n.signatures))}),Ob=G("FibonacciHeap",["smaller","larger"],r=>{var{smaller:t,larger:i}=r,e=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function l(u,a,s){a.left.right=a.right,a.right.left=a.left,s.degree--,s.child===a&&(s.child=a.right),0===s.degree&&(s.child=null),a.left=u,a.right=u.right,u.right=a,a.right.left=a,a.parent=null,a.mark=!1}function v(u,a){var s=a.parent;!s||(a.mark?(l(u,a,s),v(s)):a.mark=!0)}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(u,a){var s={key:u,value:a,degree:0};if(this._minimum){var p=this._minimum;s.left=p,s.right=p.right,p.right=s,s.right.left=s,t(u,p.key)&&(this._minimum=s)}else s.left=s,s.right=s,this._minimum=s;return this._size++,s},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return 0===this._size},n.prototype.extractMinimum=function(){var u=this._minimum;if(null===u)return u;for(var a=this._minimum,s=u.degree,p=u.child;s>0;){var m=p.right;p.left.right=p.right,p.right.left=p.left,p.left=a,p.right=a.right,a.right=p,p.right.left=p,p.parent=null,p=m,s--}return u.left.right=u.right,u.right.left=u.left,a=u===u.right?null:function f(u,a){var x,s=Math.floor(Math.log(a)*e)+1,p=new Array(s),m=0,h=u;if(h)for(m++,h=h.right;h!==u;)m++,h=h.right;for(;m>0;){for(var b=h.degree,S=h.right;x=p[b];){if(i(h.key,x.key)){var y=x;x=h,h=y}c(x,h),p[b]=null,b++}p[b]=h,h=S,m--}u=null;for(var w=0;w<s;w++)(x=p[w])&&(u?(x.left.right=x.right,x.right.left=x.left,x.left=u,x.right=u.right,u.right=x,x.right.left=x,t(x.key,u.key)&&(u=x)):u=x);return u}(a=u.right,this._size),this._size--,this._minimum=a,u},n.prototype.remove=function(u){this._minimum=function o(u,a,s){a.key=s;var p=a.parent;return p&&t(a.key,p.key)&&(l(u,a,p),v(u,p)),t(a.key,u.key)&&(u=a),u}(this._minimum,u,-1),this.extractMinimum()};var c=function(a,s){a.left.right=a.right,a.right.left=a.left,a.parent=s,s.child?(a.left=s.child,a.right=s.child.right,s.child.right=a,a.right.left=a):(s.child=a,a.right=a,a.left=a),s.degree++,a.mark=!1};return n},{isClass:!0});var yx=G("Spa",["addScalar","equalScalar","FibonacciHeap"],r=>{var{addScalar:t,equalScalar:i,FibonacciHeap:e}=r;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new e}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(o,l){if(this._values[o])this._values[o].value=l;else{var v=this._heap.insert(o,l);this._values[o]=v}},n.prototype.get=function(o){var l=this._values[o];return l?l.value:0},n.prototype.accumulate=function(o,l){var v=this._values[o];v?v.value=t(v.value,l):(v=this._heap.insert(o,l),this._values[o]=v)},n.prototype.forEach=function(o,l,v){var c=this._heap,f=this._values,u=[],a=c.extractMinimum();for(a&&u.push(a);a&&a.key<=l;)a.key>=o&&(i(a.value,0)||v(a.key,a.value,this)),(a=c.extractMinimum())&&u.push(a);for(var s=0;s<u.length;s++){var p=u[s];f[(a=c.insert(p.key,p.value)).key]=a}},n.prototype.swap=function(o,l){var v=this._values[o],c=this._values[l];if(!v&&c)v=this._heap.insert(o,c.value),this._heap.remove(c),this._values[o]=v,this._values[l]=void 0;else if(v&&!c)c=this._heap.insert(l,v.value),this._heap.remove(v),this._values[l]=c,this._values[o]=void 0;else if(v&&c){var f=v.value;v.value=c.value,c.value=f}},n},{isClass:!0}),Bx=G("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],r=>{var{typed:t,matrix:i,abs:e,addScalar:n,divideScalar:o,multiplyScalar:l,subtract:v,larger:c,equalScalar:f,unaryMinus:u,DenseMatrix:a,SparseMatrix:s,Spa:p}=r;return t("lup",{DenseMatrix:function(b){return m(b)},SparseMatrix:function(b){return function h(x){var $,W,R,b=x._size[0],S=x._size[1],y=Math.min(b,S),w=x._values,N=x._index,d=x._ptr,B=[],O=[],T=[],M=[b,y],z=[],U=[],Z=[],V=[y,S],er=[],C=[];for($=0;$<b;$++)er[$]=$,C[$]=$;var ir=function(){var K=new p;W<b&&(T.push(B.length),B.push(1),O.push(W)),Z.push(z.length);var yr=d[W+1];for(R=d[W];R<yr;R++)K.set(er[$=N[R]],w[R]);W>0&&K.forEach(0,W-1,function(Rr,Mr){s._forEachRow(Rr,B,O,T,function(ae,kr){ae>Rr&&K.accumulate(ae,u(l(kr,Mr)))})});var mr=W,_r=K.get(W),Cr=e(_r);K.forEach(W+1,b-1,function(Rr,Mr){var ae=e(Mr);c(ae,Cr)&&(mr=Rr,Cr=ae,_r=Mr)}),W!==mr&&(s._swapRows(W,mr,M[1],B,O,T),s._swapRows(W,mr,V[1],z,U,Z),K.swap(W,mr),function(K,ar){var yr=C[K],mr=C[ar];er[yr]=ar,er[mr]=K,C[K]=mr,C[ar]=yr}(W,mr)),K.forEach(0,b-1,function(Rr,Mr){Rr<=W?(z.push(Mr),U.push(Rr)):(Mr=o(Mr,_r),f(Mr,0)||(B.push(Mr),O.push(Rr)))})};for(W=0;W<S;W++)ir();return Z.push(z.length),T.push(B.length),{L:new s({values:B,index:O,ptr:T,size:M}),U:new s({values:z,index:U,ptr:Z,size:V}),p:er,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(b)},Array:function(b){var y=m(i(b));return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function m(x){var T,M,z,b=x._size[0],S=x._size[1],y=Math.min(b,S),w=ur(x._data),N=[],d=[b,y],B=[],O=[y,S],U=[];for(T=0;T<b;T++)U[T]=T;for(M=0;M<S;M++){if(M>0)for(T=0;T<b;T++){var Z=Math.min(T,M),V=0;for(z=0;z<Z;z++)V=n(V,l(w[T][z],w[z][M]));w[T][M]=v(w[T][M],V)}var $=M,W=0,R=0;for(T=M;T<b;T++){var er=w[T][M],C=e(er);c(C,W)&&($=T,W=C,R=er)}if(M!==$&&(U[M]=[U[$],U[$]=U[M]][0],a._swapRows(M,$,w)),M<b)for(T=M+1;T<b;T++)f(w[T][M],0)||(w[T][M]=o(w[T][M],R))}for(M=0;M<S;M++)for(T=0;T<b;T++)0===M&&(T<S&&(B[T]=[]),N[T]=[]),T<M?(T<S&&(B[T][M]=w[T][M]),M<b&&(N[T][M]=0)):T!==M?(T<S&&(B[T][M]=0),M<b&&(N[T][M]=w[T][M])):(T<S&&(B[T][M]=w[T][M]),M<b&&(N[T][M]=1));var ir=new a({data:N,size:d}),Nr=new a({data:B,size:O}),K=[];for(T=0,y=U.length;T<y;T++)K[U[T]]=T;return{L:ir,U:Nr,p:K,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),Tx=G("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],r=>{var{typed:t,matrix:i,subtract:e,multiply:n,unaryMinus:o,lup:l}=r;return t("det",{any:function(f){return ur(f)},"Array | Matrix":function(f){var u;switch((u=fe(f)?f.size():Array.isArray(f)?(f=i(f)).size():[]).length){case 0:return ur(f);case 1:if(1===u[0])return ur(f.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Ne(u)+")");case 2:var a=u[0];if(a===u[1])return function v(c,f,u){if(1===f)return ur(c[0][0]);if(2===f)return e(n(c[0][0],c[1][1]),n(c[1][0],c[0][1]));for(var a=l(c),s=a.U[0][0],p=1;p<f;p++)s=n(s,a.U[p][p]);for(var m=0,h=0,x=[];;){for(;x[h];)h++;if(h>=f)break;for(var b=h,S=0;!x[a.p[b]];)x[a.p[b]]=!0,b=a.p[b],S++;S%2==0&&m++}return m%2==0?s:o(s)}(f.clone().valueOf(),a);throw new RangeError("Matrix must be square (size: "+Ne(u)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Ne(u)+")")}}})}),Fx=G("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],r=>{var{typed:t,matrix:i,divideScalar:e,addScalar:n,multiply:o,unaryMinus:l,det:v,identity:c,abs:f}=r;return t("inv",{"Array | Matrix":function(s){var p=fe(s)?s.size():Be(s);switch(p.length){case 1:if(1===p[0])return fe(s)?i([e(1,s.valueOf()[0])]):[e(1,s[0])];throw new RangeError("Matrix must be square (size: "+Ne(p)+")");case 2:var m=p[0],h=p[1];if(m===h)return fe(s)?i(u(s.valueOf(),m,h),s.storage()):u(s,m,h);throw new RangeError("Matrix must be square (size: "+Ne(p)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Ne(p)+")")}},any:function(s){return e(1,s)}});function u(a,s,p){var m,h,x,b,S;if(1===s){if(0===(b=a[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[e(1,b)]]}if(2===s){var y=v(a);if(0===y)throw Error("Cannot calculate inverse, determinant is zero");return[[e(a[1][1],y),e(l(a[0][1]),y)],[e(l(a[1][0]),y),e(a[0][0],y)]]}var w=a.concat();for(m=0;m<s;m++)w[m]=w[m].concat();for(var N=c(s).valueOf(),d=0;d<p;d++){var B=f(w[d][d]),O=d;for(m=d+1;m<s;)f(w[m][d])>B&&(B=f(w[m][d]),O=m),m++;if(0===B)throw Error("Cannot calculate inverse, determinant is zero");(m=O)!==d&&(S=w[d],w[d]=w[m],w[m]=S,S=N[d],N[d]=N[m],N[m]=S);var T=w[d],M=N[d];for(m=0;m<s;m++){var z=w[m],U=N[m];if(m!==d){if(0!==z[d]){for(x=e(l(z[d]),T[d]),h=d;h<p;h++)z[h]=n(z[h],o(x,T[h]));for(h=0;h<p;h++)U[h]=n(U[h],o(x,M[h]))}}else{for(x=T[d],h=d;h<p;h++)z[h]=e(z[h],x);for(h=0;h<p;h++)U[h]=e(U[h],x)}}}return N}}),Zx=G("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],r=>{var{typed:t,matrix:i,multiply:e,equalScalar:n,divideScalar:o,inv:l}=r,v=at({typed:t,equalScalar:n}),c=Oe({typed:t});return t("divide",Me({"Array | Matrix, Array | Matrix":function(u,a){return e(u,l(a))},"DenseMatrix, any":function(u,a){return c(u,a,o,!1)},"SparseMatrix, any":function(u,a){return v(u,a,o,!1)},"Array, any":function(u,a){return c(i(u),a,o,!1).valueOf()},"any, Array | Matrix":function(u,a){return e(u,l(a))}},o.signatures))}),la="unbiased",wc="variance",$x=G(wc,["typed","add","subtract","multiply","divide","apply","isNaN"],r=>{var{typed:t,add:i,subtract:e,multiply:n,divide:o,apply:l,isNaN:v}=r;return t(wc,{"Array | Matrix":function(a){return c(a,la)},"Array | Matrix, string":c,"Array | Matrix, number | BigNumber":function(a,s){return f(a,s,la)},"Array | Matrix, number | BigNumber, string":f,"...":function(a){return c(a,la)}});function c(u,a){var s,p=0;if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Vt(u,function(x){try{s=void 0===s?x:i(s,x),p++}catch(b){throw St(b,"variance",x)}}),0===p)throw new Error("Cannot calculate variance of an empty array");var m=o(s,p);if(s=void 0,Vt(u,function(x){var b=e(x,m);s=void 0===s?n(b,b):i(s,n(b,b))}),v(s))return s;switch(a){case"uncorrected":return o(s,p);case"biased":return o(s,p+1);case"unbiased":var h=xe(s)?s.mul(0):0;return 1===p?h:o(s,p-1);default:throw new Error('Unknown normalization "'+a+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function f(u,a,s){try{if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return l(u,a,p=>c(p,s))}catch(p){throw St(p,"variance")}}}),jx=G("std",["typed","sqrt","variance"],r=>{var{typed:t,sqrt:i,variance:e}=r;return t("std",{"Array | Matrix":n,"Array | Matrix, string":n,"Array | Matrix, number | BigNumber":n,"Array | Matrix, number | BigNumber, string":n,"...":function(l){return n(l)}});function n(o,l){if(0===o.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return i(e.apply(null,arguments))}catch(v){throw v instanceof TypeError&&-1!==v.message.indexOf(" variance")?new TypeError(v.message.replace(" variance"," std")):v}}}),Dr=Qc({config:Sr}),We=cl({}),Ln=Rv({}),va=zv({}),we=em({Matrix:va}),k=cm({BigNumber:Dr,Complex:We,DenseMatrix:we,Fraction:Ln}),Ct=Nm({typed:k}),et=Zm({typed:k}),ma=th({BigNumber:Dr,typed:k}),Ri=wh({typed:k}),Ce=Th({config:Sr,typed:k}),Yt=ip({typed:k}),Qe=wp({typed:k}),fi=Op({typed:k}),fn=Qp({Matrix:va,equalScalar:Ce,typed:k}),ww=ld({isInteger:Yt,typed:k}),ga=Ad({typed:k}),Mn=Pd({Complex:We,config:Sr,typed:k}),cn=Gd({typed:k}),Cc=Qd({Fraction:Ln,typed:k}),Gr=jd({DenseMatrix:we,Matrix:va,SparseMatrix:fn,typed:k}),ci=_g({bignumber:ma,fraction:Cc,number:fi}),bt=Rg({matrix:Gr,config:Sr,typed:k}),Wt=qg({DenseMatrix:we,config:Sr,matrix:Gr,typed:k}),tt=Kg({DenseMatrix:we,addScalar:et,equalScalar:Ce,matrix:Gr,typed:k,unaryMinus:cn}),Ke=_0({numeric:ci,typed:k}),xt=Fy({DenseMatrix:we,SparseMatrix:fn,addScalar:et,equalScalar:Ce,matrix:Gr,typed:k}),Uc=$y({addScalar:et,conj:Ri,multiplyScalar:Qe,size:bt,typed:k}),mi=i1({BigNumber:Dr,DenseMatrix:we,SparseMatrix:fn,config:Sr,matrix:Gr,typed:k}),Qt=s1({DenseMatrix:we,config:Sr,matrix:Gr,typed:k}),st=d1({addScalar:et,dot:Uc,equalScalar:Ce,matrix:Gr,multiplyScalar:Qe,typed:k}),kw=jx({sqrt:Mn,typed:k,variance:$x({add:xt,apply:ww,divide:Zx({divideScalar:Ke,equalScalar:Ce,inv:Fx({abs:Ct,addScalar:et,det:Tx({lup:Bx({DenseMatrix:we,Spa:yx({FibonacciHeap:Ob({larger:Qt,smaller:Wt}),addScalar:et,equalScalar:Ce}),SparseMatrix:fn,abs:Ct,addScalar:et,divideScalar:Ke,equalScalar:Ce,larger:Qt,matrix:Gr,multiplyScalar:Qe,subtract:tt,typed:k,unaryMinus:cn}),matrix:Gr,multiply:st,subtract:tt,typed:k,unaryMinus:cn}),divideScalar:Ke,identity:mi,matrix:Gr,multiply:st,typed:k,unaryMinus:cn}),matrix:Gr,multiply:st,typed:k}),isNaN:ga,multiply:st,subtract:tt,typed:k})});let Lc=(()=>{class r{constructor(i){this.options=i,this.cachePromiseMap=new Map,this.loadModelSub=new pe.X(!1),this.loadModel$=this.loadModelSub.asObservable()}preload(i){var e=this;return jr(function*(){const n=!!(null==i?void 0:i.live)&&(null==i?void 0:i.live);let o=!!(null==i?void 0:i.iris)&&(null==i?void 0:i.iris);o=n&&o;const l=`${n}|${o}`;if(!e.cachePromiseMap.has(l)){const v=jt(Object.assign({resourcesUrl:e.options.resourcesUrl},i)),c=gr(e.options.script).then(()=>vn(v).load(v)).then(()=>(e.loadModelSub.next(!0),e.loaded=!0,!0),()=>!1).catch(f=>(console.log(f),!1));e.cachePromiseMap.set(l,c)}return e.cachePromiseMap.get(l)})()}}return r.\u0275fac=function(i){return new(i||r)(sr.LFG(Ur.R))},r.\u0275prov=sr.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const iM=["videoFaceDetect"],aM=["devCanvas"];function oM(r,t){if(1&r&&(sr.TgZ(0,"div",4),sr._UZ(1,"canvas",5,6),sr.TgZ(3,"h3"),sr._uU(4),sr.qZA(),sr.TgZ(5,"p"),sr._uU(6),sr.ALo(7,"async"),sr.qZA(),sr.TgZ(8,"p"),sr._uU(9),sr.qZA(),sr.TgZ(10,"p"),sr._uU(11),sr.qZA(),sr.TgZ(12,"p"),sr._uU(13),sr.qZA(),sr.TgZ(14,"p"),sr._uU(15),sr.qZA(),sr.TgZ(16,"p",7),sr._uU(17),sr.qZA(),sr.qZA()),2&r){const i=sr.oxw();sr.xp6(4),sr.hij("INFO: ",i._info,""),sr.xp6(2),sr.hij("onDetect: ",sr.lcZ(7,7,i.onDetect$),""),sr.xp6(3),sr.hij("videoWidth: ",null==i.videoEle||null==i.videoEle.nativeElement?null:i.videoEle.nativeElement.videoWidth,""),sr.xp6(2),sr.hij("ClientWidth: ",null==i.videoEle||null==i.videoEle.nativeElement?null:i.videoEle.nativeElement.clientWidth,""),sr.xp6(2),sr.hij("videoHeight: ",null==i.videoEle||null==i.videoEle.nativeElement?null:i.videoEle.nativeElement.videoHeight,""),sr.xp6(2),sr.hij("ClientHeight: ",null==i.videoEle||null==i.videoEle.nativeElement?null:i.videoEle.nativeElement.clientHeight,""),sr.xp6(2),sr.hij("Scores: ",i._score,"")}}const Li=r=>r.face.filter(t=>t.withinRect&&t.box[2]>50).sort((t,i)=>i.box[2]-t.box[2]);let Zc=(()=>{class r{constructor(i,e,n,o,l){var v=this;this.elementRef=i,this.platformId=e,this.options=o,this.FaceDetectionService=l,this._info="",this._score=0,this.delay=100,this.bioassay=!1,this.iris=!1,this.isMobile=wr().any,this.debug=!1,this.autoplay=!0,this.videoMaxWidth=1280,this.videoMaxHeight=720,this.noAvailableStream=new sr.vpe,this.onDestroy$=new _e.x,this.detectStateSub=new pe.X(!1),this.onDetect$=this.detectStateSub.asObservable(),this.beginDetect$=this.onDetect$.pipe((0,Fe.h)(c=>c),(0,dr.q)(1)),this.detect$=new zr.y(c=>{let f,u=!1;const a=function(){var s=jr(function*(){var p;if(u)return;v.FaceDetectionService.loaded||(yield v.FaceDetectionService.preload({live:v.bioassay,iris:v.iris,debug:v.debug}));const m=yield v.detectVideoDelegate(v.config);if(m&&m.face&&v.detectStateSub.next(!0),m&&m.face&&m.face.length&&m.face.length>0){let h=.6;if(v.config&&!0!==(null===(p=v.config.face.mesh)||void 0===p?void 0:p.enabled)&&(h=.4,v.isMobile&&(h=.5)),m.face=m.face.map(x=>{const[b,S,y,w]=x.box;let N=b,d=S,B=y,O=w;const T=B*h,M=O*h;return N+=(B-T)/2,d+=(O-M)/2,B=T,O=M,x.box=[N,d,B,O],x}),c.next(m),v.debug&&m.face[0]){const x=m.face[0];v._info=(x.gesture||[]).join(",")+"\ninitBackend: "+m.performance.initBackend+"\nloadModels: "+m.performance.loadModels+"\ntotal: "+m.performance.total+"\nfacebox: "+x.box[2]}}f=setTimeout(a,v.delay)});return function(){return s.apply(this,arguments)}}();return a(),()=>{u=!0,this.detectStateSub.next(!1),clearTimeout(f)}}).pipe((0,Ae.B)()),this.loadstartVideo=!1,(0,ut.NF)(this.platformId)&&(this.canvasEle=n.createElement("canvas"))}loadstartHandler(){this.loadstartVideo=!0}pause(){this.videoEle.nativeElement.pause()}stopStream(){this.stream&&(this.stream.getTracks().forEach(i=>i.stop()),this.stream=void 0)}play(){this.videoEle&&this.videoEle.nativeElement.play()}takePhoto(i=600,e=800,n,o){var l=this;return new zr.y(v=>{const c=[],f=[],u=this.detectWithRect(n).pipe((0,Fe.h)(a=>a.face.length>0),(0,Fe.h)(a=>{var s;return(null===(s=Li(a))||void 0===s?void 0:s.length)>0}),(0,Ue.b)(a=>{c.push(a)}),(0,Ue.b)(a=>f.push((r=>{const t=[];return null==r||r.forEach(i=>{const e=[];null==i||i.face.forEach(n=>{e.push(n.box[0]),e.push(n.box[1])}),t.push(e)}),(r=>kw(r))(t)})(c))),(0,Fe.h)(a=>f.length>=3),(0,Fe.h)(a=>It(f)>0&&It(f)<2||(f.shift(),c.shift(),!1)),Kr(this.onDestroy$)).subscribe(function(){var a=jr(function*(s){let p,m;const h=Li(s);if(h.length>0){let x;const b=h[0].box,S=Hr(l.videoEle.nativeElement,l.canvasEle,i,e,{x:b[0],y:b[1],width:b[2],height:b[3]});if(o&&(x=oe(l.videoEle.nativeElement,l.canvasEle)),p=S,m=x,p)if(l.isMobile)v.next({photo:p,rectPhoto:m,result:s}),p&&(u.unsubscribe(),v.complete());else{const y=document.createElement("img");y&&(y.src=p,y.onload=jr(function*(){var w;const N=yield l.human.detect(y,jt({resourcesUrl:null===(w=l.options)||void 0===w?void 0:w.resourcesUrl,debug:l.debug,iris:!1,live:!1}));N&&N.face&&N.face.length>0&&(v.next({photo:p,rectPhoto:m,result:s}),p&&(u.unsubscribe(),v.complete()))}))}}});return function(s){return a.apply(this,arguments)}}());return()=>u.unsubscribe()})}takeBetterPhoto(i=600,e=800,n,o){let v,l=Number.MAX_SAFE_INTEGER;return new zr.y(c=>{const f=this.detectWithRect(n).pipe((0,Fe.h)(u=>u.face.length>0),Kr(this.onDestroy$)).subscribe(u=>{let a;const s=Li(u);if(s.length>0){const p=s[0].box,{level:m,isBetter:h}=((r,t,i)=>{const n=(r=>{let t=100;const i=Object.keys(r).length;return r.facingCamera&&(t=i),r.blinkLeft&&(t+=10),r.blinkRight&&(t+=10),r.mouth&&(t+=30),t})(kt(t));let o=!1,l=r;return n===r||n<r&&(l=n,o=!0),{level:l,isBetter:o}})(l,s[0]);if(h){l=m,v=s[0];const x=Hr(this.videoEle.nativeElement,this.canvasEle,i,e,{x:p[0],y:p[1],width:p[2],height:p[3]});o&&(a=oe(this.videoEle.nativeElement,this.canvasEle)),c.next({photo:x,rectPhoto:a,result:u})}}});return()=>f&&f.unsubscribe()})}liveness(i,e){const n=[];return new zr.y(v=>{const c=this.detectWithRect(e).pipe(Kr(this.onDestroy$),(0,Fe.h)(f=>f.face.length>0),(0,ot.U)(f=>{const u=Li(f);if(u.length>0){const s=kt(u[0]);n.push(s),n.length>30&&n.shift()}return n}),(0,Fe.h)(f=>f.length>5)).subscribe(f=>{((r,t)=>{switch(t){case"facingLeft":case"facingRight":return Ft(r,t)&&It(r.map(i=>i.horizontal))>50;case"headUp":case"headDown":return Ft(r,t)&&It(r.map(i=>i.vertical))>100;case"mouth":case"facingCamera":return Ft(r,t);case"blink":return r.findIndex(i=>i.blink)>-1;case"shake":return(r=>{const t=((r,t)=>{const i=[];let e;return r.forEach(n=>{let o=!1;for(let l=0;l<t.length;l++){const v=t[l];if(n[v]){o=!0,e!==v&&(i.push(v),e=v);break}}o||i.push(void 0)}),i})(r,["facingLeft","facingRight"]);return console.log(t),hn(t,"facingLeft","facingRight",4)||hn(t,"facingRight","facingLeft",4)})(r)}return!1})(f,i)&&(v.next(!0),v.complete())});return()=>c&&c.unsubscribe()})}livenessArray(i,e){return new zr.y(n=>{0===i.length&&n.error("an action at least");let o=(0,Xr.of)(!0);for(let v=0;v<i.length;v++){const c=i[v];o=o.pipe((0,$t.w)(()=>this.liveness(c,e)),(0,Ue.b)(()=>n.next({act:c,num:v})))}const l=o.subscribe(()=>n.complete());return()=>l&&l.unsubscribe()})}livenessArrayTakeBetterPhoto(i,e=600,n=800,o,l){return new zr.y(v=>{const c=(0,Qr.a)([this.livenessArray(i,o),this.takeBetterPhoto(e,n,o,l)]).subscribe(([f,u])=>{f.num>=i.length-1&&(v.next({step:f.num,action:f.act,photo:u.photo,rectPhoto:u.rectPhoto}),v.complete()),v.next({step:f.num,action:f.act})});return()=>c&&c.unsubscribe()})}detectWithRect(i){const{x:e,y:n,width:o,height:l}=i||{x:0,y:0,width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER};let v;return this.debug&&this.devCanvasEle&&(v=this.devCanvasEle.nativeElement.getContext("2d")),this.detect$.pipe((0,ot.U)(c=>{const f=this.videoEle.nativeElement.videoWidth,u=this.videoEle.nativeElement.videoHeight,a=this.elementRef.nativeElement.clientWidth||document.body.clientWidth,s=this.elementRef.nativeElement.clientHeight||document.body.clientHeight;return this.debug&&v&&(this.devCanvasEle.nativeElement.width=a,this.devCanvasEle.nativeElement.height=s,v.clearRect(0,0,a,s),v.fillStyle="#FF000033",o&&l&&v.fillRect(e,n,o,l)),c.face=c.face.map((p,m)=>{const[h,x,b,S]=p.box;let T,y=f-h-b,w=x,N=y+b,d=w+S;if(f/u>a/s){const M=s/u;y*=M,w*=M,N*=M,d*=M;const z=(a-f*M)/2;y+=z,N+=z}else{const M=a/f;y*=M,w*=M,N*=M,d*=M;const z=(s-u*M)/2;w+=z,d+=z}if(p.gesture=c.gesture.filter(M=>M.face===m).map(M=>M.gesture),o&&l&&(T=y>e&&w>n&&N<e+o&&d<n+l),this.debug&&v){const M=N-y,z=d-w;v.fillStyle=v.strokeStyle=["green","red","yellow","blue","cyan","purple"][m],v.lineWidth=4;const Z=30;let V=1;v.font=`${Z}px Arial`,v.strokeRect(y,w,M,z),v.fillText(`${m}`,y+10,w+Z*V++,M),v.fillText(`${p.gesture.join(",")}`,y+10,w+Z*V++,M)}return Object.assign(Object.assign({},p),{withinRect:T})}),c}))}begin(i=this.stream){return new zr.y(e=>{const n=()=>{this.stream&&this.videoEle&&this.videoEle.nativeElement.srcObject!==this.stream&&(this.videoEle.nativeElement.srcObject=this.stream,this.play()),this.FaceDetectionService.loaded&&e.complete()};if(i&&i.active)this.stream=i,n();else{const o=this.getNeedWidth();navigator.mediaDevices.getUserMedia({audio:!1,video:Object.assign(Object.assign({},o),{facingMode:"user"})}).then(l=>{this.stream=l,n()},l=>{e.error(l)}).catch(l=>{this.noAvailableStream.emit(!0),console.log(l)})}})}getNeedWidth(){return function mn(r,t,i,e,n){const o=r;return n&&(r=t,t=o,i=e),r>i&&(r=i,t=Math.round(r/(r/t))),{width:r}}(this.elementRef.nativeElement.clientWidth,this.elementRef.nativeElement.clientHeight,this.videoMaxWidth,this.videoMaxHeight,this.isMobile)}get human(){return vn(this.config)}detectVideoDelegate(i){var e=this;return jr(function*(){var n;if(!e.videoEle)return!1;const o=e.videoEle.nativeElement;return!(!o.currentTime||o.paused||o.ended)&&(yield gr(null===(n=e.options)||void 0===n?void 0:n.script),yield e.human.detect(o,i))})()}updateConfig(){var i;this.options&&(this.config=jt({resourcesUrl:null===(i=this.options)||void 0===i?void 0:i.resourcesUrl,debug:this.debug,iris:this.iris,live:this.bioassay}))}ngOnInit(){this.updateConfig()}ngAfterViewInit(){var i=this;return jr(function*(){i.startCamera()})()}ngOnChanges(i){const{stream:e,iris:n,bioassay:o}=i;(null==e?void 0:e.currentValue)&&this.stream&&this.stream.active&&this.startCamera(),((null==n?void 0:n.currentValue)||(null==o?void 0:o.currentValue))&&this.updateConfig()}startCamera(){var i=this;return jr(function*(){if((0,ut.NF)(i.platformId)){const e=yield function An(){return Tt.apply(this,arguments)}();console.log(e),(null==e?void 0:e.some(o=>o.deviceId))?i.begin().subscribe():console.log("no avaiable camera")}})()}detect(i){var e=this;return jr(function*(){return e.human.detect(i,e.config)})()}ngOnDestroy(){this.onDestroy$.next()}}return r.\u0275fac=function(i){return new(i||r)(sr.Y36(sr.SBq),sr.Y36(sr.Lbi),sr.Y36(ut.K0),sr.Y36(Ur.R),sr.Y36(Lc))},r.\u0275cmp=sr.Xpm({type:r,selectors:[["ngx-face-detection"]],viewQuery:function(i,e){if(1&i&&(sr.Gf(iM,7),sr.Gf(aM,5)),2&i){let n;sr.iGM(n=sr.CRH())&&(e.videoEle=n.first),sr.iGM(n=sr.CRH())&&(e.devCanvasEle=n.first)}},hostVars:4,hostBindings:function(i,e){2&i&&sr.ekj("debug",e.debug)("video-loaded",e.loadstartVideo)},inputs:{delay:"delay",bioassay:"bioassay",iris:"iris",isMobile:"isMobile",debug:"debug",stream:"stream",autoplay:"autoplay",videoMaxWidth:"videoMaxWidth",videoMaxHeight:"videoMaxHeight"},outputs:{noAvailableStream:"noAvailableStream"},features:[sr.TTD],decls:4,vars:1,consts:[[1,"video"],["playsinline","",3,"loadstart"],["videoFaceDetect",""],["class","dev",4,"ngIf"],[1,"dev"],[1,"dev-canvas"],["devCanvas",""],[2,"color","red"]],template:function(i,e){1&i&&(sr.TgZ(0,"div",0),sr.TgZ(1,"video",1,2),sr.NdJ("loadstart",function(){return e.loadstartHandler()}),sr.qZA(),sr.qZA(),sr.YNc(3,oM,18,9,"div",3)),2&i&&(sr.xp6(3),sr.Q6J("ngIf",e.debug))},directives:[ut.O5],pipes:[ut.Ov],styles:["[_nghost-%COMP%]{display:block;position:relative;width:100%;height:100%;overflow:hidden}h3[_ngcontent-%COMP%]{z-index:1001;white-space:pre-line}.video-loaded[_nghost-%COMP%]   video[_ngcontent-%COMP%]{visibility:visible}.video[_ngcontent-%COMP%]{transform:scaleX(-1);width:100%;height:100%}video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}canvas[_ngcontent-%COMP%]{position:absolute;pointer-events:none}.hidden[_ngcontent-%COMP%]{display:none}.dev[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff,0px 2px 2px rgba(0,0,0,.6)}.debug[_nghost-%COMP%] > .photo-canvas[_ngcontent-%COMP%]{display:block}.opacity-hidden[_ngcontent-%COMP%]{opacity:0}"]}),r})();const uM=["rectPhoto"],wt="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",sM=[{path:"",component:(()=>{class r{constructor(i,e){this.el=i,this.faceDetectionService=e,this.title="dev-face-camera",this.live=!0,this.iris=!0,this.debug=!0,this.delay=100,this.photo=wt,this.rectPhoto=wt}ngOnInit(){console.log(this.el.nativeElement.clientLeft),console.log(this.el.nativeElement.clientWidth),this.faceDetection.beginDetect$.subscribe(()=>{console.log("detection started")},i=>{console.log("error when detection start")})}preload(){this.faceDetectionService.preload({live:this.live,iris:this.iris,debug:this.debug})}get rect(){return wr().any?{x:0,y:0,width:this.el.nativeElement.clientWidth,height:this.el.nativeElement.clientHeight}:{x:this.el.nativeElement.clientWidth/4,y:0,width:this.el.nativeElement.clientWidth/2,height:this.el.nativeElement.clientHeight}}takePhoto(){this.lastfaceDetectionSub&&this.lastfaceDetectionSub.unsubscribe(),this.photo=wt,this.rectPhoto=wt,console.log(this.rect),this.lastfaceDetectionSub=this.faceDetection.takePhoto(600,800,this.rect,!0).subscribe(i=>{const{photo:e,rectPhoto:n}=i;this.photo=e||wt,this.rectPhoto=n||wt})}takeBetterPhoto(){this.lastfaceDetectionSub&&this.lastfaceDetectionSub.unsubscribe(),this.photo=wt,this.rectPhoto=wt,this.lastfaceDetectionSub=this.faceDetection.takeBetterPhoto(600,800,this.rect,!0).subscribe(i=>{const{photo:e,rectPhoto:n}=i;this.photo=e||wt,this.rectPhoto=n||wt,console.log("find a photo can be used")})}liveness(i){this.lastfaceDetectionSub&&this.lastfaceDetectionSub.unsubscribe(),this.lastfaceDetectionSub=this.faceDetection.liveness(i,this.rect).subscribe(e=>{console.log(e),console.log("successful liveness detection")})}livenessArray(){this.lastfaceDetectionSub&&this.lastfaceDetectionSub.unsubscribe(),this.lastfaceDetectionSub=this.faceDetection.livenessArray(["facingLeft","facingRight"],this.rect).subscribe(()=>{},()=>{},()=>{console.log("successful liveness detection")})}livenessArrayTakeBetterPhoto(i){this.lastfaceDetectionSub&&this.lastfaceDetectionSub.unsubscribe(),this.photo=wt,this.rectPhoto=wt,this.lastfaceDetectionSub=this.faceDetection.livenessArrayTakeBetterPhoto([i],600,800,this.rect,!0).subscribe(e=>{const{photo:n,rectPhoto:o}=e;this.photo=n||wt,this.rectPhoto=o||wt,console.log("successful liveness detection")})}play(){this.faceDetection.play()}pause(){this.faceDetection.pause()}noAvailableStream(i){}}return r.\u0275fac=function(i){return new(i||r)(sr.Y36(sr.SBq),sr.Y36(Lc))},r.\u0275cmp=sr.Xpm({type:r,selectors:[["app-face-detection-page"]],viewQuery:function(i,e){if(1&i&&(sr.Gf(Zc,7),sr.Gf(uM,5)),2&i){let n;sr.iGM(n=sr.CRH())&&(e.faceDetection=n.first),sr.iGM(n=sr.CRH())&&(e.rectPhotoEle=n.first)}},decls:27,vars:6,consts:[[1,"dev"],[3,"click"],[1,"images"],[3,"src"],[3,"stream","bioassay","iris","debug","noAvailableStream"]],template:function(i,e){1&i&&(sr.TgZ(0,"div",0),sr.TgZ(1,"button",1),sr.NdJ("click",function(){return e.preload()}),sr._uU(2,"preload sources"),sr.qZA(),sr.TgZ(3,"button",1),sr.NdJ("click",function(){return e.takePhoto()}),sr._uU(4,"take a photo"),sr.qZA(),sr.TgZ(5,"button",1),sr.NdJ("click",function(){return e.takeBetterPhoto()}),sr._uU(6,"take a better photo"),sr.qZA(),sr.TgZ(7,"button",1),sr.NdJ("click",function(){return e.livenessArrayTakeBetterPhoto("facingCamera")}),sr._uU(8,"facingCamera"),sr.qZA(),sr.TgZ(9,"button",1),sr.NdJ("click",function(){return e.livenessArrayTakeBetterPhoto("facingLeft")}),sr._uU(10,"facingLeft"),sr.qZA(),sr.TgZ(11,"button",1),sr.NdJ("click",function(){return e.livenessArrayTakeBetterPhoto("facingRight")}),sr._uU(12,"facingRight"),sr.qZA(),sr.TgZ(13,"button",1),sr.NdJ("click",function(){return e.livenessArrayTakeBetterPhoto("headUp")}),sr._uU(14,"headUp"),sr.qZA(),sr.TgZ(15,"button",1),sr.NdJ("click",function(){return e.livenessArrayTakeBetterPhoto("headDown")}),sr._uU(16,"headDown"),sr.qZA(),sr.TgZ(17,"button",1),sr.NdJ("click",function(){return e.livenessArrayTakeBetterPhoto("mouth")}),sr._uU(18,"openMouth"),sr.qZA(),sr.TgZ(19,"button",1),sr.NdJ("click",function(){return e.livenessArrayTakeBetterPhoto("blink")}),sr._uU(20,"blink"),sr.qZA(),sr.TgZ(21,"button",1),sr.NdJ("click",function(){return e.livenessArrayTakeBetterPhoto("shake")}),sr._uU(22,"shake"),sr.qZA(),sr.TgZ(23,"div",2),sr._UZ(24,"img",3),sr._UZ(25,"img",3),sr.qZA(),sr.qZA(),sr.TgZ(26,"ngx-face-detection",4),sr.NdJ("noAvailableStream",function(o){return e.noAvailableStream(o)}),sr.qZA()),2&i&&(sr.xp6(24),sr.Q6J("src",e.photo,sr.LSH),sr.xp6(1),sr.Q6J("src",e.rectPhoto,sr.LSH),sr.xp6(1),sr.Q6J("stream",e.stream)("bioassay",e.live)("iris",e.iris)("debug",e.debug))},directives:[Zc],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;position:fixed;overflow:hidden}.dev[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1002}img[_ngcontent-%COMP%]{max-width:200px}.images[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}button[_ngcontent-%COMP%]{padding:4px;margin:4px}"]}),r})()}];let fM=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr.oAB({type:r}),r.\u0275inj=sr.cJS({providers:[],imports:[[Ge.D,ue.Bz.forChild(sM)]]}),r})()},1006:function(de,Ee){var ue;!function(Ge){"use strict";var Lr=function(D){return.5*(Math.exp(D)+Math.exp(-D))},Er=function(D){return.5*(Math.exp(D)-Math.exp(-D))},ee=function(){throw SyntaxError("Invalid Param")};function Ir(D,P){var q=Math.abs(D),pr=Math.abs(P);return 0===D?Math.log(pr):0===P?Math.log(q):q<3e3&&pr<3e3?.5*Math.log(D*D+P*P):Math.log(D/Math.cos(Math.atan2(P,D)))}function X(D,P){if(!(this instanceof X))return new X(D,P);var q=function(D,P){var q={re:0,im:0};if(null==D)q.re=q.im=0;else if(void 0!==P)q.re=D,q.im=P;else switch(typeof D){case"object":if("im"in D&&"re"in D)q.re=D.re,q.im=D.im;else if("abs"in D&&"arg"in D){if(!Number.isFinite(D.abs)&&Number.isFinite(D.arg))return X.INFINITY;q.re=D.abs*Math.cos(D.arg),q.im=D.abs*Math.sin(D.arg)}else if("r"in D&&"phi"in D){if(!Number.isFinite(D.r)&&Number.isFinite(D.phi))return X.INFINITY;q.re=D.r*Math.cos(D.phi),q.im=D.r*Math.sin(D.phi)}else 2===D.length?(q.re=D[0],q.im=D[1]):ee();break;case"string":q.im=q.re=0;var pr=D.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),Br=1,Pr=0;null===pr&&ee();for(var or=0;or<pr.length;or++){var Ar=pr[or];" "===Ar||"\t"===Ar||"\n"===Ar||("+"===Ar?Br++:"-"===Ar?Pr++:"i"===Ar||"I"===Ar?(Br+Pr===0&&ee()," "===pr[or+1]||isNaN(pr[or+1])?q.im+=parseFloat((Pr%2?"-":"")+"1"):(q.im+=parseFloat((Pr%2?"-":"")+pr[or+1]),or++),Br=Pr=0):((Br+Pr===0||isNaN(Ar))&&ee(),"i"===pr[or+1]||"I"===pr[or+1]?(q.im+=parseFloat((Pr%2?"-":"")+Ar),or++):q.re+=parseFloat((Pr%2?"-":"")+Ar),Br=Pr=0))}Br+Pr>0&&ee();break;case"number":q.im=0,q.re=D;break;default:ee()}return isNaN(q.re)||isNaN(q.im),q}(D,P);this.re=q.re,this.im=q.im}X.prototype={re:0,im:0,sign:function(){var D=this.abs();return new X(this.re/D,this.im/D)},add:function(D,P){var q=new X(D,P);return this.isInfinite()&&q.isInfinite()?X.NAN:this.isInfinite()||q.isInfinite()?X.INFINITY:new X(this.re+q.re,this.im+q.im)},sub:function(D,P){var q=new X(D,P);return this.isInfinite()&&q.isInfinite()?X.NAN:this.isInfinite()||q.isInfinite()?X.INFINITY:new X(this.re-q.re,this.im-q.im)},mul:function(D,P){var q=new X(D,P);return this.isInfinite()&&q.isZero()||this.isZero()&&q.isInfinite()?X.NAN:this.isInfinite()||q.isInfinite()?X.INFINITY:0===q.im&&0===this.im?new X(this.re*q.re,0):new X(this.re*q.re-this.im*q.im,this.re*q.im+this.im*q.re)},div:function(D,P){var q=new X(D,P);if(this.isZero()&&q.isZero()||this.isInfinite()&&q.isInfinite())return X.NAN;if(this.isInfinite()||q.isZero())return X.INFINITY;if(this.isZero()||q.isInfinite())return X.ZERO;D=this.re,P=this.im;var Pr,or,pr=q.re,Br=q.im;return 0===Br?new X(D/pr,P/pr):Math.abs(pr)<Math.abs(Br)?new X((D*(or=pr/Br)+P)/(Pr=pr*or+Br),(P*or-D)/Pr):new X((D+P*(or=Br/pr))/(Pr=Br*or+pr),(P-D*or)/Pr)},pow:function(D,P){var q=new X(D,P);if(D=this.re,P=this.im,q.isZero())return X.ONE;if(0===q.im){if(0===P&&D>0)return new X(Math.pow(D,q.re),0);if(0===D)switch((q.re%4+4)%4){case 0:return new X(Math.pow(P,q.re),0);case 1:return new X(0,Math.pow(P,q.re));case 2:return new X(-Math.pow(P,q.re),0);case 3:return new X(0,-Math.pow(P,q.re))}}if(0===D&&0===P&&q.re>0&&q.im>=0)return X.ZERO;var pr=Math.atan2(P,D),Br=Ir(D,P);return D=Math.exp(q.re*Br-q.im*pr),P=q.im*Br+q.re*pr,new X(D*Math.cos(P),D*Math.sin(P))},sqrt:function(){var pr,Br,D=this.re,P=this.im,q=this.abs();if(D>=0){if(0===P)return new X(Math.sqrt(D),0);pr=.5*Math.sqrt(2*(q+D))}else pr=Math.abs(P)/Math.sqrt(2*(q-D));return Br=D<=0?.5*Math.sqrt(2*(q-D)):Math.abs(P)/Math.sqrt(2*(q+D)),new X(pr,P<0?-Br:Br)},exp:function(){var D=Math.exp(this.re);return new X(D*Math.cos(this.im),D*Math.sin(this.im))},expm1:function(){var D=this.re,P=this.im;return new X(Math.expm1(D)*Math.cos(P)+function(D){var P=Math.PI/4;if(-P>D||D>P)return Math.cos(D)-1;var q=D*D;return q*(q*(q*(q*(q*(q*(q*(q/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(P),Math.exp(D)*Math.sin(P))},log:function(){var D=this.re,P=this.im;return new X(Ir(D,P),Math.atan2(P,D))},abs:function(){return D=this.re,P=this.im,q=Math.abs(D),pr=Math.abs(P),q<3e3&&pr<3e3?Math.sqrt(q*q+pr*pr):(q<pr?(q=pr,pr=D/P):pr=P/D,q*Math.sqrt(1+pr*pr));var D,P,q,pr},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var D=this.re,P=this.im;return new X(Math.sin(D)*Lr(P),Math.cos(D)*Er(P))},cos:function(){var D=this.re,P=this.im;return new X(Math.cos(D)*Lr(P),-Math.sin(D)*Er(P))},tan:function(){var D=2*this.re,P=2*this.im,q=Math.cos(D)+Lr(P);return new X(Math.sin(D)/q,Er(P)/q)},cot:function(){var D=2*this.re,P=2*this.im,q=Math.cos(D)-Lr(P);return new X(-Math.sin(D)/q,Er(P)/q)},sec:function(){var D=this.re,P=this.im,q=.5*Lr(2*P)+.5*Math.cos(2*D);return new X(Math.cos(D)*Lr(P)/q,Math.sin(D)*Er(P)/q)},csc:function(){var D=this.re,P=this.im,q=.5*Lr(2*P)-.5*Math.cos(2*D);return new X(Math.sin(D)*Lr(P)/q,-Math.cos(D)*Er(P)/q)},asin:function(){var D=this.re,P=this.im,q=new X(P*P-D*D+1,-2*D*P).sqrt(),pr=new X(q.re-P,q.im+D).log();return new X(pr.im,-pr.re)},acos:function(){var D=this.re,P=this.im,q=new X(P*P-D*D+1,-2*D*P).sqrt(),pr=new X(q.re-P,q.im+D).log();return new X(Math.PI/2-pr.im,pr.re)},atan:function(){var D=this.re,P=this.im;if(0===D){if(1===P)return new X(0,1/0);if(-1===P)return new X(0,-1/0)}var q=D*D+(1-P)*(1-P),pr=new X((1-P*P-D*D)/q,-2*D/q).log();return new X(-.5*pr.im,.5*pr.re)},acot:function(){var D=this.re,P=this.im;if(0===P)return new X(Math.atan2(1,D),0);var q=D*D+P*P;return 0!==q?new X(D/q,-P/q).atan():new X(0!==D?D/0:0,0!==P?-P/0:0).atan()},asec:function(){var D=this.re,P=this.im;if(0===D&&0===P)return new X(0,1/0);var q=D*D+P*P;return 0!==q?new X(D/q,-P/q).acos():new X(0!==D?D/0:0,0!==P?-P/0:0).acos()},acsc:function(){var D=this.re,P=this.im;if(0===D&&0===P)return new X(Math.PI/2,1/0);var q=D*D+P*P;return 0!==q?new X(D/q,-P/q).asin():new X(0!==D?D/0:0,0!==P?-P/0:0).asin()},sinh:function(){var D=this.re,P=this.im;return new X(Er(D)*Math.cos(P),Lr(D)*Math.sin(P))},cosh:function(){var D=this.re,P=this.im;return new X(Lr(D)*Math.cos(P),Er(D)*Math.sin(P))},tanh:function(){var D=2*this.re,P=2*this.im,q=Lr(D)+Math.cos(P);return new X(Er(D)/q,Math.sin(P)/q)},coth:function(){var D=2*this.re,P=2*this.im,q=Lr(D)-Math.cos(P);return new X(Er(D)/q,-Math.sin(P)/q)},csch:function(){var D=this.re,P=this.im,q=Math.cos(2*P)-Lr(2*D);return new X(-2*Er(D)*Math.cos(P)/q,2*Lr(D)*Math.sin(P)/q)},sech:function(){var D=this.re,P=this.im,q=Math.cos(2*P)+Lr(2*D);return new X(2*Lr(D)*Math.cos(P)/q,-2*Er(D)*Math.sin(P)/q)},asinh:function(){var D=this.im;this.im=-this.re,this.re=D;var P=this.asin();return this.re=-this.im,this.im=D,D=P.re,P.re=-P.im,P.im=D,P},acosh:function(){var D=this.acos();if(D.im<=0){var P=D.re;D.re=-D.im,D.im=P}else P=D.im,D.im=-D.re,D.re=P;return D},atanh:function(){var D=this.re,P=this.im,q=D>1&&0===P,pr=1-D,Br=1+D,Pr=pr*pr+P*P,or=0!==Pr?new X((Br*pr-P*P)/Pr,(P*pr+Br*P)/Pr):new X(-1!==D?D/0:0,0!==P?P/0:0),Ar=or.re;return or.re=Ir(or.re,or.im)/2,or.im=Math.atan2(or.im,Ar)/2,q&&(or.im=-or.im),or},acoth:function(){var D=this.re,P=this.im;if(0===D&&0===P)return new X(0,Math.PI/2);var q=D*D+P*P;return 0!==q?new X(D/q,-P/q).atanh():new X(0!==D?D/0:0,0!==P?-P/0:0).atanh()},acsch:function(){var D=this.re,P=this.im;if(0===P)return new X(0!==D?Math.log(D+Math.sqrt(D*D+1)):1/0,0);var q=D*D+P*P;return 0!==q?new X(D/q,-P/q).asinh():new X(0!==D?D/0:0,0!==P?-P/0:0).asinh()},asech:function(){var D=this.re,P=this.im;if(this.isZero())return X.INFINITY;var q=D*D+P*P;return 0!==q?new X(D/q,-P/q).acosh():new X(0!==D?D/0:0,0!==P?-P/0:0).acosh()},inverse:function(){if(this.isZero())return X.INFINITY;if(this.isInfinite())return X.ZERO;var D=this.re,P=this.im,q=D*D+P*P;return new X(D/q,-P/q)},conjugate:function(){return new X(this.re,-this.im)},neg:function(){return new X(-this.re,-this.im)},ceil:function(D){return D=Math.pow(10,D||0),new X(Math.ceil(this.re*D)/D,Math.ceil(this.im*D)/D)},floor:function(D){return D=Math.pow(10,D||0),new X(Math.floor(this.re*D)/D,Math.floor(this.im*D)/D)},round:function(D){return D=Math.pow(10,D||0),new X(Math.round(this.re*D)/D,Math.round(this.im*D)/D)},equals:function(D,P){var q=new X(D,P);return Math.abs(q.re-this.re)<=X.EPSILON&&Math.abs(q.im-this.im)<=X.EPSILON},clone:function(){return new X(this.re,this.im)},toString:function(){var D=this.re,P=this.im,q="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(D)<X.EPSILON&&(D=0),Math.abs(P)<X.EPSILON&&(P=0),0===P?q+D:(0!==D?(q+=D,q+=" ",P<0?(P=-P,q+="-"):q+="+",q+=" "):P<0&&(P=-P,q+="-"),1!==P&&(q+=P),q+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},X.ZERO=new X(0,0),X.ONE=new X(1,0),X.I=new X(0,1),X.PI=new X(Math.PI,0),X.E=new X(Math.E,0),X.INFINITY=new X(1/0,1/0),X.NAN=new X(NaN,NaN),X.EPSILON=1e-15,void 0!==(ue=function(){return X}.apply(Ee,[]))&&(de.exports=ue)}()},2691:function(de,Ee,Tr){var ue;!function(Ge){"use strict";var tr,X,P,Lr=9e15,Er=1e9,ce="0123456789abcdef",ye="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ee="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ir={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Lr,maxE:Lr,crypto:!1},q=!0,pr="[DecimalError] ",Br=pr+"Invalid argument: ",Pr=pr+"Precision limit exceeded",or=pr+"crypto unavailable",Ar="[object Decimal]",xr=Math.floor,wr=Math.pow,Ur=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Vr=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,jr=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pe=1e7,Qr=ye.length-1,Fe=ee.length-1,dr={toStringTag:Ar};function Ae(g){var A,E,_,I=g.length-1,F="",H=g[0];if(I>0){for(F+=H,A=1;A<I;A++)(E=7-(_=g[A]+"").length)&&(F+=Et(E)),F+=_;(E=7-(_=(H=g[A])+"").length)&&(F+=Et(E))}else if(0===H)return"0";for(;H%10==0;)H/=10;return F+H}function Ue(g,A,E){if(g!==~~g||g<A||g>E)throw Error(Br+g)}function ct(g,A,E,_){var I,F,H,Q;for(F=g[0];F>=10;F/=10)--A;return--A<0?(A+=7,I=0):(I=Math.ceil((A+1)/7),A%=7),F=wr(10,7-A),Q=g[I]%F|0,null==_?A<3?(0==A?Q=Q/100|0:1==A&&(Q=Q/10|0),H=E<4&&99999==Q||E>3&&49999==Q||5e4==Q||0==Q):H=(E<4&&Q+1==F||E>3&&Q+1==F/2)&&(g[I+1]/F/100|0)==wr(10,A-2)-1||(Q==F/2||0==Q)&&0==(g[I+1]/F/100|0):A<4?(0==A?Q=Q/1e3|0:1==A?Q=Q/100|0:2==A&&(Q=Q/10|0),H=(_||E<4)&&9999==Q||!_&&E>3&&4999==Q):H=((_||E<4)&&Q+1==F||!_&&E>3&&Q+1==F/2)&&(g[I+1]/F/1e3|0)==wr(10,A-3)-1,H}function Kt(g,A,E){for(var _,F,I=[0],H=0,Q=g.length;H<Q;){for(F=I.length;F--;)I[F]*=A;for(I[0]+=ce.indexOf(g.charAt(H++)),_=0;_<I.length;_++)I[_]>E-1&&(void 0===I[_+1]&&(I[_+1]=0),I[_+1]+=I[_]/E|0,I[_]%=E)}return I.reverse()}dr.absoluteValue=dr.abs=function(){var g=new this.constructor(this);return g.s<0&&(g.s=1),Kr(g)},dr.ceil=function(){return Kr(new this.constructor(this),this.e+1,2)},dr.clampedTo=dr.clamp=function(g,A){var _=this,I=_.constructor;if(g=new I(g),A=new I(A),!g.s||!A.s)return new I(NaN);if(g.gt(A))throw Error(Br+A);return _.cmp(g)<0?g:_.cmp(A)>0?A:new I(_)},dr.comparedTo=dr.cmp=function(g){var A,E,_,I,F=this,H=F.d,Q=(g=new F.constructor(g)).d,nr=F.s,j=g.s;if(!H||!Q)return nr&&j?nr!==j?nr:H===Q?0:!H^nr<0?1:-1:NaN;if(!H[0]||!Q[0])return H[0]?nr:Q[0]?-j:0;if(nr!==j)return nr;if(F.e!==g.e)return F.e>g.e^nr<0?1:-1;for(A=0,E=(_=H.length)<(I=Q.length)?_:I;A<E;++A)if(H[A]!==Q[A])return H[A]>Q[A]^nr<0?1:-1;return _===I?0:_>I^nr<0?1:-1},dr.cosine=dr.cos=function(){var g,A,E=this,_=E.constructor;return E.d?E.d[0]?(A=_.rounding,_.precision=(g=_.precision)+Math.max(E.e,E.sd())+7,_.rounding=1,E=function Hn(g,A){var E,_,I;if(A.isZero())return A;(_=A.d.length)<32?I=(1/Ft(4,E=Math.ceil(_/3))).toString():(E=16,I="2.3283064365386962890625e-10"),g.precision+=E,A=_t(g,1,A.times(I),new g(1));for(var F=E;F--;){var H=A.times(A);A=H.times(H).minus(H).times(8).plus(1)}return g.precision-=E,A}(_,pn(_,E)),_.precision=g,_.rounding=A,Kr(2==P||3==P?E.neg():E,g,A,!0)):new _(1):new _(NaN)},dr.cubeRoot=dr.cbrt=function(){var g,A,E,_,I,F,H,Q,nr,j,cr=this,fr=cr.constructor;if(!cr.isFinite()||cr.isZero())return new fr(cr);for(q=!1,(F=cr.s*wr(cr.s*cr,1/3))&&Math.abs(F)!=1/0?_=new fr(F.toString()):(E=Ae(cr.d),(F=((g=cr.e)-E.length+1)%3)&&(E+=1==F||-2==F?"0":"00"),F=wr(E,1/3),g=xr((g+1)/3)-(g%3==(g<0?-1:2)),(_=new fr(E=F==1/0?"5e"+g:(E=F.toExponential()).slice(0,E.indexOf("e")+1)+g)).s=cr.s),H=(g=fr.precision)+3;;)if(j=(nr=(Q=_).times(Q).times(Q)).plus(cr),_=Re(j.plus(cr).times(Q),j.plus(nr),H+2,1),Ae(Q.d).slice(0,H)===(E=Ae(_.d)).slice(0,H)){if("9999"!=(E=E.slice(H-3,H+1))&&(I||"4999"!=E)){(!+E||!+E.slice(1)&&"5"==E.charAt(0))&&(Kr(_,g+1,1),A=!_.times(_).times(_).eq(cr));break}if(!I&&(Kr(Q,g+1,0),Q.times(Q).times(Q).eq(cr))){_=Q;break}H+=4,I=1}return q=!0,Kr(_,g,fr.rounding,A)},dr.decimalPlaces=dr.dp=function(){var g,A=this.d,E=NaN;if(A){if(E=7*((g=A.length-1)-xr(this.e/7)),g=A[g])for(;g%10==0;g/=10)E--;E<0&&(E=0)}return E},dr.dividedBy=dr.div=function(g){return Re(this,new this.constructor(g))},dr.dividedToIntegerBy=dr.divToInt=function(g){var E=this.constructor;return Kr(Re(this,new E(g),0,1,1),E.precision,E.rounding)},dr.equals=dr.eq=function(g){return 0===this.cmp(g)},dr.floor=function(){return Kr(new this.constructor(this),this.e+1,3)},dr.greaterThan=dr.gt=function(g){return this.cmp(g)>0},dr.greaterThanOrEqualTo=dr.gte=function(g){var A=this.cmp(g);return 1==A||0===A},dr.hyperbolicCosine=dr.cosh=function(){var g,A,E,_,I,F=this,H=F.constructor,Q=new H(1);if(!F.isFinite())return new H(F.s?1/0:NaN);if(F.isZero())return Q;_=H.rounding,H.precision=(E=H.precision)+Math.max(F.e,F.sd())+4,H.rounding=1,(I=F.d.length)<32?A=(1/Ft(4,g=Math.ceil(I/3))).toString():(g=16,A="2.3283064365386962890625e-10"),F=_t(H,1,F.times(A),new H(1),!0);for(var nr,j=g,cr=new H(8);j--;)nr=F.times(F),F=Q.minus(nr.times(cr.minus(nr.times(cr))));return Kr(F,H.precision=E,H.rounding=_,!0)},dr.hyperbolicSine=dr.sinh=function(){var g,A,E,_,I=this,F=I.constructor;if(!I.isFinite()||I.isZero())return new F(I);if(E=F.rounding,F.precision=(A=F.precision)+Math.max(I.e,I.sd())+4,F.rounding=1,(_=I.d.length)<3)I=_t(F,2,I,I,!0);else{g=1.4*Math.sqrt(_),I=_t(F,2,I=I.times(1/Ft(5,g=g>16?16:0|g)),I,!0);for(var H,Q=new F(5),nr=new F(16),j=new F(20);g--;)H=I.times(I),I=I.times(Q.plus(H.times(nr.times(H).plus(j))))}return F.precision=A,F.rounding=E,Kr(I,A,E,!0)},dr.hyperbolicTangent=dr.tanh=function(){var g,A,E=this,_=E.constructor;return E.isFinite()?E.isZero()?new _(E):(A=_.rounding,_.precision=(g=_.precision)+7,_.rounding=1,Re(E.sinh(),E.cosh(),_.precision=g,_.rounding=A)):new _(E.s)},dr.inverseCosine=dr.acos=function(){var g,A=this,E=A.constructor,_=A.abs().cmp(1),I=E.precision,F=E.rounding;return-1!==_?0===_?A.isNeg()?sr(E,I,F):new E(0):new E(NaN):A.isZero()?sr(E,I+4,F).times(.5):(E.precision=I+6,E.rounding=1,A=A.asin(),g=sr(E,I+4,F).times(.5),E.precision=I,E.rounding=F,g.minus(A))},dr.inverseHyperbolicCosine=dr.acosh=function(){var g,A,E=this,_=E.constructor;return E.lte(1)?new _(E.eq(1)?0:NaN):E.isFinite()?(A=_.rounding,_.precision=(g=_.precision)+Math.max(Math.abs(E.e),E.sd())+4,_.rounding=1,q=!1,E=E.times(E).minus(1).sqrt().plus(E),q=!0,_.precision=g,_.rounding=A,E.ln()):new _(E)},dr.inverseHyperbolicSine=dr.asinh=function(){var g,A,E=this,_=E.constructor;return!E.isFinite()||E.isZero()?new _(E):(A=_.rounding,_.precision=(g=_.precision)+2*Math.max(Math.abs(E.e),E.sd())+6,_.rounding=1,q=!1,E=E.times(E).plus(1).sqrt().plus(E),q=!0,_.precision=g,_.rounding=A,E.ln())},dr.inverseHyperbolicTangent=dr.atanh=function(){var g,A,E,_,I=this,F=I.constructor;return I.isFinite()?I.e>=0?new F(I.abs().eq(1)?I.s/0:I.isZero()?I:NaN):(g=F.precision,A=F.rounding,_=I.sd(),Math.max(_,g)<2*-I.e-1?Kr(new F(I),g,A,!0):(F.precision=E=_-I.e,I=Re(I.plus(1),new F(1).minus(I),E+g,1),F.precision=g+4,F.rounding=1,I=I.ln(),F.precision=g,F.rounding=A,I.times(.5))):new F(NaN)},dr.inverseSine=dr.asin=function(){var g,A,E,_,I=this,F=I.constructor;return I.isZero()?new F(I):(A=I.abs().cmp(1),E=F.precision,_=F.rounding,-1!==A?0===A?((g=sr(F,E+4,_).times(.5)).s=I.s,g):new F(NaN):(F.precision=E+6,F.rounding=1,I=I.div(new F(1).minus(I.times(I)).sqrt().plus(1)).atan(),F.precision=E,F.rounding=_,I.times(2)))},dr.inverseTangent=dr.atan=function(){var g,A,E,_,I,F,H,Q,nr,j=this,cr=j.constructor,fr=cr.precision,ur=cr.rounding;if(j.isFinite()){if(j.isZero())return new cr(j);if(j.abs().eq(1)&&fr+4<=Fe)return(H=sr(cr,fr+4,ur).times(.25)).s=j.s,H}else{if(!j.s)return new cr(NaN);if(fr+4<=Fe)return(H=sr(cr,fr+4,ur).times(.5)).s=j.s,H}for(cr.precision=Q=fr+10,cr.rounding=1,g=E=Math.min(28,Q/7+2|0);g;--g)j=j.div(j.times(j).plus(1).sqrt().plus(1));for(q=!1,A=Math.ceil(Q/7),_=1,nr=j.times(j),H=new cr(j),I=j;-1!==g;)if(I=I.times(nr),F=H.minus(I.div(_+=2)),I=I.times(nr),void 0!==(H=F.plus(I.div(_+=2))).d[A])for(g=A;H.d[g]===F.d[g]&&g--;);return E&&(H=H.times(2<<E-1)),q=!0,Kr(H,cr.precision=fr,cr.rounding=ur,!0)},dr.isFinite=function(){return!!this.d},dr.isInteger=dr.isInt=function(){return!!this.d&&xr(this.e/7)>this.d.length-2},dr.isNaN=function(){return!this.s},dr.isNegative=dr.isNeg=function(){return this.s<0},dr.isPositive=dr.isPos=function(){return this.s>0},dr.isZero=function(){return!!this.d&&0===this.d[0]},dr.lessThan=dr.lt=function(g){return this.cmp(g)<0},dr.lessThanOrEqualTo=dr.lte=function(g){return this.cmp(g)<1},dr.logarithm=dr.log=function(g){var A,E,_,I,F,H,Q,nr,j=this,cr=j.constructor,fr=cr.precision,ur=cr.rounding;if(null==g)g=new cr(10),A=!0;else{if(E=(g=new cr(g)).d,g.s<0||!E||!E[0]||g.eq(1))return new cr(NaN);A=g.eq(10)}if(E=j.d,j.s<0||!E||!E[0]||j.eq(1))return new cr(E&&!E[0]?-1/0:1!=j.s?NaN:E?0:1/0);if(A)if(E.length>1)F=!0;else{for(I=E[0];I%10==0;)I/=10;F=1!==I}if(q=!1,H=lt(j,Q=fr+5),_=A?ut(cr,Q+10):lt(g,Q),ct((nr=Re(H,_,Q,1)).d,I=fr,ur))do{if(H=lt(j,Q+=10),_=A?ut(cr,Q+10):lt(g,Q),nr=Re(H,_,Q,1),!F){+Ae(nr.d).slice(I+1,I+15)+1==1e14&&(nr=Kr(nr,fr+1,0));break}}while(ct(nr.d,I+=10,ur));return q=!0,Kr(nr,fr,ur)},dr.minus=dr.sub=function(g){var A,E,_,I,F,H,Q,nr,j,cr,fr,ur,te=this,Me=te.constructor;if(g=new Me(g),!te.d||!g.d)return te.s&&g.s?te.d?g.s=-g.s:g=new Me(g.d||te.s!==g.s?te:NaN):g=new Me(NaN),g;if(te.s!=g.s)return g.s=-g.s,te.plus(g);if(ur=g.d,Q=Me.precision,nr=Me.rounding,!(j=te.d)[0]||!ur[0]){if(ur[0])g.s=-g.s;else{if(!j[0])return new Me(3===nr?-0:0);g=new Me(te)}return q?Kr(g,Q,nr):g}if(E=xr(g.e/7),cr=xr(te.e/7),j=j.slice(),F=cr-E){for((fr=F<0)?(A=j,F=-F,H=ur.length):(A=ur,E=cr,H=j.length),F>(_=Math.max(Math.ceil(Q/7),H)+2)&&(F=_,A.length=1),A.reverse(),_=F;_--;)A.push(0);A.reverse()}else{for((fr=(_=j.length)<(H=ur.length))&&(H=_),_=0;_<H;_++)if(j[_]!=ur[_]){fr=j[_]<ur[_];break}F=0}for(fr&&(A=j,j=ur,ur=A,g.s=-g.s),_=ur.length-(H=j.length);_>0;--_)j[H++]=0;for(_=ur.length;_>F;){if(j[--_]<ur[_]){for(I=_;I&&0===j[--I];)j[I]=pe-1;--j[I],j[_]+=pe}j[_]-=ur[_]}for(;0===j[--H];)j.pop();for(;0===j[0];j.shift())--E;return j[0]?(g.d=j,g.e=$t(j,E),q?Kr(g,Q,nr):g):new Me(3===nr?-0:0)},dr.modulo=dr.mod=function(g){var A,E=this,_=E.constructor;return g=new _(g),!E.d||!g.s||g.d&&!g.d[0]?new _(NaN):!g.d||E.d&&!E.d[0]?Kr(new _(E),_.precision,_.rounding):(q=!1,9==_.modulo?(A=Re(E,g.abs(),0,3,1)).s*=g.s:A=Re(E,g,0,_.modulo,1),A=A.times(g),q=!0,E.minus(A))},dr.naturalExponential=dr.exp=function(){return Tt(this)},dr.naturalLogarithm=dr.ln=function(){return lt(this)},dr.negated=dr.neg=function(){var g=new this.constructor(this);return g.s=-g.s,Kr(g)},dr.plus=dr.add=function(g){var A,E,_,I,F,H,Q,nr,j,cr,fr=this,ur=fr.constructor;if(g=new ur(g),!fr.d||!g.d)return fr.s&&g.s?fr.d||(g=new ur(g.d||fr.s===g.s?fr:NaN)):g=new ur(NaN),g;if(fr.s!=g.s)return g.s=-g.s,fr.minus(g);if(cr=g.d,Q=ur.precision,nr=ur.rounding,!(j=fr.d)[0]||!cr[0])return cr[0]||(g=new ur(fr)),q?Kr(g,Q,nr):g;if(F=xr(fr.e/7),_=xr(g.e/7),j=j.slice(),I=F-_){for(I<0?(E=j,I=-I,H=cr.length):(E=cr,_=F,H=j.length),I>(H=(F=Math.ceil(Q/7))>H?F+1:H+1)&&(I=H,E.length=1),E.reverse();I--;)E.push(0);E.reverse()}for((H=j.length)-(I=cr.length)<0&&(I=H,E=cr,cr=j,j=E),A=0;I;)A=(j[--I]=j[I]+cr[I]+A)/pe|0,j[I]%=pe;for(A&&(j.unshift(A),++_),H=j.length;0==j[--H];)j.pop();return g.d=j,g.e=$t(j,_),q?Kr(g,Q,nr):g},dr.precision=dr.sd=function(g){var A,E=this;if(void 0!==g&&g!==!!g&&1!==g&&0!==g)throw Error(Br+g);return E.d?(A=kt(E.d),g&&E.e+1>A&&(A=E.e+1)):A=NaN,A},dr.round=function(){var g=this,A=g.constructor;return Kr(new A(g),g.e+1,A.rounding)},dr.sine=dr.sin=function(){var g,A,E=this,_=E.constructor;return E.isFinite()?E.isZero()?new _(E):(A=_.rounding,_.precision=(g=_.precision)+Math.max(E.e,E.sd())+7,_.rounding=1,E=function hn(g,A){var E,_=A.d.length;if(_<3)return A.isZero()?A:_t(g,2,A,A);E=1.4*Math.sqrt(_),A=_t(g,2,A=A.times(1/Ft(5,E=E>16?16:0|E)),A);for(var I,F=new g(5),H=new g(16),Q=new g(20);E--;)I=A.times(A),A=A.times(F.plus(I.times(H.times(I).minus(Q))));return A}(_,pn(_,E)),_.precision=g,_.rounding=A,Kr(P>2?E.neg():E,g,A,!0)):new _(NaN)},dr.squareRoot=dr.sqrt=function(){var g,A,E,_,I,F,H=this,Q=H.d,nr=H.e,j=H.s,cr=H.constructor;if(1!==j||!Q||!Q[0])return new cr(!j||j<0&&(!Q||Q[0])?NaN:Q?H:1/0);for(q=!1,0==(j=Math.sqrt(+H))||j==1/0?(((A=Ae(Q)).length+nr)%2==0&&(A+="0"),j=Math.sqrt(A),nr=xr((nr+1)/2)-(nr<0||nr%2),_=new cr(A=j==1/0?"5e"+nr:(A=j.toExponential()).slice(0,A.indexOf("e")+1)+nr)):_=new cr(j.toString()),E=(nr=cr.precision)+3;;)if(_=(F=_).plus(Re(H,F,E+2,1)).times(.5),Ae(F.d).slice(0,E)===(A=Ae(_.d)).slice(0,E)){if("9999"!=(A=A.slice(E-3,E+1))&&(I||"4999"!=A)){(!+A||!+A.slice(1)&&"5"==A.charAt(0))&&(Kr(_,nr+1,1),g=!_.times(_).eq(H));break}if(!I&&(Kr(F,nr+1,0),F.times(F).eq(H))){_=F;break}E+=4,I=1}return q=!0,Kr(_,nr,cr.rounding,g)},dr.tangent=dr.tan=function(){var g,A,E=this,_=E.constructor;return E.isFinite()?E.isZero()?new _(E):(A=_.rounding,_.precision=(g=_.precision)+10,_.rounding=1,(E=E.sin()).s=1,E=Re(E,new _(1).minus(E.times(E)).sqrt(),g+10,0),_.precision=g,_.rounding=A,Kr(2==P||4==P?E.neg():E,g,A,!0)):new _(NaN)},dr.times=dr.mul=function(g){var A,E,_,I,F,H,Q,nr,j,fr=this.constructor,ur=this.d,te=(g=new fr(g)).d;if(g.s*=this.s,!(ur&&ur[0]&&te&&te[0]))return new fr(!g.s||ur&&!ur[0]&&!te||te&&!te[0]&&!ur?NaN:ur&&te?0*g.s:g.s/0);for(E=xr(this.e/7)+xr(g.e/7),(nr=ur.length)<(j=te.length)&&(F=ur,ur=te,te=F,H=nr,nr=j,j=H),F=[],_=H=nr+j;_--;)F.push(0);for(_=j;--_>=0;){for(A=0,I=nr+_;I>_;)Q=F[I]+te[_]*ur[I-_-1]+A,F[I--]=Q%pe|0,A=Q/pe|0;F[I]=(F[I]+A)%pe|0}for(;!F[--H];)F.pop();return A?++E:F.shift(),g.d=F,g.e=$t(F,E),q?Kr(g,fr.precision,fr.rounding):g},dr.toBinary=function(g,A){return rr(this,2,g,A)},dr.toDecimalPlaces=dr.toDP=function(g,A){var E=this,_=E.constructor;return E=new _(E),void 0===g?E:(Ue(g,0,Er),void 0===A?A=_.rounding:Ue(A,0,8),Kr(E,g+E.e+1,A))},dr.toExponential=function(g,A){var E,_=this,I=_.constructor;return void 0===g?E=ot(_,!0):(Ue(g,0,Er),void 0===A?A=I.rounding:Ue(A,0,8),E=ot(_=Kr(new I(_),g+1,A),!0,g+1)),_.isNeg()&&!_.isZero()?"-"+E:E},dr.toFixed=function(g,A){var E,_,I=this,F=I.constructor;return void 0===g?E=ot(I):(Ue(g,0,Er),void 0===A?A=F.rounding:Ue(A,0,8),E=ot(_=Kr(new F(I),g+I.e+1,A),!1,g+_.e+1)),I.isNeg()&&!I.isZero()?"-"+E:E},dr.toFraction=function(g){var A,E,_,I,F,H,Q,nr,j,cr,fr,ur,te=this,Me=te.d,ve=te.constructor;if(!Me)return new ve(te);if(j=E=new ve(1),_=nr=new ve(0),F=(A=new ve(_)).e=kt(Me)-te.e-1,A.d[0]=wr(10,(H=F%7)<0?7+H:H),null==g)g=F>0?A:j;else{if(!(Q=new ve(g)).isInt()||Q.lt(j))throw Error(Br+Q);g=Q.gt(A)?F>0?A:j:Q}for(q=!1,Q=new ve(Ae(Me)),cr=ve.precision,ve.precision=F=7*Me.length*2;fr=Re(Q,A,0,1,1),1!=(I=E.plus(fr.times(_))).cmp(g);)E=_,_=I,j=nr.plus(fr.times(I=j)),nr=I,A=Q.minus(fr.times(I=A)),Q=I;return I=Re(g.minus(E),_,0,1,1),nr=nr.plus(I.times(j)),E=E.plus(I.times(_)),nr.s=j.s=te.s,ur=Re(j,_,F,1).minus(te).abs().cmp(Re(nr,E,F,1).minus(te).abs())<1?[j,_]:[nr,E],ve.precision=cr,q=!0,ur},dr.toHexadecimal=dr.toHex=function(g,A){return rr(this,16,g,A)},dr.toNearest=function(g,A){var E=this,_=E.constructor;if(E=new _(E),null==g){if(!E.d)return E;g=new _(1),A=_.rounding}else{if(g=new _(g),void 0===A?A=_.rounding:Ue(A,0,8),!E.d)return g.s?E:g;if(!g.d)return g.s&&(g.s=E.s),g}return g.d[0]?(q=!1,E=Re(E,g,0,A,1).times(g),q=!0,Kr(E)):(g.s=E.s,E=g),E},dr.toNumber=function(){return+this},dr.toOctal=function(g,A){return rr(this,8,g,A)},dr.toPower=dr.pow=function(g){var A,E,_,I,F,H,Q=this,nr=Q.constructor,j=+(g=new nr(g));if(!(Q.d&&g.d&&Q.d[0]&&g.d[0]))return new nr(wr(+Q,j));if((Q=new nr(Q)).eq(1))return Q;if(_=nr.precision,F=nr.rounding,g.eq(1))return Kr(Q,_,F);if((A=xr(g.e/7))>=g.d.length-1&&(E=j<0?-j:j)<=9007199254740991)return I=ln(nr,Q,E,_),g.s<0?new nr(1).div(I):Kr(I,_,F);if((H=Q.s)<0){if(A<g.d.length-1)return new nr(NaN);if(0==(1&g.d[A])&&(H=1),0==Q.e&&1==Q.d[0]&&1==Q.d.length)return Q.s=H,Q}return(A=0!=(E=wr(+Q,j))&&isFinite(E)?new nr(E+"").e:xr(j*(Math.log("0."+Ae(Q.d))/Math.LN10+Q.e+1)))>nr.maxE+1||A<nr.minE-1?new nr(A>0?H/0:0):(q=!1,nr.rounding=Q.s=1,E=Math.min(12,(A+"").length),(I=Tt(g.times(lt(Q,_+E)),_)).d&&ct((I=Kr(I,_+5,1)).d,_,F)&&+Ae((I=Kr(Tt(g.times(lt(Q,(A=_+10)+E)),A),A+5,1)).d).slice(_+1,_+15)+1==1e14&&(I=Kr(I,_+1,0)),I.s=H,q=!0,nr.rounding=F,Kr(I,_,F))},dr.toPrecision=function(g,A){var E,_=this,I=_.constructor;return void 0===g?E=ot(_,_.e<=I.toExpNeg||_.e>=I.toExpPos):(Ue(g,1,Er),void 0===A?A=I.rounding:Ue(A,0,8),E=ot(_=Kr(new I(_),g,A),g<=_.e||_.e<=I.toExpNeg,g)),_.isNeg()&&!_.isZero()?"-"+E:E},dr.toSignificantDigits=dr.toSD=function(g,A){var _=this.constructor;return void 0===g?(g=_.precision,A=_.rounding):(Ue(g,1,Er),void 0===A?A=_.rounding:Ue(A,0,8)),Kr(new _(this),g,A)},dr.toString=function(){var g=this,A=g.constructor,E=ot(g,g.e<=A.toExpNeg||g.e>=A.toExpPos);return g.isNeg()&&!g.isZero()?"-"+E:E},dr.truncated=dr.trunc=function(){return Kr(new this.constructor(this),this.e+1,1)},dr.valueOf=dr.toJSON=function(){var g=this,A=g.constructor,E=ot(g,g.e<=A.toExpNeg||g.e>=A.toExpPos);return g.isNeg()?"-"+E:E};var Re=function(){function g(_,I,F){var H,Q=0,nr=_.length;for(_=_.slice();nr--;)_[nr]=(H=_[nr]*I+Q)%F|0,Q=H/F|0;return Q&&_.unshift(Q),_}function A(_,I,F,H){var Q,nr;if(F!=H)nr=F>H?1:-1;else for(Q=nr=0;Q<F;Q++)if(_[Q]!=I[Q]){nr=_[Q]>I[Q]?1:-1;break}return nr}function E(_,I,F,H){for(var Q=0;F--;)_[F]-=Q,_[F]=(Q=_[F]<I[F]?1:0)*H+_[F]-I[F];for(;!_[0]&&_.length>1;)_.shift()}return function(_,I,F,H,Q,nr){var j,cr,fr,ur,te,Me,ve,Je,He,gt,qe,it,_n,be,gi,yn,an,yi,Mt,ri,bn=_.constructor,G=_.s==I.s?1:-1,je=_.d,Ze=I.d;if(!(je&&je[0]&&Ze&&Ze[0]))return new bn(_.s&&I.s&&(je?!Ze||je[0]!=Ze[0]:Ze)?je&&0==je[0]||!Ze?0*G:G/0:NaN);for(nr?(te=1,cr=_.e-I.e):(nr=pe,cr=xr(_.e/(te=7))-xr(I.e/te)),Mt=Ze.length,an=je.length,gt=(He=new bn(G)).d=[],fr=0;Ze[fr]==(je[fr]||0);fr++);if(Ze[fr]>(je[fr]||0)&&cr--,null==F?(be=F=bn.precision,H=bn.rounding):be=Q?F+(_.e-I.e)+1:F,be<0)gt.push(1),Me=!0;else{if(be=be/te+2|0,fr=0,1==Mt){for(ur=0,Ze=Ze[0],be++;(fr<an||ur)&&be--;fr++)gt[fr]=(gi=ur*nr+(je[fr]||0))/Ze|0,ur=gi%Ze|0;Me=ur||fr<an}else{for((ur=nr/(Ze[0]+1)|0)>1&&(Ze=g(Ze,ur,nr),je=g(je,ur,nr),Mt=Ze.length,an=je.length),yn=Mt,it=(qe=je.slice(0,Mt)).length;it<Mt;)qe[it++]=0;(ri=Ze.slice()).unshift(0),yi=Ze[0],Ze[1]>=nr/2&&++yi;do{ur=0,(j=A(Ze,qe,Mt,it))<0?(_n=qe[0],Mt!=it&&(_n=_n*nr+(qe[1]||0)),(ur=_n/yi|0)>1?(ur>=nr&&(ur=nr-1),1==(j=A(ve=g(Ze,ur,nr),qe,Je=ve.length,it=qe.length))&&(ur--,E(ve,Mt<Je?ri:Ze,Je,nr))):(0==ur&&(j=ur=1),ve=Ze.slice()),(Je=ve.length)<it&&ve.unshift(0),E(qe,ve,it,nr),-1==j&&(j=A(Ze,qe,Mt,it=qe.length))<1&&(ur++,E(qe,Mt<it?ri:Ze,it,nr)),it=qe.length):0===j&&(ur++,qe=[0]),gt[fr++]=ur,j&&qe[0]?qe[it++]=je[yn]||0:(qe=[je[yn]],it=1)}while((yn++<an||void 0!==qe[0])&&be--);Me=void 0!==qe[0]}gt[0]||gt.shift()}if(1==te)He.e=cr,X=Me;else{for(fr=1,ur=gt[0];ur>=10;ur/=10)fr++;He.e=fr+cr*te-1,Kr(He,Q?F+He.e+1:F,H,Me)}return He}}();function Kr(g,A,E,_){var I,F,H,Q,nr,j,cr,fr,ur,te=g.constructor;r:if(null!=A){if(!(fr=g.d))return g;for(I=1,Q=fr[0];Q>=10;Q/=10)I++;if((F=A-I)<0)F+=7,nr=(cr=fr[ur=0])/wr(10,I-(H=A)-1)%10|0;else if((ur=Math.ceil((F+1)/7))>=(Q=fr.length)){if(!_)break r;for(;Q++<=ur;)fr.push(0);cr=nr=0,I=1,H=(F%=7)-7+1}else{for(cr=Q=fr[ur],I=1;Q>=10;Q/=10)I++;nr=(H=(F%=7)-7+I)<0?0:cr/wr(10,I-H-1)%10|0}if(_=_||A<0||void 0!==fr[ur+1]||(H<0?cr:cr%wr(10,I-H-1)),j=E<4?(nr||_)&&(0==E||E==(g.s<0?3:2)):nr>5||5==nr&&(4==E||_||6==E&&(F>0?H>0?cr/wr(10,I-H):0:fr[ur-1])%10&1||E==(g.s<0?8:7)),A<1||!fr[0])return fr.length=0,j?(fr[0]=wr(10,(7-(A-=g.e+1)%7)%7),g.e=-A||0):fr[0]=g.e=0,g;if(0==F?(fr.length=ur,Q=1,ur--):(fr.length=ur+1,Q=wr(10,7-F),fr[ur]=H>0?(cr/wr(10,I-H)%wr(10,H)|0)*Q:0),j)for(;;){if(0==ur){for(F=1,H=fr[0];H>=10;H/=10)F++;for(H=fr[0]+=Q,Q=1;H>=10;H/=10)Q++;F!=Q&&(g.e++,fr[0]==pe&&(fr[0]=1));break}if(fr[ur]+=Q,fr[ur]!=pe)break;fr[ur--]=0,Q=1}for(F=fr.length;0===fr[--F];)fr.pop()}return q&&(g.e>te.maxE?(g.d=null,g.e=NaN):g.e<te.minE&&(g.e=0,g.d=[0])),g}function ot(g,A,E){if(!g.isFinite())return vn(g);var _,I=g.e,F=Ae(g.d),H=F.length;return A?(E&&(_=E-H)>0?F=F.charAt(0)+"."+F.slice(1)+Et(_):H>1&&(F=F.charAt(0)+"."+F.slice(1)),F=F+(g.e<0?"e":"e+")+g.e):I<0?(F="0."+Et(-I-1)+F,E&&(_=E-H)>0&&(F+=Et(_))):I>=H?(F+=Et(I+1-H),E&&(_=E-I-1)>0&&(F=F+"."+Et(_))):((_=I+1)<H&&(F=F.slice(0,_)+"."+F.slice(_)),E&&(_=E-H)>0&&(I+1===H&&(F+="."),F+=Et(_))),F}function $t(g,A){var E=g[0];for(A*=7;E>=10;E/=10)A++;return A}function ut(g,A,E){if(A>Qr)throw q=!0,E&&(g.precision=E),Error(Pr);return Kr(new g(ye),A,1,!0)}function sr(g,A,E){if(A>Fe)throw Error(Pr);return Kr(new g(ee),A,E,!0)}function kt(g){var A=g.length-1,E=7*A+1;if(A=g[A]){for(;A%10==0;A/=10)E--;for(A=g[0];A>=10;A/=10)E++}return E}function Et(g){for(var A="";g--;)A+="0";return A}function ln(g,A,E,_){var I,F=new g(1),H=Math.ceil(_/7+4);for(q=!1;;){if(E%2&&hr((F=F.times(A)).d,H)&&(I=!0),0===(E=xr(E/2))){E=F.d.length-1,I&&0===F.d[E]&&++F.d[E];break}hr((A=A.times(A)).d,H)}return q=!0,F}function jt(g){return 1&g.d[g.d.length-1]}function An(g,A,E){for(var _,I=new g(A[0]),F=0;++F<A.length;){if(!(_=new g(A[F])).s){I=_;break}I[E](_)&&(I=_)}return I}function Tt(g,A){var E,_,I,F,H,Q,nr,j=0,cr=0,fr=0,ur=g.constructor,te=ur.rounding,Me=ur.precision;if(!g.d||!g.d[0]||g.e>17)return new ur(g.d?g.d[0]?g.s<0?0:1/0:1:g.s?g.s<0?0:g:NaN);for(null==A?(q=!1,nr=Me):nr=A,Q=new ur(.03125);g.e>-2;)g=g.times(Q),fr+=5;for(nr+=_=Math.log(wr(2,fr))/Math.LN10*2+5|0,E=F=H=new ur(1),ur.precision=nr;;){if(F=Kr(F.times(g),nr,1),E=E.times(++cr),Ae((Q=H.plus(Re(F,E,nr,1))).d).slice(0,nr)===Ae(H.d).slice(0,nr)){for(I=fr;I--;)H=Kr(H.times(H),nr,1);if(null!=A)return ur.precision=Me,H;if(!(j<3&&ct(H.d,nr-_,te,j)))return Kr(H,ur.precision=Me,te,q=!0);ur.precision=nr+=10,E=F=Q=new ur(1),cr=0,j++}H=Q}}function lt(g,A){var E,_,I,F,H,Q,nr,j,cr,fr,ur,te=1,ve=g,Je=ve.d,He=ve.constructor,gt=He.rounding,qe=He.precision;if(ve.s<0||!Je||!Je[0]||!ve.e&&1==Je[0]&&1==Je.length)return new He(Je&&!Je[0]?-1/0:1!=ve.s?NaN:Je?0:ve);if(null==A?(q=!1,cr=qe):cr=A,He.precision=cr+=10,_=(E=Ae(Je)).charAt(0),!(Math.abs(F=ve.e)<15e14))return j=ut(He,cr+2,qe).times(F+""),ve=lt(new He(_+"."+E.slice(1)),cr-10).plus(j),He.precision=qe,null==A?Kr(ve,qe,gt,q=!0):ve;for(;_<7&&1!=_||1==_&&E.charAt(1)>3;)_=(E=Ae((ve=ve.times(g)).d)).charAt(0),te++;for(F=ve.e,_>1?(ve=new He("0."+E),F++):ve=new He(_+"."+E.slice(1)),fr=ve,nr=H=ve=Re(ve.minus(1),ve.plus(1),cr,1),ur=Kr(ve.times(ve),cr,1),I=3;;){if(H=Kr(H.times(ur),cr,1),Ae((j=nr.plus(Re(H,new He(I),cr,1))).d).slice(0,cr)===Ae(nr.d).slice(0,cr)){if(nr=nr.times(2),0!==F&&(nr=nr.plus(ut(He,cr+2,qe).times(F+""))),nr=Re(nr,new He(te),cr,1),null!=A)return He.precision=qe,nr;if(!ct(nr.d,cr-10,gt,Q))return Kr(nr,He.precision=qe,gt,q=!0);He.precision=cr+=10,j=H=ve=Re(fr.minus(1),fr.plus(1),cr,1),ur=Kr(ve.times(ve),cr,1),I=Q=1}nr=j,I+=2}}function vn(g){return String(g.s*g.s/0)}function mn(g,A){var E,_,I;for((E=A.indexOf("."))>-1&&(A=A.replace(".","")),(_=A.search(/e/i))>0?(E<0&&(E=_),E+=+A.slice(_+1),A=A.substring(0,_)):E<0&&(E=A.length),_=0;48===A.charCodeAt(_);_++);for(I=A.length;48===A.charCodeAt(I-1);--I);if(A=A.slice(_,I)){if(I-=_,g.e=E=E-_-1,g.d=[],_=(E+1)%7,E<0&&(_+=7),_<I){for(_&&g.d.push(+A.slice(0,_)),I-=7;_<I;)g.d.push(+A.slice(_,_+=7));_=7-(A=A.slice(_)).length}else _-=I;for(;_--;)A+="0";g.d.push(+A),q&&(g.e>g.constructor.maxE?(g.d=null,g.e=NaN):g.e<g.constructor.minE&&(g.e=0,g.d=[0]))}else g.e=0,g.d=[0];return g}function _t(g,A,E,_,I){var F,H,Q,nr,cr=g.precision,fr=Math.ceil(cr/7);for(q=!1,nr=E.times(E),Q=new g(_);;){if(H=Re(Q.times(nr),new g(A++*A++),cr,1),Q=I?_.plus(H):_.minus(H),_=Re(H.times(nr),new g(A++*A++),cr,1),void 0!==(H=Q.plus(_)).d[fr]){for(F=fr;H.d[F]===Q.d[F]&&F--;);if(-1==F)break}F=Q,Q=_,_=H,H=F}return q=!0,H.d.length=fr+1,H}function Ft(g,A){for(var E=g;--A;)E*=g;return E}function pn(g,A){var E,_=A.s<0,I=sr(g,g.precision,1),F=I.times(.5);if((A=A.abs()).lte(F))return P=_?4:1,A;if((E=A.divToInt(I)).isZero())P=_?3:2;else{if((A=A.minus(E.times(I))).lte(F))return P=jt(E)?_?2:3:_?4:1,A;P=jt(E)?_?1:4:_?3:2}return A.minus(I).abs()}function rr(g,A,E,_){var I,F,H,Q,nr,j,cr,fr,ur,te=g.constructor,Me=void 0!==E;if(Me?(Ue(E,1,Er),void 0===_?_=te.rounding:Ue(_,0,8)):(E=te.precision,_=te.rounding),g.isFinite()){for(Me?(I=2,16==A?E=4*E-3:8==A&&(E=3*E-2)):I=A,(H=(cr=ot(g)).indexOf("."))>=0&&(cr=cr.replace(".",""),(ur=new te(1)).e=cr.length-H,ur.d=Kt(ot(ur),10,I),ur.e=ur.d.length),F=nr=(fr=Kt(cr,10,I)).length;0==fr[--nr];)fr.pop();if(fr[0]){if(H<0?F--:((g=new te(g)).d=fr,g.e=F,fr=(g=Re(g,ur,E,_,0,I)).d,F=g.e,j=X),H=fr[E],Q=I/2,j=j||void 0!==fr[E+1],j=_<4?(void 0!==H||j)&&(0===_||_===(g.s<0?3:2)):H>Q||H===Q&&(4===_||j||6===_&&1&fr[E-1]||_===(g.s<0?8:7)),fr.length=E,j)for(;++fr[--E]>I-1;)fr[E]=0,E||(++F,fr.unshift(1));for(nr=fr.length;!fr[nr-1];--nr);for(H=0,cr="";H<nr;H++)cr+=ce.charAt(fr[H]);if(Me){if(nr>1)if(16==A||8==A){for(H=16==A?4:3,--nr;nr%H;nr++)cr+="0";for(nr=(fr=Kt(cr,I,A)).length;!fr[nr-1];--nr);for(H=1,cr="1.";H<nr;H++)cr+=ce.charAt(fr[H])}else cr=cr.charAt(0)+"."+cr.slice(1);cr=cr+(F<0?"p":"p+")+F}else if(F<0){for(;++F;)cr="0"+cr;cr="0."+cr}else if(++F>nr)for(F-=nr;F--;)cr+="0";else F<nr&&(cr=cr.slice(0,F)+"."+cr.slice(F))}else cr=Me?"0p+0":"0";cr=(16==A?"0x":2==A?"0b":8==A?"0o":"")+cr}else cr=vn(g);return g.s<0?"-"+cr:cr}function hr(g,A){if(g.length>A)return g.length=A,!0}function gr(g){return new this(g).abs()}function lr(g){return new this(g).acos()}function Hr(g){return new this(g).acosh()}function ie(g,A){return new this(g).plus(A)}function oe(g){return new this(g).asin()}function Jr(g){return new this(g).asinh()}function Yr(g){return new this(g).atan()}function le(g){return new this(g).atanh()}function ke(g,A){g=new this(g),A=new this(A);var E,_=this.precision,I=this.rounding,F=_+4;return g.s&&A.s?g.d||A.d?!A.d||g.isZero()?(E=A.s<0?sr(this,_,I):new this(0)).s=g.s:!g.d||A.isZero()?(E=sr(this,F,1).times(.5)).s=g.s:A.s<0?(this.precision=F,this.rounding=1,E=this.atan(Re(g,A,F,1)),A=sr(this,F,1),this.precision=_,this.rounding=I,E=g.s<0?E.minus(A):E.plus(A)):E=this.atan(Re(g,A,F,1)):(E=sr(this,F,1).times(A.s>0?.25:.75)).s=g.s:E=new this(NaN),E}function ht(g){return new this(g).cbrt()}function pt(g){return Kr(g=new this(g),g.e+1,2)}function rn(g,A,E){return new this(g).clamp(A,E)}function Sr(g){if(!g||"object"!=typeof g)throw Error(pr+"Object expected");var A,E,_,I=!0===g.defaults,F=["precision",1,Er,"rounding",0,8,"toExpNeg",-Lr,0,"toExpPos",0,Lr,"maxE",0,Lr,"minE",-Lr,0,"modulo",0,9];for(A=0;A<F.length;A+=3)if(E=F[A],I&&(this[E]=Ir[E]),void 0!==(_=g[E])){if(!(xr(_)===_&&_>=F[A+1]&&_<=F[A+2]))throw Error(Br+E+": "+_);this[E]=_}if(E="crypto",I&&(this[E]=Ir[E]),void 0!==(_=g[E])){if(!0!==_&&!1!==_&&0!==_&&1!==_)throw Error(Br+E+": "+_);if(_){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(or);this[E]=!0}else this[E]=!1}return this}function en(g){return new this(g).cos()}function Ie(g){return new this(g).cosh()}function Bt(g,A){return new this(g).div(A)}function Lt(g){return new this(g).exp()}function tn(g){return Kr(g=new this(g),g.e+1,3)}function nt(){var g,A,E=new this(0);for(q=!1,g=0;g<arguments.length;)if((A=new this(arguments[g++])).d)E.d&&(E=E.plus(A.times(A)));else{if(A.s)return q=!0,new this(1/0);E=A}return q=!0,E.sqrt()}function De(g){return g instanceof tr||g&&g.toStringTag===Ar||!1}function fe(g){return new this(g).ln()}function dt(g,A){return new this(g).log(A)}function nn(g){return new this(g).log(2)}function Rt(g){return new this(g).log(10)}function dn(){return An(this,arguments,"lt")}function Zt(){return An(this,arguments,"gt")}function Yn(g,A){return new this(g).mod(A)}function Sn(g,A){return new this(g).mul(A)}function En(g,A){return new this(g).pow(A)}function Wn(g){var A,E,_,I,F=0,H=new this(1),Q=[];if(void 0===g?g=this.precision:Ue(g,1,Er),_=Math.ceil(g/7),this.crypto)if(crypto.getRandomValues)for(A=crypto.getRandomValues(new Uint32Array(_));F<_;)(I=A[F])>=429e7?A[F]=crypto.getRandomValues(new Uint32Array(1))[0]:Q[F++]=I%1e7;else{if(!crypto.randomBytes)throw Error(or);for(A=crypto.randomBytes(_*=4);F<_;)(I=A[F]+(A[F+1]<<8)+(A[F+2]<<16)+((127&A[F+3])<<24))>=214e7?crypto.randomBytes(4).copy(A,F):(Q.push(I%1e7),F+=4);F=_/4}else for(;F<_;)Q[F++]=1e7*Math.random()|0;for(g%=7,(_=Q[--F])&&g&&(I=wr(10,7-g),Q[F]=(_/I|0)*I);0===Q[F];F--)Q.pop();if(F<0)E=0,Q=[0];else{for(E=-1;0===Q[0];E-=7)Q.shift();for(_=1,I=Q[0];I>=10;I/=10)_++;_<7&&(E-=7-_)}return H.e=E,H.d=Q,H}function Xn(g){return Kr(g=new this(g),g.e+1,this.rounding)}function Jn(g){return(g=new this(g)).d?g.d[0]?g.s:0*g.s:g.s||NaN}function Qn(g){return new this(g).sin()}function Kn(g){return new this(g).sinh()}function $n(g){return new this(g).sqrt()}function kn(g,A){return new this(g).sub(A)}function jn(){var g=0,A=arguments,E=new this(A[g]);for(q=!1;E.s&&++g<A.length;)E=E.plus(A[g]);return q=!0,Kr(E,this.precision,this.rounding)}function gn(g){return new this(g).tan()}function Pe(g){return new this(g).tanh()}function Xe(g){return Kr(g=new this(g),g.e+1,1)}(tr=function xe(g){var A,E,_;function I(F){var H,Q,nr,j=this;if(!(j instanceof I))return new I(F);if(j.constructor=I,De(F))return j.s=F.s,void(q?!F.d||F.e>I.maxE?(j.e=NaN,j.d=null):F.e<I.minE?(j.e=0,j.d=[0]):(j.e=F.e,j.d=F.d.slice()):(j.e=F.e,j.d=F.d?F.d.slice():F.d));if("number"==(nr=typeof F)){if(0===F)return j.s=1/F<0?-1:1,j.e=0,void(j.d=[0]);if(F<0?(F=-F,j.s=-1):j.s=1,F===~~F&&F<1e7){for(H=0,Q=F;Q>=10;Q/=10)H++;return void(q?H>I.maxE?(j.e=NaN,j.d=null):H<I.minE?(j.e=0,j.d=[0]):(j.e=H,j.d=[F]):(j.e=H,j.d=[F]))}return 0*F!=0?(F||(j.s=NaN),j.e=NaN,void(j.d=null)):mn(j,F.toString())}if("string"!==nr)throw Error(Br+F);return 45===(Q=F.charCodeAt(0))?(F=F.slice(1),j.s=-1):(43===Q&&(F=F.slice(1)),j.s=1),_e.test(F)?mn(j,F):function It(g,A){var E,_,I,F,H,Q,nr,j,cr;if(A.indexOf("_")>-1){if(A=A.replace(/(\d)_(?=\d)/g,"$1"),_e.test(A))return mn(g,A)}else if("Infinity"===A||"NaN"===A)return+A||(g.s=NaN),g.e=NaN,g.d=null,g;if(Vr.test(A))E=16,A=A.toLowerCase();else if(Ur.test(A))E=2;else{if(!jr.test(A))throw Error(Br+A);E=8}for((F=A.search(/p/i))>0?(nr=+A.slice(F+1),A=A.substring(2,F)):A=A.slice(2),F=A.indexOf("."),_=g.constructor,(H=F>=0)&&(F=(Q=(A=A.replace(".","")).length)-F,I=ln(_,new _(E),F,2*F)),F=cr=(j=Kt(A,E,pe)).length-1;0===j[F];--F)j.pop();return F<0?new _(0*g.s):(g.e=$t(j,cr),g.d=j,q=!1,H&&(g=Re(g,I,4*Q)),nr&&(g=g.times(Math.abs(nr)<54?wr(2,nr):tr.pow(2,nr))),q=!0,g)}(j,F)}if(I.prototype=dr,I.ROUND_UP=0,I.ROUND_DOWN=1,I.ROUND_CEIL=2,I.ROUND_FLOOR=3,I.ROUND_HALF_UP=4,I.ROUND_HALF_DOWN=5,I.ROUND_HALF_EVEN=6,I.ROUND_HALF_CEIL=7,I.ROUND_HALF_FLOOR=8,I.EUCLID=9,I.config=I.set=Sr,I.clone=xe,I.isDecimal=De,I.abs=gr,I.acos=lr,I.acosh=Hr,I.add=ie,I.asin=oe,I.asinh=Jr,I.atan=Yr,I.atanh=le,I.atan2=ke,I.cbrt=ht,I.ceil=pt,I.clamp=rn,I.cos=en,I.cosh=Ie,I.div=Bt,I.exp=Lt,I.floor=tn,I.hypot=nt,I.ln=fe,I.log=dt,I.log10=Rt,I.log2=nn,I.max=dn,I.min=Zt,I.mod=Yn,I.mul=Sn,I.pow=En,I.random=Wn,I.round=Xn,I.sign=Jn,I.sin=Qn,I.sinh=Kn,I.sqrt=$n,I.sub=kn,I.sum=jn,I.tan=gn,I.tanh=Pe,I.trunc=Xe,void 0===g&&(g={}),g&&!0!==g.defaults)for(_=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],A=0;A<_.length;)g.hasOwnProperty(E=_[A++])||(g[E]=this[E]);return I.config(g),I}(Ir)).prototype.constructor=tr,tr.default=tr.Decimal=tr,ye=new tr(ye),ee=new tr(ee),void 0!==(ue=function(){return tr}.call(Ee,Tr,Ee,de))&&(de.exports=ue)}()},4613:function(de,Ee){var ue;!function(Ge){"use strict";var Er={s:1,n:0,d:1};function ce(or){function Ar(){var wr=Error.apply(this,arguments);wr.name=this.name=or,this.stack=wr.stack,this.message=wr.message}function xr(){}return xr.prototype=Error.prototype,Ar.prototype=new xr,Ar}var ye=Pr.DivisionByZero=ce("DivisionByZero"),ee=Pr.InvalidParameter=ce("InvalidParameter");function Ir(or,Ar){return isNaN(or=parseInt(or,10))&&tr(),or*Ar}function tr(){throw new ee}function X(or){for(var Ar={},xr=or,wr=2,Ur=4;Ur<=xr;){for(;xr%wr==0;)xr/=wr,Ar[wr]=(Ar[wr]||0)+1;Ur+=1+2*wr++}return xr!==or?xr>1&&(Ar[xr]=(Ar[xr]||0)+1):Ar[or]=(Ar[or]||0)+1,Ar}var D=function(or,Ar){var Ue,xr=0,wr=1,Ur=1,Vr=0,jr=0,_e=0,pe=1,zr=1,Xr=0,Qr=1,Fe=1,dr=1,Ae=1e7;if(null!=or)if(void 0!==Ar)Ur=(xr=or)*(wr=Ar);else switch(typeof or){case"object":"d"in or&&"n"in or?(xr=or.n,wr=or.d,"s"in or&&(xr*=or.s)):0 in or?(xr=or[0],1 in or&&(wr=or[1])):tr(),Ur=xr*wr;break;case"number":if(or<0&&(Ur=or,or=-or),or%1==0)xr=or;else if(or>0){for(or>=1&&(or/=zr=Math.pow(10,Math.floor(1+Math.log(or)/Math.LN10)));Qr<=Ae&&dr<=Ae;){if(or===(Ue=(Xr+Fe)/(Qr+dr))){Qr+dr<=Ae?(xr=Xr+Fe,wr=Qr+dr):dr>Qr?(xr=Fe,wr=dr):(xr=Xr,wr=Qr);break}or>Ue?(Xr+=Fe,Qr+=dr):(Fe+=Xr,dr+=Qr),Qr>Ae?(xr=Fe,wr=dr):(xr=Xr,wr=Qr)}xr*=zr}else(isNaN(or)||isNaN(Ar))&&(wr=xr=NaN);break;case"string":if(null===(Qr=or.match(/\d+|./g))&&tr(),"-"===Qr[Xr]?(Ur=-1,Xr++):"+"===Qr[Xr]&&Xr++,Qr.length===Xr+1?jr=Ir(Qr[Xr++],Ur):"."===Qr[Xr+1]||"."===Qr[Xr]?("."!==Qr[Xr]&&(Vr=Ir(Qr[Xr++],Ur)),(1+ ++Xr===Qr.length||"("===Qr[Xr+1]&&")"===Qr[Xr+3]||"'"===Qr[Xr+1]&&"'"===Qr[Xr+3])&&(jr=Ir(Qr[Xr],Ur),pe=Math.pow(10,Qr[Xr].length),Xr++),("("===Qr[Xr]&&")"===Qr[Xr+2]||"'"===Qr[Xr]&&"'"===Qr[Xr+2])&&(_e=Ir(Qr[Xr+1],Ur),zr=Math.pow(10,Qr[Xr+1].length)-1,Xr+=3)):"/"===Qr[Xr+1]||":"===Qr[Xr+1]?(jr=Ir(Qr[Xr],Ur),pe=Ir(Qr[Xr+2],1),Xr+=3):"/"===Qr[Xr+3]&&" "===Qr[Xr+1]&&(Vr=Ir(Qr[Xr],Ur),jr=Ir(Qr[Xr+2],Ur),pe=Ir(Qr[Xr+4],1),Xr+=5),Qr.length<=Xr){Ur=xr=_e+(wr=pe*zr)*Vr+zr*jr;break}default:tr()}if(0===wr)throw new ye;Er.s=Ur<0?-1:1,Er.n=Math.abs(xr),Er.d=Math.abs(wr)};function Br(or,Ar){if(!or)return Ar;if(!Ar)return or;for(;;){if(!(or%=Ar))return Ar;if(!(Ar%=or))return or}}function Pr(or,Ar){if(!(this instanceof Pr))return new Pr(or,Ar);D(or,Ar),or=Br(Er.d,Er.n),this.s=Er.s,this.n=Er.n/or,this.d=Er.d/or}Pr.prototype={s:1,n:0,d:1,abs:function(){return new Pr(this.n,this.d)},neg:function(){return new Pr(-this.s*this.n,this.d)},add:function(or,Ar){return D(or,Ar),new Pr(this.s*this.n*Er.d+Er.s*this.d*Er.n,this.d*Er.d)},sub:function(or,Ar){return D(or,Ar),new Pr(this.s*this.n*Er.d-Er.s*this.d*Er.n,this.d*Er.d)},mul:function(or,Ar){return D(or,Ar),new Pr(this.s*Er.s*this.n*Er.n,this.d*Er.d)},div:function(or,Ar){return D(or,Ar),new Pr(this.s*Er.s*this.n*Er.d,this.d*Er.n)},clone:function(){return new Pr(this)},mod:function(or,Ar){return isNaN(this.n)||isNaN(this.d)?new Pr(NaN):void 0===or?new Pr(this.s*this.n%this.d,1):(D(or,Ar),0===Er.n&&0===this.d&&Pr(0,0),new Pr(this.s*(Er.d*this.n)%(Er.n*this.d),Er.d*this.d))},gcd:function(or,Ar){return D(or,Ar),new Pr(Br(Er.n,this.n)*Br(Er.d,this.d),Er.d*this.d)},lcm:function(or,Ar){return D(or,Ar),0===Er.n&&0===this.n?new Pr:new Pr(Er.n*this.n,Br(Er.n,this.n)*Br(Er.d,this.d))},ceil:function(or){return or=Math.pow(10,or||0),isNaN(this.n)||isNaN(this.d)?new Pr(NaN):new Pr(Math.ceil(or*this.s*this.n/this.d),or)},floor:function(or){return or=Math.pow(10,or||0),isNaN(this.n)||isNaN(this.d)?new Pr(NaN):new Pr(Math.floor(or*this.s*this.n/this.d),or)},round:function(or){return or=Math.pow(10,or||0),isNaN(this.n)||isNaN(this.d)?new Pr(NaN):new Pr(Math.round(or*this.s*this.n/this.d),or)},inverse:function(){return new Pr(this.s*this.d,this.n)},pow:function(or,Ar){if(D(or,Ar),1===Er.d)return Er.s<0?new Pr(Math.pow(this.s*this.d,Er.n),Math.pow(this.n,Er.n)):new Pr(Math.pow(this.s*this.n,Er.n),Math.pow(this.d,Er.n));if(this.s<0)return null;var xr=X(this.n),wr=X(this.d),Ur=1,Vr=1;for(var jr in xr)if("1"!==jr){if("0"===jr){Ur=0;break}if(xr[jr]*=Er.n,xr[jr]%Er.d!=0)return null;xr[jr]/=Er.d,Ur*=Math.pow(jr,xr[jr])}for(var jr in wr)if("1"!==jr){if(wr[jr]*=Er.n,wr[jr]%Er.d!=0)return null;wr[jr]/=Er.d,Vr*=Math.pow(jr,wr[jr])}return Er.s<0?new Pr(Vr,Ur):new Pr(Ur,Vr)},equals:function(or,Ar){return D(or,Ar),this.s*this.n*Er.d==Er.s*Er.n*this.d},compare:function(or,Ar){D(or,Ar);var xr=this.s*this.n*Er.d-Er.s*Er.n*this.d;return(0<xr)-(xr<0)},simplify:function(or){if(isNaN(this.n)||isNaN(this.d))return this;var Ar=this.abs().toContinued();function xr(Vr){return 1===Vr.length?new Pr(Vr[0]):xr(Vr.slice(1)).inverse().add(Vr[0])}or=or||.001;for(var wr=0;wr<Ar.length;wr++){var Ur=xr(Ar.slice(0,wr+1));if(Ur.sub(this.abs()).abs().valueOf()<or)return Ur.mul(this.s)}return this},divisible:function(or,Ar){return D(or,Ar),!(!(Er.n*this.d)||this.n*Er.d%(Er.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(or){var Ar,xr="",wr=this.n,Ur=this.d;return this.s<0&&(xr+="-"),1===Ur?xr+=wr:(or&&(Ar=Math.floor(wr/Ur))>0&&(xr+=Ar,xr+=" ",wr%=Ur),xr+=wr,xr+="/",xr+=Ur),xr},toLatex:function(or){var Ar,xr="",wr=this.n,Ur=this.d;return this.s<0&&(xr+="-"),1===Ur?xr+=wr:(or&&(Ar=Math.floor(wr/Ur))>0&&(xr+=Ar,wr%=Ur),xr+="\\frac{",xr+=wr,xr+="}{",xr+=Ur,xr+="}"),xr},toContinued:function(){var or,Ar=this.n,xr=this.d,wr=[];if(isNaN(Ar)||isNaN(xr))return wr;do{wr.push(Math.floor(Ar/xr)),or=Ar%xr,Ar=xr,xr=or}while(1!==Ar);return wr},toString:function(or){var xr=this.n,wr=this.d;if(isNaN(xr)||isNaN(wr))return"NaN";or=or||15;var Ur=function q(or,Ar){for(;Ar%2==0;Ar/=2);for(;Ar%5==0;Ar/=5);if(1===Ar)return 0;for(var xr=10%Ar,wr=1;1!==xr;wr++)if(xr=10*xr%Ar,wr>2e3)return 0;return wr}(0,wr),Vr=function pr(or,Ar,xr){for(var wr=1,Ur=function P(or,Ar,xr){for(var wr=1;Ar>0;or=or*or%xr,Ar>>=1)1&Ar&&(wr=wr*or%xr);return wr}(10,xr,Ar),Vr=0;Vr<300;Vr++){if(wr===Ur)return Vr;wr=10*wr%Ar,Ur=10*Ur%Ar}return 0}(0,wr,Ur),jr=-1===this.s?"-":"";if(jr+=xr/wr|0,xr%=wr,(xr*=10)&&(jr+="."),Ur){for(var _e=Vr;_e--;)jr+=xr/wr|0,xr%=wr,xr*=10;for(jr+="(",_e=Ur;_e--;)jr+=xr/wr|0,xr%=wr,xr*=10;jr+=")"}else for(_e=or;xr&&_e--;)jr+=xr/wr|0,xr%=wr,xr*=10;return jr}},void 0!==(ue=function(){return Pr}.apply(Ee,[]))&&(de.exports=ue)}()},9286:de=>{de.exports=function Ee(Tr,ue){"use strict";var pr,Br,Ge=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,Lr=/(^[ ]*|[ ]*$)/g,Er=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,ce=/^0x[0-9a-f]+$/i,ye=/^0/,ee=function(Ar){return Ee.insensitive&&(""+Ar).toLowerCase()||""+Ar},Ir=ee(Tr).replace(Lr,"")||"",tr=ee(ue).replace(Lr,"")||"",X=Ir.replace(Ge,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),D=tr.replace(Ge,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),P=parseInt(Ir.match(ce),16)||1!==X.length&&Ir.match(Er)&&Date.parse(Ir),q=parseInt(tr.match(ce),16)||P&&tr.match(Er)&&Date.parse(tr)||null;if(q){if(P<q)return-1;if(P>q)return 1}for(var Pr=0,or=Math.max(X.length,D.length);Pr<or;Pr++){if(pr=!(X[Pr]||"").match(ye)&&parseFloat(X[Pr])||X[Pr]||0,Br=!(D[Pr]||"").match(ye)&&parseFloat(D[Pr])||D[Pr]||0,isNaN(pr)!==isNaN(Br))return isNaN(pr)?1:-1;if(typeof pr!=typeof Br&&(pr+="",Br+=""),pr<Br)return-1;if(pr>Br)return 1}return 0}},340:(de,Ee,Tr)=>{var ue=Tr(9471),Ge=Tr(2992),Lr=Tr(7657),Er=Tr(5583),ce=Tr(1929),ye=Tr(8083),ee=Tr(3818);ee.alea=ue,ee.xor128=Ge,ee.xorwow=Lr,ee.xorshift7=Er,ee.xor4096=ce,ee.tychei=ye,de.exports=ee},9471:function(de,Ee,Tr){var ue;!function(Ge,Lr,Er){function ce(tr){var X=this,D=function Ir(){var tr=4022871197;return function(D){D=String(D);for(var P=0;P<D.length;P++){var q=.02519603282416938*(tr+=D.charCodeAt(P));q-=tr=q>>>0,tr=(q*=tr)>>>0,tr+=4294967296*(q-=tr)}return 2.3283064365386963e-10*(tr>>>0)}}();X.next=function(){var P=2091639*X.s0+2.3283064365386963e-10*X.c;return X.s0=X.s1,X.s1=X.s2,X.s2=P-(X.c=0|P)},X.c=1,X.s0=D(" "),X.s1=D(" "),X.s2=D(" "),X.s0-=D(tr),X.s0<0&&(X.s0+=1),X.s1-=D(tr),X.s1<0&&(X.s1+=1),X.s2-=D(tr),X.s2<0&&(X.s2+=1),D=null}function ye(tr,X){return X.c=tr.c,X.s0=tr.s0,X.s1=tr.s1,X.s2=tr.s2,X}function ee(tr,X){var D=new ce(tr),P=X&&X.state,q=D.next;return q.int32=function(){return 4294967296*D.next()|0},q.double=function(){return q()+11102230246251565e-32*(2097152*q()|0)},q.quick=q,P&&("object"==typeof P&&ye(P,D),q.state=function(){return ye(D,{})}),q}Lr&&Lr.exports?Lr.exports=ee:Tr.amdD&&Tr.amdO?void 0!==(ue=function(){return ee}.call(Ee,Tr,Ee,Lr))&&(Lr.exports=ue):this.alea=ee}(0,de=Tr.nmd(de))},8083:function(de,Ee,Tr){var ue;!function(Ge,Lr,Er){function ce(Ir){var tr=this,X="";tr.next=function(){var P=tr.b,q=tr.c,pr=tr.d,Br=tr.a;return P=P<<25^P>>>7^q,q=q-pr|0,pr=pr<<24^pr>>>8^Br,Br=Br-P|0,tr.b=P=P<<20^P>>>12^q,tr.c=q=q-pr|0,tr.d=pr<<16^q>>>16^Br,tr.a=Br-P|0},tr.a=0,tr.b=0,tr.c=-1640531527,tr.d=1367130551,Ir===Math.floor(Ir)?(tr.a=Ir/4294967296|0,tr.b=0|Ir):X+=Ir;for(var D=0;D<X.length+20;D++)tr.b^=0|X.charCodeAt(D),tr.next()}function ye(Ir,tr){return tr.a=Ir.a,tr.b=Ir.b,tr.c=Ir.c,tr.d=Ir.d,tr}function ee(Ir,tr){var X=new ce(Ir),D=tr&&tr.state,P=function(){return(X.next()>>>0)/4294967296};return P.double=function(){do{var Br=((X.next()>>>11)+(X.next()>>>0)/4294967296)/(1<<21)}while(0===Br);return Br},P.int32=X.next,P.quick=P,D&&("object"==typeof D&&ye(D,X),P.state=function(){return ye(X,{})}),P}Lr&&Lr.exports?Lr.exports=ee:Tr.amdD&&Tr.amdO?void 0!==(ue=function(){return ee}.call(Ee,Tr,Ee,Lr))&&(Lr.exports=ue):this.tychei=ee}(0,de=Tr.nmd(de))},2992:function(de,Ee,Tr){var ue;!function(Ge,Lr,Er){function ce(Ir){var tr=this,X="";tr.x=0,tr.y=0,tr.z=0,tr.w=0,tr.next=function(){var P=tr.x^tr.x<<11;return tr.x=tr.y,tr.y=tr.z,tr.z=tr.w,tr.w^=tr.w>>>19^P^P>>>8},Ir===(0|Ir)?tr.x=Ir:X+=Ir;for(var D=0;D<X.length+64;D++)tr.x^=0|X.charCodeAt(D),tr.next()}function ye(Ir,tr){return tr.x=Ir.x,tr.y=Ir.y,tr.z=Ir.z,tr.w=Ir.w,tr}function ee(Ir,tr){var X=new ce(Ir),D=tr&&tr.state,P=function(){return(X.next()>>>0)/4294967296};return P.double=function(){do{var Br=((X.next()>>>11)+(X.next()>>>0)/4294967296)/(1<<21)}while(0===Br);return Br},P.int32=X.next,P.quick=P,D&&("object"==typeof D&&ye(D,X),P.state=function(){return ye(X,{})}),P}Lr&&Lr.exports?Lr.exports=ee:Tr.amdD&&Tr.amdO?void 0!==(ue=function(){return ee}.call(Ee,Tr,Ee,Lr))&&(Lr.exports=ue):this.xor128=ee}(0,de=Tr.nmd(de))},1929:function(de,Ee,Tr){var ue;!function(Ge,Lr,Er){function ce(Ir){var tr=this;tr.next=function(){var pr,Br,D=tr.w,P=tr.X,q=tr.i;return tr.w=D=D+1640531527|0,Br=P[q+34&127],pr=P[q=q+1&127],Br^=Br<<13,pr^=pr<<17,Br=P[q]=(Br^=Br>>>15)^(pr^=pr>>>12),tr.i=q,Br+(D^D>>>16)|0},function X(D,P){var q,pr,Br,Pr,or,Ar=[],xr=128;for(P===(0|P)?(pr=P,P=null):(P+="\0",pr=0,xr=Math.max(xr,P.length)),Br=0,Pr=-32;Pr<xr;++Pr)P&&(pr^=P.charCodeAt((Pr+32)%P.length)),0===Pr&&(or=pr),pr^=pr<<10,pr^=pr>>>15,pr^=pr<<4,pr^=pr>>>13,Pr>=0&&(Br=0==(q=Ar[127&Pr]^=pr+(or=or+1640531527|0))?Br+1:0);for(Br>=128&&(Ar[127&(P&&P.length||0)]=-1),Br=127,Pr=512;Pr>0;--Pr)pr=Ar[Br+34&127],q=Ar[Br=Br+1&127],pr^=pr<<13,q^=q<<17,Ar[Br]=(pr^=pr>>>15)^(q^=q>>>12);D.w=or,D.X=Ar,D.i=Br}(tr,Ir)}function ye(Ir,tr){return tr.i=Ir.i,tr.w=Ir.w,tr.X=Ir.X.slice(),tr}function ee(Ir,tr){null==Ir&&(Ir=+new Date);var X=new ce(Ir),D=tr&&tr.state,P=function(){return(X.next()>>>0)/4294967296};return P.double=function(){do{var Br=((X.next()>>>11)+(X.next()>>>0)/4294967296)/(1<<21)}while(0===Br);return Br},P.int32=X.next,P.quick=P,D&&(D.X&&ye(D,X),P.state=function(){return ye(X,{})}),P}Lr&&Lr.exports?Lr.exports=ee:Tr.amdD&&Tr.amdO?void 0!==(ue=function(){return ee}.call(Ee,Tr,Ee,Lr))&&(Lr.exports=ue):this.xor4096=ee}(0,de=Tr.nmd(de))},5583:function(de,Ee,Tr){var ue;!function(Ge,Lr,Er){function ce(Ir){var tr=this;tr.next=function(){var q,pr,D=tr.x,P=tr.i;return q=D[P],pr=(q^=q>>>7)^q<<24,pr^=(q=D[P+1&7])^q>>>10,pr^=(q=D[P+3&7])^q>>>3,pr^=(q=D[P+4&7])^q<<7,q=D[P+7&7],D[P]=pr^=(q^=q<<13)^q<<9,tr.i=P+1&7,pr},function X(D,P){var q,Br=[];if(P===(0|P))Br[0]=P;else for(P=""+P,q=0;q<P.length;++q)Br[7&q]=Br[7&q]<<15^P.charCodeAt(q)+Br[q+1&7]<<13;for(;Br.length<8;)Br.push(0);for(q=0;q<8&&0===Br[q];++q);for(8==q&&(Br[7]=-1),D.x=Br,D.i=0,q=256;q>0;--q)D.next()}(tr,Ir)}function ye(Ir,tr){return tr.x=Ir.x.slice(),tr.i=Ir.i,tr}function ee(Ir,tr){null==Ir&&(Ir=+new Date);var X=new ce(Ir),D=tr&&tr.state,P=function(){return(X.next()>>>0)/4294967296};return P.double=function(){do{var Br=((X.next()>>>11)+(X.next()>>>0)/4294967296)/(1<<21)}while(0===Br);return Br},P.int32=X.next,P.quick=P,D&&(D.x&&ye(D,X),P.state=function(){return ye(X,{})}),P}Lr&&Lr.exports?Lr.exports=ee:Tr.amdD&&Tr.amdO?void 0!==(ue=function(){return ee}.call(Ee,Tr,Ee,Lr))&&(Lr.exports=ue):this.xorshift7=ee}(0,de=Tr.nmd(de))},7657:function(de,Ee,Tr){var ue;!function(Ge,Lr,Er){function ce(Ir){var tr=this,X="";tr.next=function(){var P=tr.x^tr.x>>>2;return tr.x=tr.y,tr.y=tr.z,tr.z=tr.w,tr.w=tr.v,(tr.d=tr.d+362437|0)+(tr.v=tr.v^tr.v<<4^P^P<<1)|0},tr.x=0,tr.y=0,tr.z=0,tr.w=0,tr.v=0,Ir===(0|Ir)?tr.x=Ir:X+=Ir;for(var D=0;D<X.length+64;D++)tr.x^=0|X.charCodeAt(D),D==X.length&&(tr.d=tr.x<<10^tr.x>>>4),tr.next()}function ye(Ir,tr){return tr.x=Ir.x,tr.y=Ir.y,tr.z=Ir.z,tr.w=Ir.w,tr.v=Ir.v,tr.d=Ir.d,tr}function ee(Ir,tr){var X=new ce(Ir),D=tr&&tr.state,P=function(){return(X.next()>>>0)/4294967296};return P.double=function(){do{var Br=((X.next()>>>11)+(X.next()>>>0)/4294967296)/(1<<21)}while(0===Br);return Br},P.int32=X.next,P.quick=P,D&&("object"==typeof D&&ye(D,X),P.state=function(){return ye(X,{})}),P}Lr&&Lr.exports?Lr.exports=ee:Tr.amdD&&Tr.amdO?void 0!==(ue=function(){return ee}.call(Ee,Tr,Ee,Lr))&&(Lr.exports=ue):this.xorwow=ee}(0,de=Tr.nmd(de))},3818:function(de,Ee,Tr){var ue;!function(Ge,Lr,Er){var q,ce=256,tr=Er.pow(ce,6),X=Er.pow(2,52),D=2*X,P=255;function pr(Ur,Vr,jr){var _e=[],pe=Ar(or((Vr=1==Vr?{entropy:!0}:Vr||{}).entropy?[Ur,wr(Lr)]:null==Ur?function xr(){try{var Ur;return q&&(Ur=q.randomBytes)?Ur=Ur(ce):(Ur=new Uint8Array(ce),(Ge.crypto||Ge.msCrypto).getRandomValues(Ur)),wr(Ur)}catch(_e){var Vr=Ge.navigator,jr=Vr&&Vr.plugins;return[+new Date,Ge,jr,Ge.screen,wr(Lr)]}}():Ur,3),_e),zr=new Br(_e),Xr=function(){for(var Qr=zr.g(6),Fe=tr,dr=0;Qr<X;)Qr=(Qr+dr)*ce,Fe*=ce,dr=zr.g(1);for(;Qr>=D;)Qr/=2,Fe/=2,dr>>>=1;return(Qr+dr)/Fe};return Xr.int32=function(){return 0|zr.g(4)},Xr.quick=function(){return zr.g(4)/4294967296},Xr.double=Xr,Ar(wr(zr.S),Lr),(Vr.pass||jr||function(Qr,Fe,dr,Ae){return Ae&&(Ae.S&&Pr(Ae,zr),Qr.state=function(){return Pr(zr,{})}),dr?(Er.random=Qr,Fe):Qr})(Xr,pe,"global"in Vr?Vr.global:this==Er,Vr.state)}function Br(Ur){var Vr,jr=Ur.length,_e=this,pe=0,zr=_e.i=_e.j=0,Xr=_e.S=[];for(jr||(Ur=[jr++]);pe<ce;)Xr[pe]=pe++;for(pe=0;pe<ce;pe++)Xr[pe]=Xr[zr=P&zr+Ur[pe%jr]+(Vr=Xr[pe])],Xr[zr]=Vr;(_e.g=function(Qr){for(var Fe,dr=0,Ae=_e.i,Ue=_e.j,ct=_e.S;Qr--;)Fe=ct[Ae=P&Ae+1],dr=dr*ce+ct[P&(ct[Ae]=ct[Ue=P&Ue+Fe])+(ct[Ue]=Fe)];return _e.i=Ae,_e.j=Ue,dr})(ce)}function Pr(Ur,Vr){return Vr.i=Ur.i,Vr.j=Ur.j,Vr.S=Ur.S.slice(),Vr}function or(Ur,Vr){var pe,jr=[],_e=typeof Ur;if(Vr&&"object"==_e)for(pe in Ur)try{jr.push(or(Ur[pe],Vr-1))}catch(zr){}return jr.length?jr:"string"==_e?Ur:Ur+"\0"}function Ar(Ur,Vr){for(var _e,jr=Ur+"",pe=0;pe<jr.length;)Vr[P&pe]=P&(_e^=19*Vr[P&pe])+jr.charCodeAt(pe++);return wr(Vr)}function wr(Ur){return String.fromCharCode.apply(0,Ur)}if(Ar(Er.random(),Lr),de.exports){de.exports=pr;try{q=Tr(5042)}catch(Ur){}}else void 0!==(ue=function(){return pr}.call(Ee,Tr,Ee,de))&&(de.exports=ue)}("undefined"!=typeof self?self:this,[],Math)},1977:function(de,Ee){"use strict";var Tr,Ge;Tr=function(){function Lr(){return!0}function Er(){return!1}function ce(){}return function ye(){var ee=[{name:"number",test:function(rr){return"number"==typeof rr}},{name:"string",test:function(rr){return"string"==typeof rr}},{name:"boolean",test:function(rr){return"boolean"==typeof rr}},{name:"Function",test:function(rr){return"function"==typeof rr}},{name:"Array",test:Array.isArray},{name:"Date",test:function(rr){return rr instanceof Date}},{name:"RegExp",test:function(rr){return rr instanceof RegExp}},{name:"Object",test:function(rr){return"object"==typeof rr&&null!==rr&&rr.constructor===Object}},{name:"null",test:function(rr){return null===rr}},{name:"undefined",test:function(rr){return void 0===rr}}],Ir={name:"any",test:Lr},tr=[],X=[],D={types:ee,conversions:X,ignore:tr};function P(rr){var hr=It(D.types,function(lr){return lr.name===rr});if(hr)return hr;if("any"===rr)return Ir;var gr=It(D.types,function(lr){return lr.name.toLowerCase()===rr.toLowerCase()});throw new TypeError('Unknown type "'+rr+'"'+(gr?'. Did you mean "'+gr.name+'"?':""))}function q(rr){return rr===Ir?999:D.types.indexOf(rr)}function pr(rr){var hr=It(D.types,function(gr){return gr.test(rr)});if(hr)return hr.name;throw new TypeError("Value has unknown type. Value: "+rr)}function or(rr){return rr.map(function(hr){var gr=hr.types.map(zr);return(hr.restParam?"...":"")+gr.join("|")}).join(",")}function Ar(rr,hr){var gr=0===rr.indexOf("..."),Hr=(gr?rr.length>3?rr.slice(3):"any":rr).split("|").map(kt).filter(Et).filter(sr),ie=function Kt(rr,hr){var gr={};return rr.forEach(function(lr){-1===hr.indexOf(lr.from)&&-1!==hr.indexOf(lr.to)&&!gr[lr.from]&&(gr[lr.from]=lr)}),Object.keys(gr).map(function(lr){return gr[lr]})}(hr,Hr),oe=Hr.map(function(Yr){var le=P(Yr);return{name:Yr,typeIndex:q(le),test:le.test,conversion:null,conversionIndex:-1}}),Jr=ie.map(function(Yr){var le=P(Yr.from);return{name:Yr.from,typeIndex:q(le),test:le.test,conversion:Yr,conversionIndex:hr.indexOf(Yr)}});return{types:oe.concat(Jr),restParam:gr}}function wr(rr){var hr=Tt(rr);return!!hr&&hr.restParam}function Ur(rr){return rr.types.some(function(hr){return null!=hr.conversion})}function Vr(rr){if(!rr||0===rr.types.length)return Lr;if(1===rr.types.length)return P(rr.types[0].name).test;if(2===rr.types.length){var hr=P(rr.types[0].name).test,gr=P(rr.types[1].name).test;return function(ie){return hr(ie)||gr(ie)}}var lr=rr.types.map(function(Hr){return P(Hr.name).test});return function(ie){for(var oe=0;oe<lr.length;oe++)if(lr[oe](ie))return!0;return!1}}function jr(rr){var hr,gr,lr;if(wr(rr)){var Hr=(hr=function An(rr){return rr.slice(0,rr.length-1)}(rr).map(Vr)).length,ie=Vr(Tt(rr));return function(Yr){for(var le=0;le<hr.length;le++)if(!hr[le](Yr[le]))return!1;return function(Jr){for(var Yr=Hr;Yr<Jr.length;Yr++)if(!ie(Jr[Yr]))return!1;return!0}(Yr)&&Yr.length>=Hr+1}}return 0===rr.length?function(Yr){return 0===Yr.length}:1===rr.length?(gr=Vr(rr[0]),function(Yr){return gr(Yr[0])&&1===Yr.length}):2===rr.length?(gr=Vr(rr[0]),lr=Vr(rr[1]),function(Yr){return gr(Yr[0])&&lr(Yr[1])&&2===Yr.length}):(hr=rr.map(Vr),function(Yr){for(var le=0;le<hr.length;le++)if(!hr[le](Yr[le]))return!1;return Yr.length===hr.length})}function _e(rr,hr){return hr<rr.params.length?rr.params[hr]:wr(rr.params)?Tt(rr.params):null}function pe(rr,hr,gr){var lr=_e(rr,hr);return(lr?gr?lr.types.filter(Xr):lr.types:[]).map(zr)}function zr(rr){return rr.name}function Xr(rr){return null==rr.conversion}function Qr(rr,hr){var gr=function hn(rr){for(var hr={},gr=0;gr<rr.length;gr++)hr[rr[gr]]=!0;return Object.keys(hr)}(_t(rr,function(lr){return pe(lr,hr,!1)}));return-1!==gr.indexOf("any")?["any"]:gr}function Fe(rr,hr,gr){var lr,Hr,Jr,ie=rr||"unnamed",oe=gr;for(Jr=0;Jr<hr.length;Jr++){var Yr=oe.filter(function(pt){var rn=Vr(_e(pt,Jr));return(Jr<pt.params.length||wr(pt.params))&&rn(hr[Jr])});if(0===Yr.length){if((Hr=Qr(oe,Jr)).length>0){var le=pr(hr[Jr]);return(lr=new TypeError("Unexpected type of argument in function "+ie+" (expected: "+Hr.join(" or ")+", actual: "+le+", index: "+Jr+")")).data={category:"wrongType",fn:ie,index:Jr,actual:le,expected:Hr},lr}}else oe=Yr}var ke=oe.map(function(pt){return wr(pt.params)?1/0:pt.params.length});if(hr.length<Math.min.apply(null,ke))return Hr=Qr(oe,Jr),(lr=new TypeError("Too few arguments in function "+ie+" (expected: "+Hr.join(" or ")+", index: "+hr.length+")")).data={category:"tooFewArgs",fn:ie,index:hr.length,expected:Hr},lr;var ht=Math.max.apply(null,ke);return hr.length>ht?((lr=new TypeError("Too many arguments in function "+ie+" (expected: "+ht+", actual: "+hr.length+")")).data={category:"tooManyArgs",fn:ie,index:hr.length,expectedLength:ht},lr):((lr=new TypeError('Arguments of type "'+hr.join(", ")+'" do not match any of the defined signatures of function '+ie+".")).data={category:"mismatch",actual:hr.map(pr)},lr)}function dr(rr){for(var hr=999,gr=0;gr<rr.types.length;gr++)Xr(rr.types[gr])&&(hr=Math.min(hr,rr.types[gr].typeIndex));return hr}function Ae(rr){for(var hr=999,gr=0;gr<rr.types.length;gr++)Xr(rr.types[gr])||(hr=Math.min(hr,rr.types[gr].conversionIndex));return hr}function Ue(rr,hr){var gr;return 0!=(gr=rr.restParam-hr.restParam)||0!=(gr=Ur(rr)-Ur(hr))||0!=(gr=dr(rr)-dr(hr))?gr:Ae(rr)-Ae(hr)}function ct(rr,hr){var lr,Hr,gr=Math.min(rr.params.length,hr.params.length);if(0!=(Hr=rr.params.some(Ur)-hr.params.some(Ur)))return Hr;for(lr=0;lr<gr;lr++)if(0!=(Hr=Ur(rr.params[lr])-Ur(hr.params[lr])))return Hr;for(lr=0;lr<gr;lr++)if(0!==(Hr=Ue(rr.params[lr],hr.params[lr])))return Hr;return rr.params.length-hr.params.length}function Re(rr){var hr,gr,lr,Hr,ie=[],oe=[];switch(rr.types.forEach(function(Jr){Jr.conversion&&(ie.push(P(Jr.conversion.from).test),oe.push(Jr.conversion.convert))}),oe.length){case 0:return function(Yr){return Yr};case 1:return hr=ie[0],lr=oe[0],function(Yr){return hr(Yr)?lr(Yr):Yr};case 2:return hr=ie[0],gr=ie[1],lr=oe[0],Hr=oe[1],function(Yr){return hr(Yr)?lr(Yr):gr(Yr)?Hr(Yr):Yr};default:return function(Yr){for(var le=0;le<oe.length;le++)if(ie[le](Yr))return oe[le](Yr);return Yr}}}function ot(rr,hr){return function gr(lr,Hr,ie){if(Hr<lr.length){var Yr,oe=lr[Hr],Jr=hr?oe.types.filter(Xr):oe.types;if(oe.restParam){var le=Jr.filter(Xr);Yr=le.length<Jr.length?[le,Jr]:[Jr]}else Yr=Jr.map(function(ht){return[ht]});return _t(Yr,function(ht){return gr(lr,Hr+1,ie.concat([ht]))})}return[ie.map(function(ht,pt){return{types:ht,restParam:pt===lr.length-1&&wr(lr)}})]}(rr,0,[])}function ut(rr,hr){if(0===Object.keys(hr).length)throw new SyntaxError("No signatures provided");var gr=[];Object.keys(hr).map(function(Pe){return function xr(rr,hr,gr){var lr=[];return""!==rr.trim()&&(lr=rr.split(",").map(kt).map(function(Hr,ie,oe){var Jr=Ar(Hr,gr);if(Jr.restParam&&ie!==oe.length-1)throw new SyntaxError('Unexpected rest parameter "'+Hr+'": only allowed for the last parameter');return Jr})),lr.some(jt)?null:{params:lr,fn:hr}}(Pe,hr[Pe],D.conversions)}).filter(ln).forEach(function(Pe){var Xe=It(gr,function(g){return function $t(rr,hr){for(var gr=Math.max(rr.params.length,hr.params.length),lr=0;lr<gr;lr++)if(!mn(pe(rr,lr,!0),pe(hr,lr,!0)))return!1;var oe=rr.params.length,Jr=hr.params.length,Yr=wr(rr.params),le=wr(hr.params);return Yr?le?oe===Jr:Jr>=oe:le?oe>=Jr:oe===Jr}(g,Pe)});if(Xe)throw new TypeError('Conflicting signatures "'+or(Xe.params)+'" and "'+or(Pe.params)+'".');gr.push(Pe)});var lr=_t(gr,function(Pe){return(Pe?ot(Pe.params,!1):[]).map(function(g){return{params:g,fn:Pe.fn}})}).filter(ln);lr.sort(ct);var Hr=lr[0]&&lr[0].params.length<=2&&!wr(lr[0].params),ie=lr[1]&&lr[1].params.length<=2&&!wr(lr[1].params),oe=lr[2]&&lr[2].params.length<=2&&!wr(lr[2].params),Jr=lr[3]&&lr[3].params.length<=2&&!wr(lr[3].params),Yr=lr[4]&&lr[4].params.length<=2&&!wr(lr[4].params),le=lr[5]&&lr[5].params.length<=2&&!wr(lr[5].params),ke=Hr&&ie&&oe&&Jr&&Yr&&le,ht=lr.map(function(Pe){return jr(Pe.params)}),pt=Hr?Vr(lr[0].params[0]):Er,rn=ie?Vr(lr[1].params[0]):Er,Sr=oe?Vr(lr[2].params[0]):Er,en=Jr?Vr(lr[3].params[0]):Er,Ie=Yr?Vr(lr[4].params[0]):Er,xe=le?Vr(lr[5].params[0]):Er,Bt=Hr?Vr(lr[0].params[1]):Er,Lt=ie?Vr(lr[1].params[1]):Er,tn=oe?Vr(lr[2].params[1]):Er,nt=Jr?Vr(lr[3].params[1]):Er,De=Yr?Vr(lr[4].params[1]):Er,fe=le?Vr(lr[5].params[1]):Er,dt=lr.map(function(Pe){return function Hn(rr,hr){var gr=hr;if(rr.some(Ur)){var lr=wr(rr),Hr=rr.map(Re);gr=function(){for(var Yr=[],le=lr?arguments.length-1:arguments.length,ke=0;ke<le;ke++)Yr[ke]=Hr[ke](arguments[ke]);return lr&&(Yr[le]=arguments[le].map(Hr[le])),hr.apply(this,Yr)}}var ie=gr;if(wr(rr)){var oe=rr.length-1;ie=function(){return gr.apply(this,lt(arguments,0,oe).concat([lt(arguments,oe)]))}}return ie}(Pe.params,Pe.fn)}),nn=Hr?dt[0]:ce,Rt=ie?dt[1]:ce,dn=oe?dt[2]:ce,Zt=Jr?dt[3]:ce,Yn=Yr?dt[4]:ce,Sn=le?dt[5]:ce,En=Hr?lr[0].params.length:-1,Wn=ie?lr[1].params.length:-1,Xn=oe?lr[2].params.length:-1,Jn=Jr?lr[3].params.length:-1,Qn=Yr?lr[4].params.length:-1,Kn=le?lr[5].params.length:-1,$n=ke?6:0,kn=lr.length,jn=function(){for(var Xe=$n;Xe<kn;Xe++)if(ht[Xe](arguments))return dt[Xe].apply(this,arguments);throw Fe(rr,arguments,lr)},gn=function Pe(Xe,g){return arguments.length===En&&pt(Xe)&&Bt(g)?nn.apply(Pe,arguments):arguments.length===Wn&&rn(Xe)&&Lt(g)?Rt.apply(Pe,arguments):arguments.length===Xn&&Sr(Xe)&&tn(g)?dn.apply(Pe,arguments):arguments.length===Jn&&en(Xe)&&nt(g)?Zt.apply(Pe,arguments):arguments.length===Qn&&Ie(Xe)&&De(g)?Yn.apply(Pe,arguments):arguments.length===Kn&&xe(Xe)&&fe(g)?Sn.apply(Pe,arguments):jn.apply(Pe,arguments)};try{Object.defineProperty(gn,"name",{value:rr})}catch(Pe){}return gn.signatures=function Kr(rr){var hr={};return rr.forEach(function(gr){gr.params.some(Ur)||ot(gr.params,!0).forEach(function(lr){hr[or(lr)]=gr.fn})}),hr}(lr),gn}function sr(rr){return-1===D.ignore.indexOf(rr)}function kt(rr){return rr.trim()}function Et(rr){return!!rr}function ln(rr){return null!==rr}function jt(rr){return 0===rr.types.length}function Tt(rr){return rr[rr.length-1]}function lt(rr,hr,gr){return Array.prototype.slice.call(rr,hr,gr)}function vn(rr,hr){return-1!==rr.indexOf(hr)}function mn(rr,hr){for(var gr=0;gr<rr.length;gr++)if(vn(hr,rr[gr]))return!0;return!1}function It(rr,hr){for(var gr=0;gr<rr.length;gr++)if(hr(rr[gr]))return rr[gr]}function _t(rr,hr){return Array.prototype.concat.apply([],rr.map(hr))}function Ft(rr){for(var hr="",gr=0;gr<rr.length;gr++){var lr=rr[gr];if(("object"==typeof lr.signatures||"string"==typeof lr.signature)&&""!==lr.name)if(""===hr)hr=lr.name;else if(hr!==lr.name){var Hr=new Error("Function names do not match (expected: "+hr+", actual: "+lr.name+")");throw Hr.data={actual:lr.name,expected:hr},Hr}}return hr}function pn(rr){var hr,gr={};function lr(Jr,Yr){if(gr.hasOwnProperty(Jr)&&Yr!==gr[Jr])throw(hr=new Error('Signature "'+Jr+'" is defined twice')).data={signature:Jr},hr}for(var Hr=0;Hr<rr.length;Hr++){var ie=rr[Hr];if("object"==typeof ie.signatures)for(var oe in ie.signatures)ie.signatures.hasOwnProperty(oe)&&(lr(oe,ie.signatures[oe]),gr[oe]=ie.signatures[oe]);else{if("string"!=typeof ie.signature)throw(hr=new TypeError("Function is no typed-function (index: "+Hr+")")).data={index:Hr},hr;lr(ie.signature,ie),gr[ie.signature]=ie}}return gr}return(D=ut("typed",{"string, Object":ut,Object:function(rr){var hr=[];for(var gr in rr)rr.hasOwnProperty(gr)&&hr.push(rr[gr]);return ut(Ft(hr),rr)},"...Function":function(rr){return ut(Ft(rr),pn(rr))},"string, ...Function":function(rr,hr){return ut(rr,pn(hr))}})).create=ye,D.types=ee,D.conversions=X,D.ignore=tr,D.convert=function Pr(rr,hr){var gr=pr(rr);if(hr===gr)return rr;for(var lr=0;lr<D.conversions.length;lr++){var Hr=D.conversions[lr];if(Hr.from===gr&&Hr.to===hr)return Hr.convert(rr)}throw new Error("Cannot convert from "+gr+" to "+hr)},D.find=function Br(rr,hr){if(!rr.signatures)throw new TypeError("Function is no typed-function");var gr;if("string"==typeof hr){gr=hr.split(",");for(var lr=0;lr<gr.length;lr++)gr[lr]=gr[lr].trim()}else{if(!Array.isArray(hr))throw new TypeError("String array or a comma separated string expected");gr=hr}var Hr=gr.join(","),ie=rr.signatures[Hr];if(ie)return ie;throw new TypeError("Signature not found (signature: "+(rr.name||"unnamed")+"("+gr.join(", ")+"))")},D.addType=function(rr,hr){if(!rr||"string"!=typeof rr.name||"function"!=typeof rr.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==hr)for(var gr=0;gr<D.types.length;gr++)if("Object"===D.types[gr].name)return void D.types.splice(gr,0,rr);D.types.push(rr)},D.addConversion=function(rr){if(!rr||"string"!=typeof rr.from||"string"!=typeof rr.to||"function"!=typeof rr.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");D.conversions.push(rr)},D}()},void 0!==(Ge=Tr.apply(Ee,[]))&&(de.exports=Ge)},5042:()=>{}}]);